var Pm=e=>{throw TypeError(e)};var Zc=(e,t,n)=>t.has(e)||Pm("Cannot "+n);var j=(e,t,n)=>(Zc(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?Pm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(Zc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ne=(e,t,n)=>(Zc(e,t,"access private method"),n);var wi=(e,t,n,r)=>({set _(o){z(e,t,o,n)},get _(){return j(e,t,r)}});function P1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rv={exports:{}},ac={},ov={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),_1=Symbol.for("react.portal"),R1=Symbol.for("react.fragment"),M1=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),O1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),_m=Symbol.iterator;function U1(e){return e===null||typeof e!="object"?null:(e=_m&&e[_m]||e["@@iterator"],typeof e=="function"?e:null)}var sv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},av=Object.assign,iv={};function _s(e,t,n){this.props=e,this.context=t,this.refs=iv,this.updater=n||sv}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lv(){}lv.prototype=_s.prototype;function Pf(e,t,n){this.props=e,this.context=t,this.refs=iv,this.updater=n||sv}var _f=Pf.prototype=new lv;_f.constructor=Pf;av(_f,_s.prototype);_f.isPureReactComponent=!0;var Rm=Array.isArray,cv=Object.prototype.hasOwnProperty,Rf={current:null},uv={key:!0,ref:!0,__self:!0,__source:!0};function dv(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)cv.call(t,r)&&!uv.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:oi,type:e,key:s,ref:i,props:o,_owner:Rf.current}}function W1(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function z1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mm=/\/+/g;function eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z1(""+e.key):t.toString(36)}function Qi(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case oi:case _1:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+eu(i,0):r,Rm(o)?(n="",e!=null&&(n=e.replace(Mm,"$&/")+"/"),Qi(o,t,n,"",function(u){return u})):o!=null&&(Mf(o)&&(o=W1(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Mm,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Rm(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+eu(s,l);i+=Qi(s,t,n,c,o)}else if(c=U1(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+eu(s,l++),i+=Qi(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Si(e,t,n){if(e==null)return e;var r=[],o=0;return Qi(e,r,"","",function(s){return t.call(n,s,o++)}),r}function H1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Yi={transition:null},B1={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Yi,ReactCurrentOwner:Rf};function fv(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=_s;ae.Fragment=R1;ae.Profiler=I1;ae.PureComponent=Pf;ae.StrictMode=M1;ae.Suspense=L1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B1;ae.act=fv;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=av({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Rf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cv.call(t,c)&&!uv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oi,type:e.type,key:o,ref:s,props:r,_owner:i}};ae.createContext=function(e){return e={$$typeof:D1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A1,_context:e},e.Consumer=e};ae.createElement=dv;ae.createFactory=function(e){var t=dv.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:O1,render:e}};ae.isValidElement=Mf;ae.lazy=function(e){return{$$typeof:$1,_payload:{_status:-1,_result:e},_init:H1}};ae.memo=function(e,t){return{$$typeof:F1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Yi.transition;Yi.transition={};try{e()}finally{Yi.transition=t}};ae.unstable_act=fv;ae.useCallback=function(e,t){return ct.current.useCallback(e,t)};ae.useContext=function(e){return ct.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ct.current.useEffect(e,t)};ae.useId=function(){return ct.current.useId()};ae.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ct.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};ae.useRef=function(e){return ct.current.useRef(e)};ae.useState=function(e){return ct.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return ct.current.useTransition()};ae.version="18.3.1";ov.exports=ae;var d=ov.exports;const Nn=nv(d),If=P1({__proto__:null,default:Nn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=d,K1=Symbol.for("react.element"),G1=Symbol.for("react.fragment"),Q1=Object.prototype.hasOwnProperty,Y1=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q1={key:!0,ref:!0,__self:!0,__source:!0};function hv(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Q1.call(t,r)&&!q1.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:K1,type:e,key:s,ref:i,props:o,_owner:Y1.current}}ac.Fragment=G1;ac.jsx=hv;ac.jsxs=hv;rv.exports=ac;var a=rv.exports,mv={exports:{}},Tt={},pv={exports:{}},gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var O=P.length;P.push(T);e:for(;0<O;){var B=O-1>>>1,X=P[B];if(0<o(X,T))P[B]=T,P[O]=X,O=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var T=P[0],O=P.pop();if(O!==T){P[0]=O;e:for(var B=0,X=P.length,Ne=X>>>1;B<Ne;){var J=2*(B+1)-1,ye=P[J],ie=J+1,V=P[ie];if(0>o(ye,O))ie<X&&0>o(V,ye)?(P[B]=V,P[ie]=O,B=ie):(P[B]=ye,P[J]=O,B=J);else if(ie<X&&0>o(V,O))P[B]=V,P[ie]=O,B=ie;else break e}}return T}function o(P,T){var O=P.sortIndex-T.sortIndex;return O!==0?O:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,w=!1,v=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=P)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function b(P){if(g=!1,x(P),!v)if(n(c)!==null)v=!0,F(E);else{var T=n(u);T!==null&&Q(b,T.startTime-P)}}function E(P,T){v=!1,g&&(g=!1,y(k),k=-1),w=!0;var O=m;try{for(x(T),f=n(c);f!==null&&(!(f.expirationTime>T)||P&&!$());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var X=B(f.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),x(T)}else r(c);f=n(c)}if(f!==null)var Ne=!0;else{var J=n(u);J!==null&&Q(b,J.startTime-T),Ne=!1}return Ne}finally{f=null,m=O,w=!1}}var N=!1,C=null,k=-1,_=5,R=-1;function $(){return!(e.unstable_now()-R<_)}function M(){if(C!==null){var P=e.unstable_now();R=P;var T=!0;try{T=C(!0,P)}finally{T?D():(N=!1,C=null)}}else N=!1}var D;if(typeof p=="function")D=function(){p(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,H=A.port2;A.port1.onmessage=M,D=function(){H.postMessage(null)}}else D=function(){S(M,0)};function F(P){C=P,N||(N=!0,D())}function Q(P,T){k=S(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,F(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var O=m;m=T;try{return P()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=m;m=P;try{return T()}finally{m=O}},e.unstable_scheduleCallback=function(P,T,O){var B=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,P={id:h++,callback:T,priorityLevel:P,startTime:O,expirationTime:X,sortIndex:-1},O>B?(P.sortIndex=O,t(u,P),n(c)===null&&P===n(u)&&(g?(y(k),k=-1):g=!0,Q(b,O-B))):(P.sortIndex=X,t(c,P),v||w||(v=!0,F(E))),P},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(P){var T=m;return function(){var O=m;m=T;try{return P.apply(this,arguments)}finally{m=O}}}})(gv);pv.exports=gv;var J1=pv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1=d,kt=J1;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vv=new Set,Na={};function So(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(Na[e]=t,e=0;e<t.length;e++)vv.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,Z1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Im={},Am={};function eE(e){return Yu.call(Am,e)?!0:Yu.call(Im,e)?!1:Z1.test(e)?Am[e]=!0:(Im[e]=!0,!1)}function tE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nE(e,t,n,r){if(t===null||typeof t>"u"||tE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Af=/[\-:]([a-z])/g;function Df(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Af,Df);qe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Af,Df);qe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Af,Df);qe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Of(e,t,n,r){var o=qe.hasOwnProperty(t)?qe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nE(t,n,o,r)&&(n=null),r||o===null?eE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=X1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bi=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),yv=Symbol.for("react.provider"),xv=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=Dm&&e[Dm]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,tu;function na(e){if(tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var nu=!1;function ru(e,t){if(!e||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?na(e):""}function rE(e){switch(e.tag){case 5:return na(e.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function Zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Do:return"Portal";case qu:return"Profiler";case Lf:return"StrictMode";case Ju:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xv:return(e.displayName||"Context")+".Consumer";case yv:return(e._context.displayName||"Context")+".Provider";case Ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $f:return t=e.displayName||null,t!==null?t:Zu(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return Zu(e(t))}catch{}}return null}function oE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zu(t);case 8:return t===Lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sE(e){var t=Sv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=sE(e))}function bv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ed(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Om(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ev(e,t){t=t.checked,t!=null&&Of(e,"checked",t,!1)}function td(e,t){Ev(e,t);var n=jr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nd(e,t.type,n):t.hasOwnProperty("defaultValue")&&nd(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nd(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ra=Array.isArray;function Yo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ra(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jr(n)}}function Cv(e,t){var n=jr(t.value),r=jr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $m(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ci,Nv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aE=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){aE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function kv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function Tv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=kv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var iE=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(e,t){if(t){if(iE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=null;function Uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ld=null,qo=null,Jo=null;function Um(e){if(e=ii(e)){if(typeof ld!="function")throw Error(L(280));var t=e.stateNode;t&&(t=dc(t),ld(e.stateNode,e.type,t))}}function Pv(e){qo?Jo?Jo.push(e):Jo=[e]:qo=e}function _v(){if(qo){var e=qo,t=Jo;if(Jo=qo=null,Um(e),t)for(e=0;e<t.length;e++)Um(t[e])}}function Rv(e,t){return e(t)}function Mv(){}var ou=!1;function Iv(e,t,n){if(ou)return e(t,n);ou=!0;try{return Rv(e,t,n)}finally{ou=!1,(qo!==null||Jo!==null)&&(Mv(),_v())}}function Ta(e,t){var n=e.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var cd=!1;if(Ln)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{cd=!1}function lE(e,t,n,r,o,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var va=!1,gl=null,vl=!1,ud=null,cE={onError:function(e){va=!0,gl=e}};function uE(e,t,n,r,o,s,i,l,c){va=!1,gl=null,lE.apply(cE,arguments)}function dE(e,t,n,r,o,s,i,l,c){if(uE.apply(this,arguments),va){if(va){var u=gl;va=!1,gl=null}else throw Error(L(198));vl||(vl=!0,ud=u)}}function bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wm(e){if(bo(e)!==e)throw Error(L(188))}function fE(e){var t=e.alternate;if(!t){if(t=bo(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Wm(o),e;if(s===r)return Wm(o),t;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Dv(e){return e=fE(e),e!==null?Ov(e):null}function Ov(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ov(e);if(t!==null)return t;e=e.sibling}return null}var Lv=kt.unstable_scheduleCallback,zm=kt.unstable_cancelCallback,hE=kt.unstable_shouldYield,mE=kt.unstable_requestPaint,Ae=kt.unstable_now,pE=kt.unstable_getCurrentPriorityLevel,Wf=kt.unstable_ImmediatePriority,Fv=kt.unstable_UserBlockingPriority,yl=kt.unstable_NormalPriority,gE=kt.unstable_LowPriority,$v=kt.unstable_IdlePriority,ic=null,pn=null;function vE(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ic,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:wE,yE=Math.log,xE=Math.LN2;function wE(e){return e>>>=0,e===0?32:31-(yE(e)/xE|0)|0}var ji=64,Ni=4194304;function oa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=oa(l):(s&=i,s!==0&&(r=oa(s)))}else i=n&~o,i!==0?r=oa(i):s!==0&&(r=oa(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),o=1<<n,r|=e[n],t&=~o;return r}function SE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-en(s),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=SE(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uv(){var e=ji;return ji<<=1,!(ji&4194240)&&(ji=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=n}function EE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-en(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function zf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-en(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ve=0;function Wv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zv,Hf,Hv,Bv,Vv,fd=!1,ki=[],mr=null,pr=null,gr=null,Pa=new Map,_a=new Map,Zn=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(t.pointerId)}}function Ks(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ii(t),t!==null&&Hf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function jE(e,t,n,r,o){switch(t){case"focusin":return mr=Ks(mr,e,t,n,r,o),!0;case"dragenter":return pr=Ks(pr,e,t,n,r,o),!0;case"mouseover":return gr=Ks(gr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Pa.set(s,Ks(Pa.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,_a.set(s,Ks(_a.get(s)||null,e,t,n,r,o)),!0}return!1}function Kv(e){var t=zr(e.target);if(t!==null){var n=bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Av(n),t!==null){e.blockedOn=t,Vv(e.priority,function(){Hv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);id=r,n.target.dispatchEvent(r),id=null}else return t=ii(n),t!==null&&Hf(t),e.blockedOn=n,!1;t.shift()}return!0}function Bm(e,t,n){qi(e)&&n.delete(t)}function NE(){fd=!1,mr!==null&&qi(mr)&&(mr=null),pr!==null&&qi(pr)&&(pr=null),gr!==null&&qi(gr)&&(gr=null),Pa.forEach(Bm),_a.forEach(Bm)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,fd||(fd=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,NE)))}function Ra(e){function t(o){return Gs(o,e)}if(0<ki.length){Gs(ki[0],e);for(var n=1;n<ki.length;n++){var r=ki[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Gs(mr,e),pr!==null&&Gs(pr,e),gr!==null&&Gs(gr,e),Pa.forEach(t),_a.forEach(t),n=0;n<Zn.length;n++)r=Zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)Kv(n),n.blockedOn===null&&Zn.shift()}var Xo=Bn.ReactCurrentBatchConfig,wl=!0;function kE(e,t,n,r){var o=ve,s=Xo.transition;Xo.transition=null;try{ve=1,Bf(e,t,n,r)}finally{ve=o,Xo.transition=s}}function TE(e,t,n,r){var o=ve,s=Xo.transition;Xo.transition=null;try{ve=4,Bf(e,t,n,r)}finally{ve=o,Xo.transition=s}}function Bf(e,t,n,r){if(wl){var o=hd(e,t,n,r);if(o===null)pu(e,t,r,Sl,n),Hm(e,r);else if(jE(o,e,t,n,r))r.stopPropagation();else if(Hm(e,r),t&4&&-1<CE.indexOf(e)){for(;o!==null;){var s=ii(o);if(s!==null&&zv(s),s=hd(e,t,n,r),s===null&&pu(e,t,r,Sl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else pu(e,t,r,null,n)}}var Sl=null;function hd(e,t,n,r){if(Sl=null,e=Uf(r),e=zr(e),e!==null)if(t=bo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sl=e,null}function Gv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pE()){case Wf:return 1;case Fv:return 4;case yl:case gE:return 16;case $v:return 536870912;default:return 16}default:return 16}}var fr=null,Vf=null,Ji=null;function Qv(){if(Ji)return Ji;var e,t=Vf,n=t.length,r,o="value"in fr?fr.value:fr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Ji=o.slice(e,1<r?1-r:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function Vm(){return!1}function Pt(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ti:Vm,this.isPropagationStopped=Vm,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Pt(Rs),ai=Pe({},Rs,{view:0,detail:0}),PE=Pt(ai),au,iu,Qs,lc=Pe({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(au=e.screenX-Qs.screenX,iu=e.screenY-Qs.screenY):iu=au=0,Qs=e),au)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),Km=Pt(lc),_E=Pe({},lc,{dataTransfer:0}),RE=Pt(_E),ME=Pe({},ai,{relatedTarget:0}),lu=Pt(ME),IE=Pe({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),AE=Pt(IE),DE=Pe({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OE=Pt(DE),LE=Pe({},Rs,{data:0}),Gm=Pt(LE),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UE[e])?!!t[e]:!1}function Gf(){return WE}var zE=Pe({},ai,{key:function(e){if(e.key){var t=FE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$E[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HE=Pt(zE),BE=Pe({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Pt(BE),VE=Pe({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),KE=Pt(VE),GE=Pe({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),QE=Pt(GE),YE=Pe({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qE=Pt(YE),JE=[9,13,27,32],Qf=Ln&&"CompositionEvent"in window,ya=null;Ln&&"documentMode"in document&&(ya=document.documentMode);var XE=Ln&&"TextEvent"in window&&!ya,Yv=Ln&&(!Qf||ya&&8<ya&&11>=ya),Ym=" ",qm=!1;function qv(e,t){switch(e){case"keyup":return JE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function ZE(e,t){switch(e){case"compositionend":return Jv(t);case"keypress":return t.which!==32?null:(qm=!0,Ym);case"textInput":return e=t.data,e===Ym&&qm?null:e;default:return null}}function eC(e,t){if(Lo)return e==="compositionend"||!Qf&&qv(e,t)?(e=Qv(),Ji=Vf=fr=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yv&&t.locale!=="ko"?null:t.data;default:return null}}var tC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tC[e.type]:t==="textarea"}function Xv(e,t,n,r){Pv(r),t=bl(t,"onChange"),0<t.length&&(n=new Kf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xa=null,Ma=null;function nC(e){cy(e,0)}function cc(e){var t=Uo(e);if(bv(t))return e}function rC(e,t){if(e==="change")return t}var Zv=!1;if(Ln){var cu;if(Ln){var uu="oninput"in document;if(!uu){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),uu=typeof Xm.oninput=="function"}cu=uu}else cu=!1;Zv=cu&&(!document.documentMode||9<document.documentMode)}function Zm(){xa&&(xa.detachEvent("onpropertychange",ey),Ma=xa=null)}function ey(e){if(e.propertyName==="value"&&cc(Ma)){var t=[];Xv(t,Ma,e,Uf(e)),Iv(nC,t)}}function oC(e,t,n){e==="focusin"?(Zm(),xa=t,Ma=n,xa.attachEvent("onpropertychange",ey)):e==="focusout"&&Zm()}function sC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Ma)}function aC(e,t){if(e==="click")return cc(t)}function iC(e,t){if(e==="input"||e==="change")return cc(t)}function lC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:lC;function Ia(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Yu.call(t,o)||!rn(e[o],t[o]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,t){var n=ep(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function ty(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ty(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ny(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function Yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cC(e){var t=ny(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ty(n.ownerDocument.documentElement,n)){if(r!==null&&Yf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=tp(n,s);var i=tp(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uC=Ln&&"documentMode"in document&&11>=document.documentMode,Fo=null,md=null,wa=null,pd=!1;function np(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pd||Fo==null||Fo!==pl(r)||(r=Fo,"selectionStart"in r&&Yf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Ia(wa,r)||(wa=r,r=bl(md,"onSelect"),0<r.length&&(t=new Kf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fo)))}function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $o={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},du={},ry={};Ln&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function uc(e){if(du[e])return du[e];if(!$o[e])return e;var t=$o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ry)return du[e]=t[n];return e}var oy=uc("animationend"),sy=uc("animationiteration"),ay=uc("animationstart"),iy=uc("transitionend"),ly=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){ly.set(e,t),So(t,[e])}for(var fu=0;fu<rp.length;fu++){var hu=rp[fu],dC=hu.toLowerCase(),fC=hu[0].toUpperCase()+hu.slice(1);_r(dC,"on"+fC)}_r(oy,"onAnimationEnd");_r(sy,"onAnimationIteration");_r(ay,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(iy,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hC=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function op(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dE(r,t,void 0,e),e.currentTarget=null}function cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;op(o,l,u),s=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;op(o,l,u),s=c}}}if(vl)throw e=ud,vl=!1,ud=null,e}function Ee(e,t){var n=t[wd];n===void 0&&(n=t[wd]=new Set);var r=e+"__bubble";n.has(r)||(uy(t,e,2,!1),n.add(r))}function mu(e,t,n){var r=0;t&&(r|=4),uy(n,e,r,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function Aa(e){if(!e[_i]){e[_i]=!0,vv.forEach(function(n){n!=="selectionchange"&&(hC.has(n)||mu(n,!1,e),mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,mu("selectionchange",!1,t))}}function uy(e,t,n,r){switch(Gv(t)){case 1:var o=kE;break;case 4:o=TE;break;default:o=Bf}n=o.bind(null,t,n,e),o=void 0,!cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pu(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=zr(l),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Iv(function(){var u=s,h=Uf(n),f=[];e:{var m=ly.get(e);if(m!==void 0){var w=Kf,v=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":w=HE;break;case"focusin":v="focus",w=lu;break;case"focusout":v="blur",w=lu;break;case"beforeblur":case"afterblur":w=lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=KE;break;case oy:case sy:case ay:w=AE;break;case iy:w=QE;break;case"scroll":w=PE;break;case"wheel":w=qE;break;case"copy":case"cut":case"paste":w=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Qm}var g=(t&4)!==0,S=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var p=u,x;p!==null;){x=p;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=Ta(p,y),b!=null&&g.push(Da(p,b,x)))),S)break;p=p.return}0<g.length&&(m=new w(m,v,null,n,h),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==id&&(v=n.relatedTarget||n.fromElement)&&(zr(v)||v[Fn]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=u,v=v?zr(v):null,v!==null&&(S=bo(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=u),w!==v)){if(g=Km,b="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Qm,b="onPointerLeave",y="onPointerEnter",p="pointer"),S=w==null?m:Uo(w),x=v==null?m:Uo(v),m=new g(b,p+"leave",w,n,h),m.target=S,m.relatedTarget=x,b=null,zr(h)===u&&(g=new g(y,p+"enter",v,n,h),g.target=x,g.relatedTarget=S,b=g),S=b,w&&v)t:{for(g=w,y=v,p=0,x=g;x;x=_o(x))p++;for(x=0,b=y;b;b=_o(b))x++;for(;0<p-x;)g=_o(g),p--;for(;0<x-p;)y=_o(y),x--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=_o(g),y=_o(y)}g=null}else g=null;w!==null&&sp(f,m,w,g,!1),v!==null&&S!==null&&sp(f,S,v,g,!0)}}e:{if(m=u?Uo(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var E=rC;else if(Jm(m))if(Zv)E=iC;else{E=sC;var N=oC}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=aC);if(E&&(E=E(e,u))){Xv(f,E,n,h);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&nd(m,"number",m.value)}switch(N=u?Uo(u):window,e){case"focusin":(Jm(N)||N.contentEditable==="true")&&(Fo=N,md=u,wa=null);break;case"focusout":wa=md=Fo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,np(f,n,h);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":np(f,n,h)}var C;if(Qf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lo?qv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Yv&&n.locale!=="ko"&&(Lo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lo&&(C=Qv()):(fr=h,Vf="value"in fr?fr.value:fr.textContent,Lo=!0)),N=bl(u,k),0<N.length&&(k=new Gm(k,e,null,n,h),f.push({event:k,listeners:N}),C?k.data=C:(C=Jv(n),C!==null&&(k.data=C)))),(C=XE?ZE(e,n):eC(e,n))&&(u=bl(u,"onBeforeInput"),0<u.length&&(h=new Gm("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}cy(f,t)})}function Da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ta(e,n),s!=null&&r.unshift(Da(e,s,o)),s=Ta(e,t),s!=null&&r.push(Da(e,s,o))),e=e.return}return r}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sp(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,o?(c=Ta(n,s),c!=null&&i.unshift(Da(n,c,l))):o||(c=Ta(n,s),c!=null&&i.push(Da(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var mC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(mC,`
`).replace(pC,"")}function Ri(e,t,n){if(t=ap(t),ap(e)!==t&&n)throw Error(L(425))}function El(){}var gd=null,vd=null;function yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,gC=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(e){return ip.resolve(null).then(e).catch(yC)}:xd;function yC(e){setTimeout(function(){throw e})}function gu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ra(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ra(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ms,Oa="__reactProps$"+Ms,Fn="__reactContainer$"+Ms,wd="__reactEvents$"+Ms,xC="__reactListeners$"+Ms,wC="__reactHandles$"+Ms;function zr(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lp(e);e!==null;){if(n=e[hn])return n;e=lp(e)}return t}e=n,n=e.parentNode}return null}function ii(e){return e=e[hn]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function dc(e){return e[Oa]||null}var Sd=[],Wo=-1;function Rr(e){return{current:e}}function Ce(e){0>Wo||(e.current=Sd[Wo],Sd[Wo]=null,Wo--)}function Se(e,t){Wo++,Sd[Wo]=e.current,e.current=t}var Nr={},rt=Rr(Nr),xt=Rr(!1),ro=Nr;function xs(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wt(e){return e=e.childContextTypes,e!=null}function Cl(){Ce(xt),Ce(rt)}function cp(e,t,n){if(rt.current!==Nr)throw Error(L(168));Se(rt,t),Se(xt,n)}function dy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(L(108,oE(e)||"Unknown",o));return Pe({},n,r)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ro=rt.current,Se(rt,e),Se(xt,xt.current),!0}function up(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=dy(e,t,ro),r.__reactInternalMemoizedMergedChildContext=e,Ce(xt),Ce(rt),Se(rt,e)):Ce(xt),Se(xt,n)}var Tn=null,fc=!1,vu=!1;function fy(e){Tn===null?Tn=[e]:Tn.push(e)}function SC(e){fc=!0,fy(e)}function Mr(){if(!vu&&Tn!==null){vu=!0;var e=0,t=ve;try{var n=Tn;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tn=null,fc=!1}catch(o){throw Tn!==null&&(Tn=Tn.slice(e+1)),Lv(Wf,Mr),o}finally{ve=t,vu=!1}}return null}var zo=[],Ho=0,Nl=null,kl=0,Ot=[],Lt=0,oo=null,Rn=1,Mn="";function Fr(e,t){zo[Ho++]=kl,zo[Ho++]=Nl,Nl=e,kl=t}function hy(e,t,n){Ot[Lt++]=Rn,Ot[Lt++]=Mn,Ot[Lt++]=oo,oo=e;var r=Rn;e=Mn;var o=32-en(r)-1;r&=~(1<<o),n+=1;var s=32-en(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Rn=1<<32-en(t)+o|n<<o|r,Mn=s+e}else Rn=1<<s|n<<o|r,Mn=e}function qf(e){e.return!==null&&(Fr(e,1),hy(e,1,0))}function Jf(e){for(;e===Nl;)Nl=zo[--Ho],zo[Ho]=null,kl=zo[--Ho],zo[Ho]=null;for(;e===oo;)oo=Ot[--Lt],Ot[Lt]=null,Mn=Ot[--Lt],Ot[Lt]=null,Rn=Ot[--Lt],Ot[Lt]=null}var jt=null,Ct=null,je=!1,Jt=null;function my(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Ct=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oo!==null?{id:Rn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,Ct=null,!0):!1;default:return!1}}function bd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ed(e){if(je){var t=Ct;if(t){var n=t;if(!dp(e,t)){if(bd(e))throw Error(L(418));t=vr(n.nextSibling);var r=jt;t&&dp(e,t)?my(r,n):(e.flags=e.flags&-4097|2,je=!1,jt=e)}}else{if(bd(e))throw Error(L(418));e.flags=e.flags&-4097|2,je=!1,jt=e}}}function fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Mi(e){if(e!==jt)return!1;if(!je)return fp(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yd(e.type,e.memoizedProps)),t&&(t=Ct)){if(bd(e))throw py(),Error(L(418));for(;t;)my(e,t),t=vr(t.nextSibling)}if(fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=jt?vr(e.stateNode.nextSibling):null;return!0}function py(){for(var e=Ct;e;)e=vr(e.nextSibling)}function ws(){Ct=jt=null,je=!1}function Xf(e){Jt===null?Jt=[e]:Jt.push(e)}var bC=Bn.ReactCurrentBatchConfig;function Ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Ii(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hp(e){var t=e._init;return t(e._payload)}function gy(e){function t(y,p){if(e){var x=y.deletions;x===null?(y.deletions=[p],y.flags|=16):x.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function o(y,p){return y=Sr(y,p),y.index=0,y.sibling=null,y}function s(y,p,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<p?(y.flags|=2,p):x):(y.flags|=2,p)):(y.flags|=1048576,p)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,x,b){return p===null||p.tag!==6?(p=Cu(x,y.mode,b),p.return=y,p):(p=o(p,x),p.return=y,p)}function c(y,p,x,b){var E=x.type;return E===Oo?h(y,p,x.props.children,b,x.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jn&&hp(E)===p.type)?(b=o(p,x.props),b.ref=Ys(y,p,x),b.return=y,b):(b=sl(x.type,x.key,x.props,null,y.mode,b),b.ref=Ys(y,p,x),b.return=y,b)}function u(y,p,x,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=ju(x,y.mode,b),p.return=y,p):(p=o(p,x.children||[]),p.return=y,p)}function h(y,p,x,b,E){return p===null||p.tag!==7?(p=eo(x,y.mode,b,E),p.return=y,p):(p=o(p,x),p.return=y,p)}function f(y,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Cu(""+p,y.mode,x),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bi:return x=sl(p.type,p.key,p.props,null,y.mode,x),x.ref=Ys(y,null,p),x.return=y,x;case Do:return p=ju(p,y.mode,x),p.return=y,p;case Jn:var b=p._init;return f(y,b(p._payload),x)}if(ra(p)||Bs(p))return p=eo(p,y.mode,x,null),p.return=y,p;Ii(y,p)}return null}function m(y,p,x,b){var E=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(y,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bi:return x.key===E?c(y,p,x,b):null;case Do:return x.key===E?u(y,p,x,b):null;case Jn:return E=x._init,m(y,p,E(x._payload),b)}if(ra(x)||Bs(x))return E!==null?null:h(y,p,x,b,null);Ii(y,x)}return null}function w(y,p,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,l(p,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bi:return y=y.get(b.key===null?x:b.key)||null,c(p,y,b,E);case Do:return y=y.get(b.key===null?x:b.key)||null,u(p,y,b,E);case Jn:var N=b._init;return w(y,p,x,N(b._payload),E)}if(ra(b)||Bs(b))return y=y.get(x)||null,h(p,y,b,E,null);Ii(p,b)}return null}function v(y,p,x,b){for(var E=null,N=null,C=p,k=p=0,_=null;C!==null&&k<x.length;k++){C.index>k?(_=C,C=null):_=C.sibling;var R=m(y,C,x[k],b);if(R===null){C===null&&(C=_);break}e&&C&&R.alternate===null&&t(y,C),p=s(R,p,k),N===null?E=R:N.sibling=R,N=R,C=_}if(k===x.length)return n(y,C),je&&Fr(y,k),E;if(C===null){for(;k<x.length;k++)C=f(y,x[k],b),C!==null&&(p=s(C,p,k),N===null?E=C:N.sibling=C,N=C);return je&&Fr(y,k),E}for(C=r(y,C);k<x.length;k++)_=w(C,y,k,x[k],b),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),p=s(_,p,k),N===null?E=_:N.sibling=_,N=_);return e&&C.forEach(function($){return t(y,$)}),je&&Fr(y,k),E}function g(y,p,x,b){var E=Bs(x);if(typeof E!="function")throw Error(L(150));if(x=E.call(x),x==null)throw Error(L(151));for(var N=E=null,C=p,k=p=0,_=null,R=x.next();C!==null&&!R.done;k++,R=x.next()){C.index>k?(_=C,C=null):_=C.sibling;var $=m(y,C,R.value,b);if($===null){C===null&&(C=_);break}e&&C&&$.alternate===null&&t(y,C),p=s($,p,k),N===null?E=$:N.sibling=$,N=$,C=_}if(R.done)return n(y,C),je&&Fr(y,k),E;if(C===null){for(;!R.done;k++,R=x.next())R=f(y,R.value,b),R!==null&&(p=s(R,p,k),N===null?E=R:N.sibling=R,N=R);return je&&Fr(y,k),E}for(C=r(y,C);!R.done;k++,R=x.next())R=w(C,y,k,R.value,b),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?k:R.key),p=s(R,p,k),N===null?E=R:N.sibling=R,N=R);return e&&C.forEach(function(M){return t(y,M)}),je&&Fr(y,k),E}function S(y,p,x,b){if(typeof x=="object"&&x!==null&&x.type===Oo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bi:e:{for(var E=x.key,N=p;N!==null;){if(N.key===E){if(E=x.type,E===Oo){if(N.tag===7){n(y,N.sibling),p=o(N,x.props.children),p.return=y,y=p;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jn&&hp(E)===N.type){n(y,N.sibling),p=o(N,x.props),p.ref=Ys(y,N,x),p.return=y,y=p;break e}n(y,N);break}else t(y,N);N=N.sibling}x.type===Oo?(p=eo(x.props.children,y.mode,b,x.key),p.return=y,y=p):(b=sl(x.type,x.key,x.props,null,y.mode,b),b.ref=Ys(y,p,x),b.return=y,y=b)}return i(y);case Do:e:{for(N=x.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(y,p.sibling),p=o(p,x.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=ju(x,y.mode,b),p.return=y,y=p}return i(y);case Jn:return N=x._init,S(y,p,N(x._payload),b)}if(ra(x))return v(y,p,x,b);if(Bs(x))return g(y,p,x,b);Ii(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(y,p.sibling),p=o(p,x),p.return=y,y=p):(n(y,p),p=Cu(x,y.mode,b),p.return=y,y=p),i(y)):n(y,p)}return S}var Ss=gy(!0),vy=gy(!1),Tl=Rr(null),Pl=null,Bo=null,Zf=null;function eh(){Zf=Bo=Pl=null}function th(e){var t=Tl.current;Ce(Tl),e._currentValue=t}function Cd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zo(e,t){Pl=e,Zf=Bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Zf!==e)if(e={context:e,memoizedValue:t,next:null},Bo===null){if(Pl===null)throw Error(L(308));Bo=e,Pl.dependencies={lanes:0,firstContext:e}}else Bo=Bo.next=e;return t}var Hr=null;function nh(e){Hr===null?Hr=[e]:Hr.push(e)}function yy(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nh(t)):(n.next=o.next,o.next=n),t.interleaved=n,$n(e,r)}function $n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xn=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$n(e,n)}return o=r.interleaved,o===null?(t.next=t,nh(r)):(t.next=o.next,o.next=t),r.interleaved=t,$n(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zf(e,n)}}function mp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,r){var o=e.updateQueue;Xn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,h=u=c=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,w=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(w,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(w,f,m):v,m==null)break e;f=Pe({},f,m);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=w,c=f):h=h.next=w,i|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(h===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ao|=i,e.lanes=i,e.memoizedState=f}}function pp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(L(191,o));o.call(r)}}}var li={},gn=Rr(li),La=Rr(li),Fa=Rr(li);function Br(e){if(e===li)throw Error(L(174));return e}function oh(e,t){switch(Se(Fa,t),Se(La,e),Se(gn,li),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:od(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=od(t,e)}Ce(gn),Se(gn,t)}function bs(){Ce(gn),Ce(La),Ce(Fa)}function wy(e){Br(Fa.current);var t=Br(gn.current),n=od(t,e.type);t!==n&&(Se(La,e),Se(gn,n))}function sh(e){La.current===e&&(Ce(gn),Ce(La))}var ke=Rr(0);function Rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function ah(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var el=Bn.ReactCurrentDispatcher,xu=Bn.ReactCurrentBatchConfig,so=0,Te=null,Le=null,ze=null,Ml=!1,Sa=!1,$a=0,EC=0;function Je(){throw Error(L(321))}function ih(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function lh(e,t,n,r,o,s){if(so=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?kC:TC,e=n(r,o),Sa){s=0;do{if(Sa=!1,$a=0,25<=s)throw Error(L(301));s+=1,ze=Le=null,t.updateQueue=null,el.current=PC,e=n(r,o)}while(Sa)}if(el.current=Il,t=Le!==null&&Le.next!==null,so=0,ze=Le=Te=null,Ml=!1,t)throw Error(L(300));return e}function ch(){var e=$a!==0;return $a=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Te.memoizedState=ze=e:ze=ze.next=e,ze}function zt(){if(Le===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ze===null?Te.memoizedState:ze.next;if(t!==null)ze=t,Le=e;else{if(e===null)throw Error(L(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Te.memoizedState=ze=e:ze=ze.next=e}return ze}function Ua(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=zt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Le,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,c=null,u=s;do{var h=u.lane;if((so&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Te.lanes|=h,ao|=h}u=u.next}while(u!==null&&u!==s);c===null?i=r:c.next=l,rn(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Te.lanes|=s,ao|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=zt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);rn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sy(){}function by(e,t){var n=Te,r=zt(),o=t(),s=!rn(r.memoizedState,o);if(s&&(r.memoizedState=o,vt=!0),r=r.queue,uh(jy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Wa(9,Cy.bind(null,n,r,o,t),void 0,null),Be===null)throw Error(L(349));so&30||Ey(n,t,o)}return o}function Ey(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cy(e,t,n,r){t.value=n,t.getSnapshot=r,Ny(t)&&ky(e)}function jy(e,t,n){return n(function(){Ny(t)&&ky(e)})}function Ny(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function ky(e){var t=$n(e,1);t!==null&&tn(t,e,1,-1)}function gp(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t.queue=e,e=e.dispatch=NC.bind(null,Te,e),[t.memoizedState,e]}function Wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ty(){return zt().memoizedState}function tl(e,t,n,r){var o=cn();Te.flags|=e,o.memoizedState=Wa(1|t,n,void 0,r===void 0?null:r)}function hc(e,t,n,r){var o=zt();r=r===void 0?null:r;var s=void 0;if(Le!==null){var i=Le.memoizedState;if(s=i.destroy,r!==null&&ih(r,i.deps)){o.memoizedState=Wa(t,n,s,r);return}}Te.flags|=e,o.memoizedState=Wa(1|t,n,s,r)}function vp(e,t){return tl(8390656,8,e,t)}function uh(e,t){return hc(2048,8,e,t)}function Py(e,t){return hc(4,2,e,t)}function _y(e,t){return hc(4,4,e,t)}function Ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function My(e,t,n){return n=n!=null?n.concat([e]):null,hc(4,4,Ry.bind(null,t,e),n)}function dh(){}function Iy(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ih(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ay(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ih(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dy(e,t,n){return so&21?(rn(n,t)||(n=Uv(),Te.lanes|=n,ao|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function CC(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=xu.transition;xu.transition={};try{e(!1),t()}finally{ve=n,xu.transition=r}}function Oy(){return zt().memoizedState}function jC(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ly(e))Fy(t,n);else if(n=yy(e,t,n,r),n!==null){var o=lt();tn(n,e,r,o),$y(n,t,r)}}function NC(e,t,n){var r=wr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ly(e))Fy(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,rn(l,i)){var c=t.interleaved;c===null?(o.next=o,nh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=yy(e,t,o,r),n!==null&&(o=lt(),tn(n,e,r,o),$y(n,t,r))}}function Ly(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Fy(e,t){Sa=Ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $y(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zf(e,n)}}var Il={readContext:Wt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},kC={readContext:Wt,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:vp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tl(4194308,4,Ry.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var n=cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jC.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:gp,useDebugValue:dh,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=gp(!1),t=e[0];return e=CC.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,o=cn();if(je){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Be===null)throw Error(L(349));so&30||Ey(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,vp(jy.bind(null,r,s,e),[e]),r.flags|=2048,Wa(9,Cy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=cn(),t=Be.identifierPrefix;if(je){var n=Mn,r=Rn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$a++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=EC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TC={readContext:Wt,useCallback:Iy,useContext:Wt,useEffect:uh,useImperativeHandle:My,useInsertionEffect:Py,useLayoutEffect:_y,useMemo:Ay,useReducer:wu,useRef:Ty,useState:function(){return wu(Ua)},useDebugValue:dh,useDeferredValue:function(e){var t=zt();return Dy(t,Le.memoizedState,e)},useTransition:function(){var e=wu(Ua)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:by,useId:Oy,unstable_isNewReconciler:!1},PC={readContext:Wt,useCallback:Iy,useContext:Wt,useEffect:uh,useImperativeHandle:My,useInsertionEffect:Py,useLayoutEffect:_y,useMemo:Ay,useReducer:Su,useRef:Ty,useState:function(){return Su(Ua)},useDebugValue:dh,useDeferredValue:function(e){var t=zt();return Le===null?t.memoizedState=e:Dy(t,Le.memoizedState,e)},useTransition:function(){var e=Su(Ua)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:by,useId:Oy,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mc={isMounted:function(e){return(e=e._reactInternals)?bo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),o=wr(e),s=In(r,o);s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,o),t!==null&&(tn(t,e,o,r),Zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),o=wr(e),s=In(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,o),t!==null&&(tn(t,e,o,r),Zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=wr(e),o=In(n,r);o.tag=2,t!=null&&(o.callback=t),t=yr(e,o,r),t!==null&&(tn(t,e,r,n),Zi(t,e,r))}};function yp(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(o,s):!0}function Uy(e,t,n){var r=!1,o=Nr,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(o=wt(t)?ro:rt.current,r=t.contextTypes,s=(r=r!=null)?xs(e,o):Nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function xp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function Nd(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Wt(s):(s=wt(t)?ro:rt.current,o.context=xs(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(jd(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mc.enqueueReplaceState(o,o.state,null),_l(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,t){try{var n="",r=t;do n+=rE(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function bu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _C=typeof WeakMap=="function"?WeakMap:Map;function Wy(e,t,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dl||(Dl=!0,Ld=r),kd(e,t)},n}function zy(e,t,n){n=In(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){kd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kd(e,t),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function wp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _C;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=BC.bind(null,e,t,n),t.then(e,e))}function Sp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=In(-1,1),t.tag=2,yr(n,t,1))),n.lanes|=1),e)}var RC=Bn.ReactCurrentOwner,vt=!1;function it(e,t,n,r){t.child=e===null?vy(t,null,n,r):Ss(t,e.child,n,r)}function Ep(e,t,n,r,o){n=n.render;var s=t.ref;return Zo(t,o),r=lh(e,t,n,r,s,o),n=ch(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Un(e,t,o)):(je&&n&&qf(t),t.flags|=1,it(e,t,r,o),t.child)}function Cp(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!xh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Hy(e,t,s,r,o)):(e=sl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(i,r)&&e.ref===t.ref)return Un(e,t,o)}return t.flags|=1,e=Sr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ia(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Un(e,t,o)}return Td(e,t,n,r,o)}function By(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ko,bt),bt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ko,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Ko,bt),bt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(Ko,bt),bt|=r;return it(e,t,o,n),t.child}function Vy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Td(e,t,n,r,o){var s=wt(n)?ro:rt.current;return s=xs(t,s),Zo(t,o),n=lh(e,t,n,r,s,o),r=ch(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Un(e,t,o)):(je&&r&&qf(t),t.flags|=1,it(e,t,n,o),t.child)}function jp(e,t,n,r,o){if(wt(n)){var s=!0;jl(t)}else s=!1;if(Zo(t,o),t.stateNode===null)nl(e,t),Uy(t,n,r),Nd(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=wt(n)?ro:rt.current,u=xs(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&xp(t,i,r,u),Xn=!1;var m=t.memoizedState;i.state=m,_l(t,r,i,o),c=t.memoizedState,l!==r||m!==c||xt.current||Xn?(typeof h=="function"&&(jd(t,n,h,r),c=t.memoizedState),(l=Xn||yp(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,xy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gt(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=wt(n)?ro:rt.current,c=xs(t,c));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&xp(t,i,r,c),Xn=!1,m=t.memoizedState,i.state=m,_l(t,r,i,o);var v=t.memoizedState;l!==f||m!==v||xt.current||Xn?(typeof w=="function"&&(jd(t,n,w,r),v=t.memoizedState),(u=Xn||yp(t,n,u,r,m,v,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Pd(e,t,n,r,s,o)}function Pd(e,t,n,r,o,s){Vy(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&up(t,n,!1),Un(e,t,s);r=t.stateNode,RC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,l,s)):it(e,t,l,s),t.memoizedState=r.state,o&&up(t,n,!0),t.child}function Ky(e){var t=e.stateNode;t.pendingContext?cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cp(e,t.context,!1),oh(e,t.containerInfo)}function Np(e,t,n,r,o){return ws(),Xf(o),t.flags|=256,it(e,t,n,r),t.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gy(e,t,n){var r=t.pendingProps,o=ke.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Se(ke,o&1),e===null)return Ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=vc(i,r,0,null),e=eo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rd(n),t.memoizedState=_d,e):fh(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return MC(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Sr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Sr(l,s):(s=eo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Rd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=_d,r}return s=e.child,e=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fh(e,t){return t=vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,r){return r!==null&&Xf(r),Ss(t,e.child,null,n),e=fh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MC(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=bu(Error(L(422))),Ai(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=vc({mode:"visible",children:r.children},o,0,null),s=eo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ss(t,e.child,null,i),t.child.memoizedState=Rd(i),t.memoizedState=_d,s);if(!(t.mode&1))return Ai(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(L(419)),r=bu(s,r,void 0),Ai(e,t,i,r)}if(l=(i&e.childLanes)!==0,vt||l){if(r=Be,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,$n(e,o),tn(r,e,o,-1))}return yh(),r=bu(Error(L(421))),Ai(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=VC.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ct=vr(o.nextSibling),jt=t,je=!0,Jt=null,e!==null&&(Ot[Lt++]=Rn,Ot[Lt++]=Mn,Ot[Lt++]=oo,Rn=e.id,Mn=e.overflow,oo=t),t=fh(t,r.children),t.flags|=4096,t)}function kp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cd(e.return,t,n)}function Eu(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Qy(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(it(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,n,t);else if(e.tag===19)kp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(ke,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Rl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Eu(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Rl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Eu(t,!0,n,null,s);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ao|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IC(e,t,n){switch(t.tag){case 3:Ky(t),ws();break;case 5:wy(t);break;case 1:wt(t.type)&&jl(t);break;case 4:oh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Se(Tl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Gy(e,t,n):(Se(ke,ke.current&1),e=Un(e,t,n),e!==null?e.sibling:null);Se(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Se(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,By(e,t,n)}return Un(e,t,n)}var Yy,Md,qy,Jy;Yy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Md=function(){};qy=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Br(gn.current);var s=null;switch(n){case"input":o=ed(e,o),r=ed(e,r),s=[];break;case"select":o=Pe({},o,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":o=rd(e,o),r=rd(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}sd(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ee("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Jy=function(e,t,n,r){n!==r&&(t.flags|=4)};function qs(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AC(e,t,n){var r=t.pendingProps;switch(Jf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return wt(t.type)&&Cl(),Xe(t),null;case 3:return r=t.stateNode,bs(),Ce(xt),Ce(rt),ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Ud(Jt),Jt=null))),Md(e,t),Xe(t),null;case 5:sh(t);var o=Br(Fa.current);if(n=t.type,e!==null&&t.stateNode!=null)qy(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Xe(t),null}if(e=Br(gn.current),Mi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hn]=t,r[Oa]=s,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(o=0;o<sa.length;o++)Ee(sa[o],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Om(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":Fm(r,s),Ee("invalid",r)}sd(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),o=["children",""+l]):Na.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Ei(r),Lm(r,s,!0);break;case"textarea":Ei(r),$m(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=El)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[hn]=t,e[Oa]=r,Yy(e,t,!1,!1),t.stateNode=e;e:{switch(i=ad(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),o=r;break;case"iframe":case"object":case"embed":Ee("load",e),o=r;break;case"video":case"audio":for(o=0;o<sa.length;o++)Ee(sa[o],e);o=r;break;case"source":Ee("error",e),o=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),o=r;break;case"details":Ee("toggle",e),o=r;break;case"input":Om(e,r),o=ed(e,r),Ee("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Pe({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":Fm(e,r),o=rd(e,r),Ee("invalid",e);break;default:o=r}sd(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Tv(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nv(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ka(e,c):typeof c=="number"&&ka(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ee("scroll",e):c!=null&&Of(e,s,c,i))}switch(n){case"input":Ei(e),Lm(e,r,!1);break;case"textarea":Ei(e),$m(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Jy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Br(Fa.current),Br(gn.current),Mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(s=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return Xe(t),null;case 13:if(Ce(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Ct!==null&&t.mode&1&&!(t.flags&128))py(),ws(),t.flags|=98560,s=!1;else if(s=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[hn]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),s=!1}else Jt!==null&&(Ud(Jt),Jt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?$e===0&&($e=3):yh())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return bs(),Md(e,t),e===null&&Aa(t.stateNode.containerInfo),Xe(t),null;case 10:return th(t.type._context),Xe(t),null;case 17:return wt(t.type)&&Cl(),Xe(t),null;case 19:if(Ce(ke),s=t.memoizedState,s===null)return Xe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)qs(s,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rl(e),i!==null){for(t.flags|=128,qs(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(ke,ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>Cs&&(t.flags|=128,r=!0,qs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Rl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!je)return Xe(t),null}else 2*Ae()-s.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,qs(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,n=ke.current,Se(ke,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return vh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function DC(e,t){switch(Jf(t),t.tag){case 1:return wt(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),Ce(xt),Ce(rt),ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sh(t),null;case 13:if(Ce(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(ke),null;case 4:return bs(),null;case 10:return th(t.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Di=!1,tt=!1,OC=typeof WeakSet=="function"?WeakSet:Set,K=null;function Vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Id(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Tp=!1;function LC(e,t){if(gd=wl,e=ny(),Yf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var w;f!==n||o!==0&&f.nodeType!==3||(l=i+o),f!==s||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===e)break t;if(m===n&&++u===o&&(l=i),m===s&&++h===r&&(c=i),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:e,selectionRange:n},wl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,S=v.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gt(t.type,g),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){Re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return v=Tp,Tp=!1,v}function ba(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Id(t,n,s)}o=o.next}while(o!==r)}}function pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ad(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xy(e){var t=e.alternate;t!==null&&(e.alternate=null,Xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Oa],delete t[wd],delete t[xC],delete t[wC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zy(e){return e.tag===5||e.tag===3||e.tag===4}function Pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(Dd(e,t,n),e=e.sibling;e!==null;)Dd(e,t,n),e=e.sibling}function Od(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Od(e,t,n),e=e.sibling;e!==null;)Od(e,t,n),e=e.sibling}var Ke=null,qt=!1;function Vn(e,t,n){for(n=n.child;n!==null;)ex(e,t,n),n=n.sibling}function ex(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 5:tt||Vo(n,t);case 6:var r=Ke,o=qt;Ke=null,Vn(e,t,n),Ke=r,qt=o,Ke!==null&&(qt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(qt?(e=Ke,n=n.stateNode,e.nodeType===8?gu(e.parentNode,n):e.nodeType===1&&gu(e,n),Ra(e)):gu(Ke,n.stateNode));break;case 4:r=Ke,o=qt,Ke=n.stateNode.containerInfo,qt=!0,Vn(e,t,n),Ke=r,qt=o;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Id(n,t,i),o=o.next}while(o!==r)}Vn(e,t,n);break;case 1:if(!tt&&(Vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,t,l)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Vn(e,t,n),tt=r):Vn(e,t,n);break;default:Vn(e,t,n)}}function _p(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OC),t.forEach(function(r){var o=KC.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,qt=!1;break e;case 3:Ke=l.stateNode.containerInfo,qt=!0;break e;case 4:Ke=l.stateNode.containerInfo,qt=!0;break e}l=l.return}if(Ke===null)throw Error(L(160));ex(s,i,o),Ke=null,qt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Re(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tx(t,e),t=t.sibling}function tx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),ln(e),r&4){try{ba(3,e,e.return),pc(3,e)}catch(g){Re(e,e.return,g)}try{ba(5,e,e.return)}catch(g){Re(e,e.return,g)}}break;case 1:Vt(t,e),ln(e),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Vt(t,e),ln(e),r&512&&n!==null&&Vo(n,n.return),e.flags&32){var o=e.stateNode;try{ka(o,"")}catch(g){Re(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ev(o,s),ad(l,i);var u=ad(l,s);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?Tv(o,f):h==="dangerouslySetInnerHTML"?Nv(o,f):h==="children"?ka(o,f):Of(o,h,f,u)}switch(l){case"input":td(o,s);break;case"textarea":Cv(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Yo(o,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?Yo(o,!!s.multiple,s.defaultValue,!0):Yo(o,!!s.multiple,s.multiple?[]:"",!1))}o[Oa]=s}catch(g){Re(e,e.return,g)}}break;case 6:if(Vt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(L(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Re(e,e.return,g)}}break;case 3:if(Vt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(g){Re(e,e.return,g)}break;case 4:Vt(t,e),ln(e);break;case 13:Vt(t,e),ln(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ph=Ae())),r&4&&_p(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||h,Vt(t,e),tt=u):Vt(t,e),ln(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(K=e,h=e.child;h!==null;){for(f=K=h;K!==null;){switch(m=K,w=m.child,m.tag){case 0:case 11:case 14:case 15:ba(4,m,m.return);break;case 1:Vo(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Re(r,n,g)}}break;case 5:Vo(m,m.return);break;case 22:if(m.memoizedState!==null){Mp(f);continue}}w!==null?(w.return=m,K=w):Mp(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{o=f.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kv("display",i))}catch(g){Re(e,e.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Re(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vt(t,e),ln(e),r&4&&_p(e);break;case 21:break;default:Vt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zy(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ka(o,""),r.flags&=-33);var s=Pp(e);Od(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Pp(e);Dd(e,l,i);break;default:throw Error(L(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FC(e,t,n){K=e,nx(e)}function nx(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var o=K,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Di;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||tt;l=Di;var u=tt;if(Di=i,(tt=c)&&!u)for(K=o;K!==null;)i=K,c=i.child,i.tag===22&&i.memoizedState!==null?Ip(o):c!==null?(c.return=i,K=c):Ip(o);for(;s!==null;)K=s,nx(s),s=s.sibling;K=o,Di=l,tt=u}Rp(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,K=s):Rp(e)}}function Rp(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||pc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&pp(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pp(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ra(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}tt||t.flags&512&&Ad(t)}catch(m){Re(t,t.return,m)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Mp(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Ip(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pc(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Re(t,o,c)}}var s=t.return;try{Ad(t)}catch(c){Re(t,s,c)}break;case 5:var i=t.return;try{Ad(t)}catch(c){Re(t,i,c)}}}catch(c){Re(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var $C=Math.ceil,Al=Bn.ReactCurrentDispatcher,hh=Bn.ReactCurrentOwner,$t=Bn.ReactCurrentBatchConfig,ce=0,Be=null,Oe=null,Ye=0,bt=0,Ko=Rr(0),$e=0,za=null,ao=0,gc=0,mh=0,Ea=null,gt=null,ph=0,Cs=1/0,kn=null,Dl=!1,Ld=null,xr=null,Oi=!1,hr=null,Ol=0,Ca=0,Fd=null,rl=-1,ol=0;function lt(){return ce&6?Ae():rl!==-1?rl:rl=Ae()}function wr(e){return e.mode&1?ce&2&&Ye!==0?Ye&-Ye:bC.transition!==null?(ol===0&&(ol=Uv()),ol):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Gv(e.type)),e):1}function tn(e,t,n,r){if(50<Ca)throw Ca=0,Fd=null,Error(L(185));si(e,n,r),(!(ce&2)||e!==Be)&&(e===Be&&(!(ce&2)&&(gc|=n),$e===4&&er(e,Ye)),St(e,r),n===1&&ce===0&&!(t.mode&1)&&(Cs=Ae()+500,fc&&Mr()))}function St(e,t){var n=e.callbackNode;bE(e,t);var r=xl(e,e===Be?Ye:0);if(r===0)n!==null&&zm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zm(n),t===1)e.tag===0?SC(Ap.bind(null,e)):fy(Ap.bind(null,e)),vC(function(){!(ce&6)&&Mr()}),n=null;else{switch(Wv(r)){case 1:n=Wf;break;case 4:n=Fv;break;case 16:n=yl;break;case 536870912:n=$v;break;default:n=yl}n=ux(n,rx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rx(e,t){if(rl=-1,ol=0,ce&6)throw Error(L(327));var n=e.callbackNode;if(es()&&e.callbackNode!==n)return null;var r=xl(e,e===Be?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ll(e,r);else{t=r;var o=ce;ce|=2;var s=sx();(Be!==e||Ye!==t)&&(kn=null,Cs=Ae()+500,Zr(e,t));do try{zC();break}catch(l){ox(e,l)}while(!0);eh(),Al.current=s,ce=o,Oe!==null?t=0:(Be=null,Ye=0,t=$e)}if(t!==0){if(t===2&&(o=dd(e),o!==0&&(r=o,t=$d(e,o))),t===1)throw n=za,Zr(e,0),er(e,r),St(e,Ae()),n;if(t===6)er(e,r);else{if(o=e.current.alternate,!(r&30)&&!UC(o)&&(t=Ll(e,r),t===2&&(s=dd(e),s!==0&&(r=s,t=$d(e,s))),t===1))throw n=za,Zr(e,0),er(e,r),St(e,Ae()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:$r(e,gt,kn);break;case 3:if(er(e,r),(r&130023424)===r&&(t=ph+500-Ae(),10<t)){if(xl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xd($r.bind(null,e,gt,kn),t);break}$r(e,gt,kn);break;case 4:if(er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-en(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$C(r/1960))-r,10<r){e.timeoutHandle=xd($r.bind(null,e,gt,kn),r);break}$r(e,gt,kn);break;case 5:$r(e,gt,kn);break;default:throw Error(L(329))}}}return St(e,Ae()),e.callbackNode===n?rx.bind(null,e):null}function $d(e,t){var n=Ea;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Ll(e,t),e!==2&&(t=gt,gt=n,t!==null&&Ud(t)),e}function Ud(e){gt===null?gt=e:gt.push.apply(gt,e)}function UC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!rn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~mh,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function Ap(e){if(ce&6)throw Error(L(327));es();var t=xl(e,0);if(!(t&1))return St(e,Ae()),null;var n=Ll(e,t);if(e.tag!==0&&n===2){var r=dd(e);r!==0&&(t=r,n=$d(e,r))}if(n===1)throw n=za,Zr(e,0),er(e,t),St(e,Ae()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,gt,kn),St(e,Ae()),null}function gh(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Cs=Ae()+500,fc&&Mr())}}function io(e){hr!==null&&hr.tag===0&&!(ce&6)&&es();var t=ce;ce|=1;var n=$t.transition,r=ve;try{if($t.transition=null,ve=1,e)return e()}finally{ve=r,$t.transition=n,ce=t,!(ce&6)&&Mr()}}function vh(){bt=Ko.current,Ce(Ko)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gC(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:bs(),Ce(xt),Ce(rt),ah();break;case 5:sh(r);break;case 4:bs();break;case 13:Ce(ke);break;case 19:Ce(ke);break;case 10:th(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Be=e,Oe=e=Sr(e.current,null),Ye=bt=t,$e=0,za=null,mh=gc=ao=0,gt=Ea=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Hr=null}return e}function ox(e,t){do{var n=Oe;try{if(eh(),el.current=Il,Ml){for(var r=Te.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ml=!1}if(so=0,ze=Le=Te=null,Sa=!1,$a=0,hh.current=null,n===null||n.return===null){$e=1,za=t,Oe=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Sp(i);if(w!==null){w.flags&=-257,bp(w,i,l,s,t),w.mode&1&&wp(s,u,t),t=w,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){wp(s,u,t),yh();break e}c=Error(L(426))}}else if(je&&l.mode&1){var S=Sp(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bp(S,i,l,s,t),Xf(Es(c,l));break e}}s=c=Es(c,l),$e!==4&&($e=2),Ea===null?Ea=[s]:Ea.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Wy(s,c,t);mp(s,y);break e;case 1:l=c;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xr===null||!xr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=zy(s,l,t);mp(s,b);break e}}s=s.return}while(s!==null)}ix(n)}catch(E){t=E,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function sx(){var e=Al.current;return Al.current=Il,e===null?Il:e}function yh(){($e===0||$e===3||$e===2)&&($e=4),Be===null||!(ao&268435455)&&!(gc&268435455)||er(Be,Ye)}function Ll(e,t){var n=ce;ce|=2;var r=sx();(Be!==e||Ye!==t)&&(kn=null,Zr(e,t));do try{WC();break}catch(o){ox(e,o)}while(!0);if(eh(),ce=n,Al.current=r,Oe!==null)throw Error(L(261));return Be=null,Ye=0,$e}function WC(){for(;Oe!==null;)ax(Oe)}function zC(){for(;Oe!==null&&!hE();)ax(Oe)}function ax(e){var t=cx(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?ix(e):Oe=t,hh.current=null}function ix(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DC(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Oe=null;return}}else if(n=AC(n,t,bt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);$e===0&&($e=5)}function $r(e,t,n){var r=ve,o=$t.transition;try{$t.transition=null,ve=1,HC(e,t,n,r)}finally{$t.transition=o,ve=r}return null}function HC(e,t,n,r){do es();while(hr!==null);if(ce&6)throw Error(L(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(EE(e,s),e===Be&&(Oe=Be=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oi||(Oi=!0,ux(yl,function(){return es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var i=ve;ve=1;var l=ce;ce|=4,hh.current=null,LC(e,n),tx(n,e),cC(vd),wl=!!gd,vd=gd=null,e.current=n,FC(n),mE(),ce=l,ve=i,$t.transition=s}else e.current=n;if(Oi&&(Oi=!1,hr=e,Ol=o),s=e.pendingLanes,s===0&&(xr=null),vE(n.stateNode),St(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Dl)throw Dl=!1,e=Ld,Ld=null,e;return Ol&1&&e.tag!==0&&es(),s=e.pendingLanes,s&1?e===Fd?Ca++:(Ca=0,Fd=e):Ca=0,Mr(),null}function es(){if(hr!==null){var e=Wv(Ol),t=$t.transition,n=ve;try{if($t.transition=null,ve=16>e?16:e,hr===null)var r=!1;else{if(e=hr,hr=null,Ol=0,ce&6)throw Error(L(331));var o=ce;for(ce|=4,K=e.current;K!==null;){var s=K,i=s.child;if(K.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:ba(8,h,s)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var m=h.sibling,w=h.return;if(Xy(h),h===u){K=null;break}if(m!==null){m.return=w,K=m;break}K=w}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}K=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,K=i;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ba(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,K=y;break e}K=s.return}}var p=e.current;for(K=p;K!==null;){i=K;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,K=x;else e:for(i=p;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pc(9,l)}}catch(E){Re(l,l.return,E)}if(l===i){K=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,K=b;break e}K=l.return}}if(ce=o,Mr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ic,e)}catch{}r=!0}return r}finally{ve=n,$t.transition=t}}return!1}function Dp(e,t,n){t=Es(n,t),t=Wy(e,t,1),e=yr(e,t,1),t=lt(),e!==null&&(si(e,1,t),St(e,t))}function Re(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){e=Es(n,e),e=zy(t,e,1),t=yr(t,e,1),e=lt(),t!==null&&(si(t,1,e),St(t,e));break}}t=t.return}}function BC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ye&n)===n&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Ae()-ph?Zr(e,0):mh|=n),St(e,t)}function lx(e,t){t===0&&(e.mode&1?(t=Ni,Ni<<=1,!(Ni&130023424)&&(Ni=4194304)):t=1);var n=lt();e=$n(e,t),e!==null&&(si(e,t,n),St(e,n))}function VC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lx(e,n)}function KC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),lx(e,n)}var cx;cx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,IC(e,t,n);vt=!!(e.flags&131072)}else vt=!1,je&&t.flags&1048576&&hy(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nl(e,t),e=t.pendingProps;var o=xs(t,rt.current);Zo(t,n),o=lh(null,t,r,e,o,n);var s=ch();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(s=!0,jl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rh(t),o.updater=mc,t.stateNode=o,o._reactInternals=t,Nd(t,r,e,n),t=Pd(null,t,r,!0,s,n)):(t.tag=0,je&&s&&qf(t),it(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=QC(r),e=Gt(r,e),o){case 0:t=Td(null,t,r,e,n);break e;case 1:t=jp(null,t,r,e,n);break e;case 11:t=Ep(null,t,r,e,n);break e;case 14:t=Cp(null,t,r,Gt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Gt(r,o),Td(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Gt(r,o),jp(e,t,r,o,n);case 3:e:{if(Ky(t),e===null)throw Error(L(387));r=t.pendingProps,s=t.memoizedState,o=s.element,xy(e,t),_l(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Es(Error(L(423)),t),t=Np(e,t,r,n,o);break e}else if(r!==o){o=Es(Error(L(424)),t),t=Np(e,t,r,n,o);break e}else for(Ct=vr(t.stateNode.containerInfo.firstChild),jt=t,je=!0,Jt=null,n=vy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===o){t=Un(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return wy(t),e===null&&Ed(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,yd(r,o)?i=null:s!==null&&yd(r,s)&&(t.flags|=32),Vy(e,t),it(e,t,i,n),t.child;case 6:return e===null&&Ed(t),null;case 13:return Gy(e,t,n);case 4:return oh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ss(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Gt(r,o),Ep(e,t,r,o,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Se(Tl,r._currentValue),r._currentValue=i,s!==null)if(rn(s.value,i)){if(s.children===o.children&&!xt.current){t=Un(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=In(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Cd(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(L(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cd(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}it(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Zo(t,n),o=Wt(o),r=r(o),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,o=Gt(r,t.pendingProps),o=Gt(r.type,o),Cp(e,t,r,o,n);case 15:return Hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Gt(r,o),nl(e,t),t.tag=1,wt(r)?(e=!0,jl(t)):e=!1,Zo(t,n),Uy(t,r,o),Nd(t,r,o,n),Pd(null,t,r,!0,e,n);case 19:return Qy(e,t,n);case 22:return By(e,t,n)}throw Error(L(156,t.tag))};function ux(e,t){return Lv(e,t)}function GC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new GC(e,t,n,r)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QC(e){if(typeof e=="function")return xh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ff)return 11;if(e===$f)return 14}return 2}function Sr(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")xh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Oo:return eo(n.children,o,s,t);case Lf:i=8,o|=8;break;case qu:return e=Ft(12,n,t,o|2),e.elementType=qu,e.lanes=s,e;case Ju:return e=Ft(13,n,t,o),e.elementType=Ju,e.lanes=s,e;case Xu:return e=Ft(19,n,t,o),e.elementType=Xu,e.lanes=s,e;case wv:return vc(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yv:i=10;break e;case xv:i=9;break e;case Ff:i=11;break e;case $f:i=14;break e;case Jn:i=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ft(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function eo(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function vc(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=wv,e.lanes=n,e.stateNode={isHidden:!1},e}function Cu(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function ju(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YC(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wh(e,t,n,r,o,s,i,l,c){return e=new YC(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ft(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(s),e}function qC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dx(e){if(!e)return Nr;e=e._reactInternals;e:{if(bo(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(wt(n))return dy(e,n,t)}return t}function fx(e,t,n,r,o,s,i,l,c){return e=wh(n,r,!0,e,o,s,i,l,c),e.context=dx(null),n=e.current,r=lt(),o=wr(n),s=In(r,o),s.callback=t??null,yr(n,s,o),e.current.lanes=o,si(e,o,r),St(e,r),e}function yc(e,t,n,r){var o=t.current,s=lt(),i=wr(o);return n=dx(n),t.context===null?t.context=n:t.pendingContext=n,t=In(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yr(o,t,i),e!==null&&(tn(e,o,i,s),Zi(e,o,i)),i}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sh(e,t){Op(e,t),(e=e.alternate)&&Op(e,t)}function JC(){return null}var hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function bh(e){this._internalRoot=e}xc.prototype.render=bh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));yc(e,t,null,null)};xc.prototype.unmount=bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;io(function(){yc(null,e,null,null)}),t[Fn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&Kv(e)}};function Eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function XC(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Fl(i);s.call(u)}}var i=fx(t,r,e,0,null,!1,!1,"",Lp);return e._reactRootContainer=i,e[Fn]=i.current,Aa(e.nodeType===8?e.parentNode:e),io(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Fl(c);l.call(u)}}var c=wh(e,0,!1,null,null,!1,!1,"",Lp);return e._reactRootContainer=c,e[Fn]=c.current,Aa(e.nodeType===8?e.parentNode:e),io(function(){yc(t,c,n,r)}),c}function Sc(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var c=Fl(i);l.call(c)}}yc(t,i,e,o)}else i=XC(n,t,e,o,r);return Fl(i)}zv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oa(t.pendingLanes);n!==0&&(zf(t,n|1),St(t,Ae()),!(ce&6)&&(Cs=Ae()+500,Mr()))}break;case 13:io(function(){var r=$n(e,1);if(r!==null){var o=lt();tn(r,e,1,o)}}),Sh(e,1)}};Hf=function(e){if(e.tag===13){var t=$n(e,134217728);if(t!==null){var n=lt();tn(t,e,134217728,n)}Sh(e,134217728)}};Hv=function(e){if(e.tag===13){var t=wr(e),n=$n(e,t);if(n!==null){var r=lt();tn(n,e,t,r)}Sh(e,t)}};Bv=function(){return ve};Vv=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};ld=function(e,t,n){switch(t){case"input":if(td(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=dc(r);if(!o)throw Error(L(90));bv(r),td(r,o)}}}break;case"textarea":Cv(e,n);break;case"select":t=n.value,t!=null&&Yo(e,!!n.multiple,t,!1)}};Rv=gh;Mv=io;var ZC={usingClientEntryPoint:!1,Events:[ii,Uo,dc,Pv,_v,gh]},Js={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ej={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dv(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||JC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{ic=Li.inject(ej),pn=Li}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZC;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(t))throw Error(L(200));return qC(e,t,null,n)};Tt.createRoot=function(e,t){if(!Eh(e))throw Error(L(299));var n=!1,r="",o=hx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wh(e,1,!1,null,null,n,!1,r,o),e[Fn]=t.current,Aa(e.nodeType===8?e.parentNode:e),new bh(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Dv(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return io(e)};Tt.hydrate=function(e,t,n){if(!wc(t))throw Error(L(200));return Sc(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Eh(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=hx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=fx(t,null,e,1,n??null,o,!1,s,i),e[Fn]=t.current,Aa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new xc(t)};Tt.render=function(e,t,n){if(!wc(t))throw Error(L(200));return Sc(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!wc(e))throw Error(L(40));return e._reactRootContainer?(io(function(){Sc(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};Tt.unstable_batchedUpdates=gh;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wc(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Sc(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(e){console.error(e)}}mx(),mv.exports=Tt;var Eo=mv.exports;const tj=nv(Eo);var px,Fp=Eo;px=Fp.createRoot,Fp.hydrateRoot;function nj(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],l="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)n=o[0],n==="*"?(i.push(n),l+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+o.substring(s))):l+="/"+o;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var gx={exports:{}},vx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=d;function rj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oj=typeof Object.is=="function"?Object.is:rj,sj=js.useState,aj=js.useEffect,ij=js.useLayoutEffect,lj=js.useDebugValue;function cj(e,t){var n=t(),r=sj({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return ij(function(){o.value=n,o.getSnapshot=t,Nu(o)&&s({inst:o})},[e,n,t]),aj(function(){return Nu(o)&&s({inst:o}),e(function(){Nu(o)&&s({inst:o})})},[e]),lj(n),n}function Nu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oj(e,n)}catch{return!0}}function uj(e,t){return t()}var dj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uj:cj;vx.useSyncExternalStore=js.useSyncExternalStore!==void 0?js.useSyncExternalStore:dj;gx.exports=vx;var fj=gx.exports;const hj=If.useInsertionEffect,mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yx=mj?d.useLayoutEffect:d.useEffect,pj=hj||yx,Ch=e=>{const t=d.useRef([e,(...n)=>t[0](...n)]).current;return pj(()=>{t[0]=e}),t[1]},gj="popstate",jh="pushState",Nh="replaceState",vj="hashchange",$p=[gj,jh,Nh,vj],yj=e=>{for(const t of $p)addEventListener(t,e);return()=>{for(const t of $p)removeEventListener(t,e)}},xx=(e,t)=>fj.useSyncExternalStore(yj,e,t),xj=()=>location.search,wj=({ssrSearch:e=""}={})=>xx(xj,()=>e),Up=()=>location.pathname,Sj=({ssrPath:e}={})=>xx(Up,e?()=>e:Up),bj=(e,{replace:t=!1,state:n=null}={})=>history[t?Nh:jh](n,"",e),Ej=(e={})=>[Sj(e),bj],Wp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Wp]>"u"){for(const e of[jh,Nh]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Wp,{value:!0})}const Cj=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",wx=(e="")=>e==="/"?"":e,jj=(e,t)=>e[0]==="~"?e.slice(1):wx(t)+e,Nj=(e="",t)=>Cj(zp(wx(e)),zp(t)),zp=e=>{try{return decodeURI(e)}catch{return e}},Sx={hook:Ej,searchHook:wj,parser:nj,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},bx=d.createContext(Sx),Is=()=>d.useContext(bx),Ex={},Cx=d.createContext(Ex),kj=()=>d.useContext(Cx),ci=e=>{const[t,n]=e.hook(e);return[Nj(e.base,t),Ch((r,o)=>n(jj(r,e.base),o))]},Co=()=>ci(Is()),jx=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):i.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[l]:[]]:[!1,null]},Tj=({children:e,...t})=>{var h,f;const n=Is(),r=t.hook?Sx:n;let o=r;const[s,i]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=d.useRef({}),c=l.current,u=c;for(let m in r){const w=m==="base"?r[m]+(t[m]||""):t[m]||r[m];c===u&&w!==u[m]&&(l.current=u={...u}),u[m]=w,w!==r[m]&&(o=u)}return d.createElement(bx.Provider,{value:o,children:e})},Hp=({children:e,component:t},n)=>t?d.createElement(t,{params:n}):typeof e=="function"?e(n):e,Pj=e=>{let t=d.useRef(Ex);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,o])=>o!==n[r])?e:n},tr=({path:e,nest:t,match:n,...r})=>{const o=Is(),[s]=ci(o),[i,l,c]=n??jx(o.parser,e,s,t),u=Pj({...kj(),...l});if(!i)return null;const h=c?d.createElement(Tj,{base:c},Hp(r,u)):Hp(r,u);return d.createElement(Cx.Provider,{value:u,children:h})};d.forwardRef((e,t)=>{const n=Is(),[r,o]=ci(n),{to:s="",href:i=s,onClick:l,asChild:c,children:u,className:h,replace:f,state:m,...w}=e,v=Ch(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l==null||l(S),S.defaultPrevented||(S.preventDefault(),o(i,e)))}),g=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return c&&d.isValidElement(u)?d.cloneElement(u,{onClick:v,href:g}):d.createElement("a",{...w,onClick:v,href:g,className:h!=null&&h.call?h(r===i):h,children:u,ref:t})});const Nx=e=>Array.isArray(e)?e.flatMap(t=>Nx(t&&t.type===d.Fragment?t.props.children:t)):[e],_j=({children:e,location:t})=>{const n=Is(),[r]=ci(n);for(const o of Nx(e)){let s=0;if(d.isValidElement(o)&&(s=jx(n.parser,o.props.path,t||r,o.props.nest))[0])return d.cloneElement(o,{match:s})}return null},Rj=e=>{const{to:t,href:n=t}=e,r=Is(),[,o]=ci(r),s=Ch(()=>o(t||n,e)),{ssrContext:i}=r;return yx(()=>{s()},[]),i&&(i.redirectTo=t),null};var As=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lo=typeof window>"u"||"Deno"in globalThis;function Dt(){}function Mj(e,t){return typeof e=="function"?e(t):e}function Wd(e){return typeof e=="number"&&e>=0&&e!==1/0}function kx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ts(e,t){return typeof e=="function"?e(t):e}function Xt(e,t){return typeof e=="function"?e(t):e}function Bp(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==kh(i,t.options))return!1}else if(!Ha(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||s&&!s(t))}function Vp(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(co(t.options.mutationKey)!==co(s))return!1}else if(!Ha(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function kh(e,t){return((t==null?void 0:t.queryKeyHashFn)||co)(e)}function co(e){return JSON.stringify(e,(t,n)=>zd(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ha(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ha(e[n],t[n])):!1}function Tx(e,t){if(e===t)return e;const n=Kp(e)&&Kp(t);if(n||zd(e)&&zd(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const h=n?u:s[u];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Tx(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return o===i&&c===o?e:l}return t}function $l(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Kp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zd(e){if(!Gp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gp(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ij(e){return new Promise(t=>{setTimeout(t,e)})}function Hd(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Tx(e,t):t}function Aj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Dj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Th=Symbol();function Px(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Th?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Vr,nr,ss,Kg,Oj=(Kg=class extends As{constructor(){super();q(this,Vr);q(this,nr);q(this,ss);z(this,ss,t=>{if(!lo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,nr)||this.setEventListener(j(this,ss))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,nr))==null||t.call(this),z(this,nr,void 0))}setEventListener(t){var n;z(this,ss,t),(n=j(this,nr))==null||n.call(this),z(this,nr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,Vr)!==t&&(z(this,Vr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,Vr)=="boolean"?j(this,Vr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vr=new WeakMap,nr=new WeakMap,ss=new WeakMap,Kg),Ph=new Oj,as,rr,is,Gg,Lj=(Gg=class extends As{constructor(){super();q(this,as,!0);q(this,rr);q(this,is);z(this,is,t=>{if(!lo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,rr)||this.setEventListener(j(this,is))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,rr))==null||t.call(this),z(this,rr,void 0))}setEventListener(t){var n;z(this,is,t),(n=j(this,rr))==null||n.call(this),z(this,rr,t(this.setOnline.bind(this)))}setOnline(t){j(this,as)!==t&&(z(this,as,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,as)}},as=new WeakMap,rr=new WeakMap,is=new WeakMap,Gg),Ul=new Lj;function Bd(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function Fj(e){return Math.min(1e3*2**e,3e4)}function _x(e){return(e??"online")==="online"?Ul.isOnline():!0}var Rx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ku(e){return e instanceof Rx}function Mx(e){let t=!1,n=0,r=!1,o;const s=Bd(),i=g=>{var S;r||(m(new Rx(g)),(S=e.abort)==null||S.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ph.isFocused()&&(e.networkMode==="always"||Ul.isOnline())&&e.canRun(),h=()=>_x(e.networkMode)&&e.canRun(),f=g=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,g),o==null||o(),s.resolve(g))},m=g=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,g),o==null||o(),s.reject(g))},w=()=>new Promise(g=>{var S;o=y=>{(r||u())&&g(y)},(S=e.onPause)==null||S.call(e)}).then(()=>{var g;o=void 0,r||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(r)return;let g;const S=n===0?e.initialPromise:void 0;try{g=S??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(r)return;const p=e.retry??(lo?0:3),x=e.retryDelay??Fj,b=typeof x=="function"?x(n,y):x,E=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(t||!E){m(y);return}n++,(N=e.onFail)==null||N.call(e,n,y),Ij(b).then(()=>u()?void 0:w()).then(()=>{t?m(y):v()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():w().then(v),s)}}var $j=e=>setTimeout(e,0);function Uj(){let e=[],t=0,n=l=>{l()},r=l=>{l()},o=$j;const s=l=>{t?e.push(l):o(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{o=l}}}var Fe=Uj(),Kr,Qg,Ix=(Qg=class{constructor(){q(this,Kr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wd(this.gcTime)&&z(this,Kr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lo?1/0:5*60*1e3))}clearGcTimeout(){j(this,Kr)&&(clearTimeout(j(this,Kr)),z(this,Kr,void 0))}},Kr=new WeakMap,Qg),ls,cs,At,Gr,Ze,ei,Qr,Qt,jn,Yg,Wj=(Yg=class extends Ix{constructor(t){super();q(this,Qt);q(this,ls);q(this,cs);q(this,At);q(this,Gr);q(this,Ze);q(this,ei);q(this,Qr);z(this,Qr,!1),z(this,ei,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,Gr,t.client),z(this,At,j(this,Gr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,ls,zj(this.options)),this.state=t.state??j(this,ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Ze))==null?void 0:t.promise}setOptions(t){this.options={...j(this,ei),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,At).remove(this)}setData(t,n){const r=Hd(this.state.data,t,this.options);return ne(this,Qt,jn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ne(this,Qt,jn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=j(this,Ze))==null?void 0:r.promise;return(o=j(this,Ze))==null||o.cancel(t),n?n.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,ls))}isActive(){return this.observers.some(t=>Xt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Th||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ze))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ze))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,At).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,Ze)&&(j(this,Qr)?j(this,Ze).cancel({revert:!0}):j(this,Ze).cancelRetry()),this.scheduleGc()),j(this,At).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Qt,jn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,Ze))return j(this,Ze).continueRetry(),j(this,Ze).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(z(this,Qr,!0),r.signal)})},s=()=>{const f=Px(this.options,n),m={client:j(this,Gr),queryKey:this.queryKey,meta:this.meta};return o(m),z(this,Qr,!1),this.options.persister?this.options.persister(f,m,this):f(m)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:j(this,Gr),state:this.state,fetchFn:s};o(i),(c=this.options.behavior)==null||c.onFetch(i,this),z(this,cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ne(this,Qt,jn).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,w,v,g;ku(f)&&f.silent||ne(this,Qt,jn).call(this,{type:"error",error:f}),ku(f)||((w=(m=j(this,At).config).onError)==null||w.call(m,f,this),(g=(v=j(this,At).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return z(this,Ze,Mx({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,w,v,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(S){l(S);return}(w=(m=j(this,At).config).onSuccess)==null||w.call(m,f,this),(g=(v=j(this,At).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{ne(this,Qt,jn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ne(this,Qt,jn).call(this,{type:"pause"})},onContinue:()=>{ne(this,Qt,jn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),j(this,Ze).start()}},ls=new WeakMap,cs=new WeakMap,At=new WeakMap,Gr=new WeakMap,Ze=new WeakMap,ei=new WeakMap,Qr=new WeakMap,Qt=new WeakSet,jn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ax(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return ku(o)&&o.revert&&j(this,cs)?{...j(this,cs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,At).notify({query:this,type:"updated",action:t})})},Yg);function Ax(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_x(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var un,qg,Hj=(qg=class extends As{constructor(t={}){super();q(this,un);this.config=t,z(this,un,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??kh(o,n);let i=this.get(s);return i||(i=new Wj({client:t,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){j(this,un).has(t.queryHash)||(j(this,un).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,un).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,un).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,un).get(t)}getAll(){return[...j(this,un).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Bp(t,r)):n}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},un=new WeakMap,qg),dn,st,Yr,fn,Yn,Jg,Bj=(Jg=class extends Ix{constructor(t){super();q(this,fn);q(this,dn);q(this,st);q(this,Yr);this.mutationId=t.mutationId,z(this,st,t.mutationCache),z(this,dn,[]),this.state=t.state||Dx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,dn).includes(t)||(j(this,dn).push(t),this.clearGcTimeout(),j(this,st).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,dn,j(this,dn).filter(n=>n!==t)),this.scheduleGc(),j(this,st).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,dn).length||(this.state.status==="pending"?this.scheduleGc():j(this,st).remove(this))}continue(){var t;return((t=j(this,Yr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,h,f,m,w,v,g,S,y,p,x,b,E,N,C,k;const n=()=>{ne(this,fn,Yn).call(this,{type:"continue"})};z(this,Yr,Mx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,R)=>{ne(this,fn,Yn).call(this,{type:"failed",failureCount:_,error:R})},onPause:()=>{ne(this,fn,Yn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,st).canRun(this)}));const r=this.state.status==="pending",o=!j(this,Yr).canStart();try{if(r)n();else{ne(this,fn,Yn).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(s=j(this,st).config).onMutate)==null?void 0:i.call(s,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&ne(this,fn,Yn).call(this,{type:"pending",context:R,variables:t,isPaused:o})}const _=await j(this,Yr).start();return await((h=(u=j(this,st).config).onSuccess)==null?void 0:h.call(u,_,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,_,t,this.state.context)),await((v=(w=j(this,st).config).onSettled)==null?void 0:v.call(w,_,null,this.state.variables,this.state.context,this)),await((S=(g=this.options).onSettled)==null?void 0:S.call(g,_,null,t,this.state.context)),ne(this,fn,Yn).call(this,{type:"success",data:_}),_}catch(_){try{throw await((p=(y=j(this,st).config).onError)==null?void 0:p.call(y,_,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,_,t,this.state.context)),await((N=(E=j(this,st).config).onSettled)==null?void 0:N.call(E,void 0,_,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,_,t,this.state.context)),_}finally{ne(this,fn,Yn).call(this,{type:"error",error:_})}}finally{j(this,st).runNext(this)}}},dn=new WeakMap,st=new WeakMap,Yr=new WeakMap,fn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fe.batch(()=>{j(this,dn).forEach(r=>{r.onMutationUpdate(t)}),j(this,st).notify({mutation:this,type:"updated",action:t})})},Jg);function Dx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pn,Yt,ti,Xg,Vj=(Xg=class extends As{constructor(t={}){super();q(this,Pn);q(this,Yt);q(this,ti);this.config=t,z(this,Pn,new Set),z(this,Yt,new Map),z(this,ti,0)}build(t,n,r){const o=new Bj({mutationCache:this,mutationId:++wi(this,ti)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){j(this,Pn).add(t);const n=Fi(t);if(typeof n=="string"){const r=j(this,Yt).get(n);r?r.push(t):j(this,Yt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(j(this,Pn).delete(t)){const n=Fi(t);if(typeof n=="string"){const r=j(this,Yt).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&j(this,Yt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fi(t);if(typeof n=="string"){const r=j(this,Yt).get(n),o=r==null?void 0:r.find(s=>s.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Fi(t);if(typeof n=="string"){const o=(r=j(this,Yt).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fe.batch(()=>{j(this,Pn).forEach(t=>{this.notify({type:"removed",mutation:t})}),j(this,Pn).clear(),j(this,Yt).clear()})}getAll(){return Array.from(j(this,Pn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vp(n,r))}findAll(t={}){return this.getAll().filter(n=>Vp(t,n))}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Fe.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dt))))}},Pn=new WeakMap,Yt=new WeakMap,ti=new WeakMap,Xg);function Fi(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Qp(e){return{onFetch:(t,n)=>{var h,f,m,w,v;const r=t.options,o=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Px(t.options,t.fetchOptions),p=async(x,b,E)=>{if(g)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const N={client:t.client,queryKey:t.queryKey,pageParam:b,direction:E?"backward":"forward",meta:t.options.meta};S(N);const C=await y(N),{maxPages:k}=t.options,_=E?Dj:Aj;return{pages:_(x.pages,C,k),pageParams:_(x.pageParams,b,k)}};if(o&&s.length){const x=o==="backward",b=x?Kj:Yp,E={pages:s,pageParams:i},N=b(r,E);l=await p(E,N,x)}else{const x=e??s.length;do{const b=c===0?i[0]??r.initialPageParam:Yp(r,l);if(c>0&&b==null)break;l=await p(l,b),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,S;return(S=(g=t.options).persister)==null?void 0:S.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Yp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Kj(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _e,or,sr,us,ds,ar,fs,hs,Zg,Gj=(Zg=class{constructor(e={}){q(this,_e);q(this,or);q(this,sr);q(this,us);q(this,ds);q(this,ar);q(this,fs);q(this,hs);z(this,_e,e.queryCache||new Hj),z(this,or,e.mutationCache||new Vj),z(this,sr,e.defaultOptions||{}),z(this,us,new Map),z(this,ds,new Map),z(this,ar,0)}mount(){wi(this,ar)._++,j(this,ar)===1&&(z(this,fs,Ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,_e).onFocus())})),z(this,hs,Ul.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,_e).onOnline())})))}unmount(){var e,t;wi(this,ar)._--,j(this,ar)===0&&((e=j(this,fs))==null||e.call(this),z(this,fs,void 0),(t=j(this,hs))==null||t.call(this),z(this,hs,void 0))}isFetching(e){return j(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,or).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,_e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=j(this,_e).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ts(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return j(this,_e).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=j(this,_e).get(r.queryHash),s=o==null?void 0:o.state.data,i=Mj(t,s);if(i!==void 0)return j(this,_e).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Fe.batch(()=>j(this,_e).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,_e).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,_e);Fe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,_e);return Fe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Fe.batch(()=>j(this,_e).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return Fe.batch(()=>(j(this,_e).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Fe.batch(()=>j(this,_e).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Dt)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,_e).build(this,t);return n.isStaleByTime(ts(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=Qp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=Qp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ul.isOnline()?j(this,or).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,_e)}getMutationCache(){return j(this,or)}getDefaultOptions(){return j(this,sr)}setDefaultOptions(e){z(this,sr,e)}setQueryDefaults(e,t){j(this,us).set(co(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,us).values()],n={};return t.forEach(r=>{Ha(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){j(this,ds).set(co(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,ds).values()],n={};return t.forEach(r=>{Ha(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,sr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Th&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,sr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,_e).clear(),j(this,or).clear()}},_e=new WeakMap,or=new WeakMap,sr=new WeakMap,us=new WeakMap,ds=new WeakMap,ar=new WeakMap,fs=new WeakMap,hs=new WeakMap,Zg),ht,le,ni,at,qr,ms,ir,lr,ri,ps,gs,Jr,Xr,cr,vs,me,aa,Vd,Kd,Gd,Qd,Yd,qd,Jd,Ox,ev,Qj=(ev=class extends As{constructor(t,n){super();q(this,me);q(this,ht);q(this,le);q(this,ni);q(this,at);q(this,qr);q(this,ms);q(this,ir);q(this,lr);q(this,ri);q(this,ps);q(this,gs);q(this,Jr);q(this,Xr);q(this,cr);q(this,vs,new Set);this.options=n,z(this,ht,t),z(this,lr,null),z(this,ir,Bd()),this.options.experimental_prefetchInRender||j(this,ir).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,le).addObserver(this),qp(j(this,le),this.options)?ne(this,me,aa).call(this):this.updateResult(),ne(this,me,Qd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xd(j(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xd(j(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,me,Yd).call(this),ne(this,me,qd).call(this),j(this,le).removeObserver(this)}setOptions(t){const n=this.options,r=j(this,le);if(this.options=j(this,ht).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xt(this.options.enabled,j(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,me,Jd).call(this),j(this,le).setOptions(this.options),n._defaulted&&!$l(this.options,n)&&j(this,ht).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,le),observer:this});const o=this.hasListeners();o&&Jp(j(this,le),r,this.options,n)&&ne(this,me,aa).call(this),this.updateResult(),o&&(j(this,le)!==r||Xt(this.options.enabled,j(this,le))!==Xt(n.enabled,j(this,le))||ts(this.options.staleTime,j(this,le))!==ts(n.staleTime,j(this,le)))&&ne(this,me,Vd).call(this);const s=ne(this,me,Kd).call(this);o&&(j(this,le)!==r||Xt(this.options.enabled,j(this,le))!==Xt(n.enabled,j(this,le))||s!==j(this,cr))&&ne(this,me,Gd).call(this,s)}getOptimisticResult(t){const n=j(this,ht).getQueryCache().build(j(this,ht),t),r=this.createResult(n,t);return qj(this,r)&&(z(this,at,r),z(this,ms,this.options),z(this,qr,j(this,le).state)),r}getCurrentResult(){return j(this,at)}trackResult(t,n){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(r,o))})}trackProp(t){j(this,vs).add(t)}getCurrentQuery(){return j(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=j(this,ht).defaultQueryOptions(t),r=j(this,ht).getQueryCache().build(j(this,ht),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ne(this,me,aa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,at)))}createResult(t,n){var _;const r=j(this,le),o=this.options,s=j(this,at),i=j(this,qr),l=j(this,ms),u=t!==r?t.state:j(this,ni),{state:h}=t;let f={...h},m=!1,w;if(n._optimisticResults){const R=this.hasListeners(),$=!R&&qp(t,n),M=R&&Jp(t,r,n,o);($||M)&&(f={...f,...Ax(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:S}=f;w=f.data;let y=!1;if(n.placeholderData!==void 0&&w===void 0&&S==="pending"){let R;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=s.data,y=!0):R=typeof n.placeholderData=="function"?n.placeholderData((_=j(this,gs))==null?void 0:_.state.data,j(this,gs)):n.placeholderData,R!==void 0&&(S="success",w=Hd(s==null?void 0:s.data,R,n),m=!0)}if(n.select&&w!==void 0&&!y)if(s&&w===(i==null?void 0:i.data)&&n.select===j(this,ri))w=j(this,ps);else try{z(this,ri,n.select),w=n.select(w),w=Hd(s==null?void 0:s.data,w,n),z(this,ps,w),z(this,lr,null)}catch(R){z(this,lr,R)}j(this,lr)&&(v=j(this,lr),w=j(this,ps),g=Date.now(),S="error");const p=f.fetchStatus==="fetching",x=S==="pending",b=S==="error",E=x&&p,N=w!==void 0,k={status:S,fetchStatus:f.fetchStatus,isPending:x,isSuccess:S==="success",isError:b,isInitialLoading:E,isLoading:E,data:w,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:b&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&N,isStale:_h(t,n),refetch:this.refetch,promise:j(this,ir)};if(this.options.experimental_prefetchInRender){const R=D=>{k.status==="error"?D.reject(k.error):k.data!==void 0&&D.resolve(k.data)},$=()=>{const D=z(this,ir,k.promise=Bd());R(D)},M=j(this,ir);switch(M.status){case"pending":t.queryHash===r.queryHash&&R(M);break;case"fulfilled":(k.status==="error"||k.data!==M.value)&&$();break;case"rejected":(k.status!=="error"||k.error!==M.reason)&&$();break}}return k}updateResult(){const t=j(this,at),n=this.createResult(j(this,le),this.options);if(z(this,qr,j(this,le).state),z(this,ms,this.options),j(this,qr).data!==void 0&&z(this,gs,j(this,le)),$l(n,t))return;z(this,at,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!j(this,vs).size)return!0;const i=new Set(s??j(this,vs));return this.options.throwOnError&&i.add("error"),Object.keys(j(this,at)).some(l=>{const c=l;return j(this,at)[c]!==t[c]&&i.has(c)})};ne(this,me,Ox).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,me,Qd).call(this)}},ht=new WeakMap,le=new WeakMap,ni=new WeakMap,at=new WeakMap,qr=new WeakMap,ms=new WeakMap,ir=new WeakMap,lr=new WeakMap,ri=new WeakMap,ps=new WeakMap,gs=new WeakMap,Jr=new WeakMap,Xr=new WeakMap,cr=new WeakMap,vs=new WeakMap,me=new WeakSet,aa=function(t){ne(this,me,Jd).call(this);let n=j(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Dt)),n},Vd=function(){ne(this,me,Yd).call(this);const t=ts(this.options.staleTime,j(this,le));if(lo||j(this,at).isStale||!Wd(t))return;const r=kx(j(this,at).dataUpdatedAt,t)+1;z(this,Jr,setTimeout(()=>{j(this,at).isStale||this.updateResult()},r))},Kd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,le)):this.options.refetchInterval)??!1},Gd=function(t){ne(this,me,qd).call(this),z(this,cr,t),!(lo||Xt(this.options.enabled,j(this,le))===!1||!Wd(j(this,cr))||j(this,cr)===0)&&z(this,Xr,setInterval(()=>{(this.options.refetchIntervalInBackground||Ph.isFocused())&&ne(this,me,aa).call(this)},j(this,cr)))},Qd=function(){ne(this,me,Vd).call(this),ne(this,me,Gd).call(this,ne(this,me,Kd).call(this))},Yd=function(){j(this,Jr)&&(clearTimeout(j(this,Jr)),z(this,Jr,void 0))},qd=function(){j(this,Xr)&&(clearInterval(j(this,Xr)),z(this,Xr,void 0))},Jd=function(){const t=j(this,ht).getQueryCache().build(j(this,ht),this.options);if(t===j(this,le))return;const n=j(this,le);z(this,le,t),z(this,ni,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ox=function(t){Fe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(j(this,at))}),j(this,ht).getQueryCache().notify({query:j(this,le),type:"observerResultsUpdated"})})},ev);function Yj(e,t){return Xt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qp(e,t){return Yj(e,t)||e.state.data!==void 0&&Xd(e,t,t.refetchOnMount)}function Xd(e,t,n){if(Xt(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_h(e,t)}return!1}function Jp(e,t,n,r){return(e!==t||Xt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_h(e,n)}function _h(e,t){return Xt(t.enabled,e)!==!1&&e.isStaleByTime(ts(t.staleTime,e))}function qj(e,t){return!$l(e.getCurrentResult(),t)}var ur,dr,mt,_n,On,al,Zd,tv,Jj=(tv=class extends As{constructor(n,r){super();q(this,On);q(this,ur);q(this,dr);q(this,mt);q(this,_n);z(this,ur,n),this.setOptions(r),this.bindMethods(),ne(this,On,al).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=j(this,ur).defaultMutationOptions(n),$l(this.options,r)||j(this,ur).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,mt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&co(r.mutationKey)!==co(this.options.mutationKey)?this.reset():((o=j(this,mt))==null?void 0:o.state.status)==="pending"&&j(this,mt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,mt))==null||n.removeObserver(this)}onMutationUpdate(n){ne(this,On,al).call(this),ne(this,On,Zd).call(this,n)}getCurrentResult(){return j(this,dr)}reset(){var n;(n=j(this,mt))==null||n.removeObserver(this),z(this,mt,void 0),ne(this,On,al).call(this),ne(this,On,Zd).call(this)}mutate(n,r){var o;return z(this,_n,r),(o=j(this,mt))==null||o.removeObserver(this),z(this,mt,j(this,ur).getMutationCache().build(j(this,ur),this.options)),j(this,mt).addObserver(this),j(this,mt).execute(n)}},ur=new WeakMap,dr=new WeakMap,mt=new WeakMap,_n=new WeakMap,On=new WeakSet,al=function(){var r;const n=((r=j(this,mt))==null?void 0:r.state)??Dx();z(this,dr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zd=function(n){Fe.batch(()=>{var r,o,s,i,l,c,u,h;if(j(this,_n)&&this.hasListeners()){const f=j(this,dr).variables,m=j(this,dr).context;(n==null?void 0:n.type)==="success"?((o=(r=j(this,_n)).onSuccess)==null||o.call(r,n.data,f,m),(i=(s=j(this,_n)).onSettled)==null||i.call(s,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=j(this,_n)).onError)==null||c.call(l,n.error,f,m),(h=(u=j(this,_n)).onSettled)==null||h.call(u,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(j(this,dr))})})},tv),Lx=d.createContext(void 0),bc=e=>{const t=d.useContext(Lx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Xj=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Lx.Provider,{value:e,children:t})),Fx=d.createContext(!1),Zj=()=>d.useContext(Fx);Fx.Provider;function eN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tN=d.createContext(eN()),nN=()=>d.useContext(tN);function $x(e,t){return typeof e=="function"?e(...t):!!e}function ef(){}var rN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},oN=e=>{d.useEffect(()=>{e.clearReset()},[e])},sN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||$x(n,[e.error,r])),aN=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},iN=(e,t)=>e.isLoading&&e.isFetching&&!t,lN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Xp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cN(e,t,n){var f,m,w,v,g;const r=bc(),o=Zj(),s=nN(),i=r.defaultQueryOptions(e);(m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=o?"isRestoring":"optimistic",aN(i),rN(i,s),oN(s);const l=!r.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(r,i)),u=c.getOptimisticResult(i),h=!o&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(S=>{const y=h?c.subscribe(Fe.batchCalls(S)):ef;return c.updateResult(),y},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i)},[i,c]),lN(i,u))throw Xp(i,c,s);if(sN({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||v.call(w,i,u),i.experimental_prefetchInRender&&!lo&&iN(u,o)){const S=l?Xp(i,c,s):(g=r.getQueryCache().get(i.queryHash))==null?void 0:g.promise;S==null||S.catch(ef).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Rh(e,t){return cN(e,Qj)}function Tu(e,t){const n=bc(),[r]=d.useState(()=>new Jj(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const o=d.useSyncExternalStore(d.useCallback(i=>r.subscribe(Fe.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=d.useCallback((i,l)=>{r.mutate(i,l).catch(ef)},[r]);if(o.error&&$x(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}const uN=1,Ux=5e3;let Pu=0;function dN(){return Pu=(Pu+1)%Number.MAX_SAFE_INTEGER,Pu.toString()}const _u=new Map,Zp=e=>{if(_u.has(e))return;const t=setTimeout(()=>{_u.delete(e),ja({type:"REMOVE_TOAST",toastId:e})},Ux);_u.set(e,t)},fN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Zp(n):e.toasts.forEach(r=>{Zp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},il=[];let ll={toasts:[]};function ja(e){ll=fN(ll,e),il.forEach(t=>{t(ll)})}function tf({...e}){const t=dN(),n=o=>ja({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ja({type:"DISMISS_TOAST",toastId:t});return ja({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),setTimeout(()=>{r()},Ux),{id:t,dismiss:r,update:n}}function Ht(){const[e,t]=d.useState(ll);return d.useEffect(()=>(il.push(t),()=>{const n=il.indexOf(t);n>-1&&il.splice(n,1)}),[e]),{...e,toast:tf,dismiss:n=>ja({type:"DISMISS_TOAST",toastId:n})}}function hN(){try{const e=localStorage.getItem("movietracker_intentional_logout_time");if(e){const w=parseInt(e);if(Date.now()-w<6e4)return console.log("Recent intentional logout detected, skipping auto-logout detection"),!1}const t=localStorage.getItem("movietracker_recent_logouts");let n=t?JSON.parse(t):{timestamp:0,count:0,patterns:[]};n.patterns||(n.patterns=[]);const r=window.location.href,o=document.referrer,s=new URL(r).pathname,i=o?new URL(o).pathname:"";if(s==="/auth"){if(i==="/"||i==="/search"||i==="/watchlist")return console.log("Normal navigation to auth page from main app, not an auto-logout"),!1;if(i==="/auth")return console.log("Auth page refresh detected, not an auto-logout"),!1}const l=`${r} <- ${o}`;n.patterns.push(l),n.patterns.length>5&&(n.patterns=n.patterns.slice(-5));const c=Date.now(),u=c-n.timestamp<8e3,h=localStorage.getItem("movietracker_user");let f=!1,m="";if(h)try{const w=JSON.parse(h);m=(w==null?void 0:w.username)||"",f=m.toLowerCase().includes("test")}catch(w){console.error("Error parsing cached user:",w)}if(u){n.count++,n.timestamp=c,localStorage.setItem("movietracker_recent_logouts",JSON.stringify(n));const v=m&&["test30","test36","janes"].some(g=>m.toLowerCase()===g)?3:8;if(n.count>=v)return console.warn(`Detected potential auto-logout pattern: ${n.count} attempts in 8s for ${f?"test user":"regular user"}`),console.warn("Navigation patterns:",n.patterns),console.warn("Username:",m),localStorage.setItem("movietracker_auto_logout_detected","true"),localStorage.setItem("movietracker_auto_logout_ts",String(c)),localStorage.setItem("movietracker_auto_logout_count",String(n.count)),localStorage.setItem("movietracker_auto_logout_patterns",JSON.stringify(n.patterns)),m&&localStorage.setItem("movietracker_auto_logout_username",m),!0}else n={timestamp:c,count:1,patterns:n.patterns||[]},localStorage.setItem("movietracker_recent_logouts",JSON.stringify(n));return!1}catch(e){return console.error("Error checking for auto-logout pattern:",e),!1}}async function cl(e,t,n=1500){if(console.log("Handling session expiration check:",e,t),window.location.pathname==="/auth"){console.log("Already on auth page, skipping session expiration message");return}const o=localStorage.getItem("movietracker_intentional_logout_time");if(o){const s=parseInt(o);if(Date.now()-s<3e4){console.log("Recent intentional logout detected, skipping session error message");return}}if(hN()){console.warn("Auto-logout pattern detected during session expiration handling");const s=localStorage.getItem("movietracker_auto_logout_toast_time"),i=Date.now();let l=!0;if(s){const c=parseInt(s);l=i-c>18e4}l&&(localStorage.setItem("movietracker_auto_logout_toast_time",String(i)),tf({title:"Login session issue detected",description:"We detected an issue with your login session. Please try refreshing the page or logging in again.",variant:"destructive",duration:7e3})),console.warn("Auto-logout handled, toast shown:",l);return}try{const s=localStorage.getItem("movietracker_session_expired_toast_time"),i=Date.now();let l=!0;if(s){const c=parseInt(s);l=i-c>6e4}l&&(localStorage.setItem("movietracker_session_expired_toast_time",String(i)),tf({title:"Session expired",description:t||"Your session has expired. Please log in again.",variant:"destructive",duration:5e3})),we.setQueryData(["/api/user"],null),setTimeout(()=>{window.location.href="/auth"},n)}catch(s){console.error("Error during session expiration handling:",s),setTimeout(()=>{window.location.href="/auth"},n+1e3)}}function Wx(e){var n;const t={isAuthError:!1,isNetworkError:!1,errorType:"other_error",errorMessage:""};if(!e)return t;try{if(e.status===401||e.status===403)return t.isAuthError=!0,t.errorType="auth_error",t.errorMessage=`${e.status}: ${((n=e.data)==null?void 0:n.message)||"unauthorized"}`,t;if(e.message&&(e.message.includes("network")||e.message.includes("Network")||e.message.includes("Failed to fetch")))return t.isNetworkError=!0,t.errorType="network_error",t.errorMessage=e.message,t;if(e.data){const r=e.data;if(r.message&&(r.message.includes("authent")||r.message.includes("Authent")||r.message.includes("authorized")||r.message.includes("Authorized")||r.message.includes("login")||r.message.includes("Login")||r.message.includes("session")||r.message.includes("Session")))return t.isAuthError=!0,t.errorType="auth_error",t.errorMessage=r.message,t}if(e.message){const r=e.message.toLowerCase();if(r.includes("unauthorized")||r.includes("unauthenticated")||r.includes("auth")||r.includes("session")||r.includes("login")||r.includes("401")||r.includes("403"))return t.isAuthError=!0,t.errorType="auth_error",t.errorMessage=e.message,t}return console.log("[API] Detected potential auth error:",t),t}catch(r){return console.error("Error checking session error:",r),t}}const yt="jwt_token";function zx(){try{const e=localStorage.getItem("just_logged_out")==="true",t=sessionStorage.getItem("just_logged_out")==="true",n=typeof window<"u"&&window.__loggedOut===!0,r=localStorage.getItem(yt);return r&&r.split(".").length===3&&(e||t||n)?(console.log("[JWT] Valid token found, clearing logout flags"),localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),typeof window<"u"&&(window.__loggedOut=!1),!1):e||t||n}catch(e){return console.error("[JWT] Error checking logout state:",e),!1}}const to=e=>{if(!e){console.error("[JWT] Attempted to save empty token");return}try{localStorage.removeItem(yt);try{localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),typeof window<"u"&&(window.__loggedOut=!1),console.log("[JWT] Logout flags cleared on token save")}catch(t){console.error("[JWT] Error clearing logout flags:",t)}localStorage.setItem(yt,e),localStorage.setItem("movietracker_token_backup",e),localStorage.setItem("movietracker_token_timestamp",Date.now().toString());try{sessionStorage.setItem(yt,e),sessionStorage.setItem("movietracker_token_backup",e)}catch(t){console.error("[JWT] Failed to save token to sessionStorage:",t)}try{const t=new Date;t.setDate(t.getDate()+1),document.cookie=`jwt_token_backup=${e}; expires=${t.toUTCString()}; path=/`}catch(t){console.error("[JWT] Failed to save token to cookie:",t)}console.log("[JWT] Token saved to localStorage and backups created")}catch(t){console.error("[JWT] Failed to save token to localStorage:",t);try{sessionStorage.setItem(yt,e),console.log("[JWT] Token saved to sessionStorage (fallback)")}catch(n){console.error("[JWT] Failed to save token to sessionStorage:",n)}}},xn=()=>{if(zx())return console.log("[JWT] User recently logged out - not attempting token recovery"),null;let e=null;try{e=localStorage.getItem(yt)}catch(t){console.error("[JWT] Error accessing localStorage:",t)}if(!e){if(console.log("[JWT] Token not found in primary storage, checking backups..."),window.location.pathname==="/auth"||window.location.pathname.includes("/login")||window.location.pathname.includes("/register"))return console.log("[JWT] On auth page - skipping token recovery for security"),null;try{if(e=localStorage.getItem("movietracker_token_backup"),e)return console.log("[JWT] Recovered token from backup in localStorage"),to(e),e}catch(n){console.error("[JWT] Error accessing localStorage backup:",n)}try{if(e=sessionStorage.getItem(yt)||sessionStorage.getItem("movietracker_token_backup"),e)return console.log("[JWT] Recovered token from sessionStorage"),to(e),e}catch(n){console.error("[JWT] Error accessing sessionStorage:",n)}try{const n=document.cookie.split(";");for(const r of n){const[o,s]=r.trim().split("=");if(o==="jwt_token_backup"&&s)return console.log("[JWT] Recovered token from cookie"),e=s,to(e),e}}catch(n){console.error("[JWT] Error accessing cookies:",n)}return null}try{return e.split(".").length!==3?(console.error("[JWT] Retrieved invalid token format from storage"),nn(),nn(),console.log("[JWT] Invalid token format, trying backups..."),mN()):e}catch(t){return console.error("[JWT] Error validating stored token:",t),nn(),null}};function mN(){if(zx())return console.log("[JWT] User recently logged out - not attempting backup token recovery"),null;if(window.location.pathname==="/auth"||window.location.pathname.includes("/login")||window.location.pathname.includes("/register"))return console.log("[JWT] On auth page - skipping backup token recovery for security"),null;let t=null;try{if(t=localStorage.getItem("movietracker_token_backup"),t&&Ru(t))return console.log("[JWT] Recovered valid token from backup in localStorage"),localStorage.setItem(yt,t),t}catch(n){console.error("[JWT] Error accessing localStorage backup:",n)}try{const n=sessionStorage.getItem(yt)||sessionStorage.getItem("movietracker_token_backup");if(n&&Ru(n))return console.log("[JWT] Recovered valid token from sessionStorage"),localStorage.setItem(yt,n),n}catch(n){console.error("[JWT] Error accessing sessionStorage:",n)}try{const n=document.cookie.split(";");for(const r of n){const[o,s]=r.trim().split("=");if(o==="jwt_token_backup"&&s&&Ru(s))return console.log("[JWT] Recovered valid token from cookie"),localStorage.setItem(yt,s),s}}catch(n){console.error("[JWT] Error accessing cookies:",n)}return null}function Ru(e){try{return e.split(".").length===3}catch{return!1}}const nn=()=>{try{localStorage.removeItem(yt),sessionStorage.removeItem(yt),localStorage.removeItem("movietracker_token_backup"),localStorage.removeItem("movietracker_token_timestamp"),sessionStorage.removeItem("movietracker_token_backup"),document.cookie=`${yt}=; path=/; max-age=0`,document.cookie="jwt_token_backup=; path=/; max-age=0";try{localStorage.setItem("just_logged_out","true"),sessionStorage.setItem("just_logged_out","true"),typeof window<"u"&&(window.__loggedOut=!0),console.log("[JWT] Logout flags set to prevent token recovery")}catch(t){console.error("[JWT] Error setting logout flags:",t)}["jwt_token_backup","jwt_backup","auth_token","auth_backup","token_backup","user_token","user_session"].forEach(t=>{try{localStorage.removeItem(t),sessionStorage.removeItem(t)}catch{}});try{for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&(n.includes("token")||n.includes("auth")||n.includes("jwt")||n.includes("user"))&&localStorage.removeItem(n)}for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n&&(n.includes("token")||n.includes("auth")||n.includes("jwt")||n.includes("user"))&&sessionStorage.removeItem(n)}}catch(t){console.error("[JWT] Error during storage scan:",t)}console.log("[JWT] Token removed from all storage locations")}catch(e){console.error("[JWT] Error removing token:",e)}},pN=async()=>{const e=xn();if(!e)return!1;try{const t=Mh(e);if(!t||!t.exp)return!1;const n=Date.now()/1e3,r=t.exp-n,o=window.location.hostname.includes("replit.app"),s=o?12*60*60:24*60*60;if(r<s){console.log(`[JWT] Token will expire in ${Math.round(r/60)} minutes, refreshing... (${o?"PRODUCTION":"DEVELOPMENT"} mode)`);try{const i=o?3:1;let l=0,c=!1;for(;l<i&&!c;){try{const u=await fetch("/api/jwt/refresh",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(u.ok){const h=await u.json();if(h.token)return to(h.token),console.log("[JWT] Token refreshed successfully"),c=!0,!0}else console.warn(`[JWT] Failed to refresh token, status: ${u.status} (attempt ${l+1}/${i})`)}catch(u){console.error(`[JWT] Error refreshing token (attempt ${l+1}/${i}):`,u)}if(l++,l<i){const u=Math.min(1e3*Math.pow(2,l),1e4);console.log(`[JWT] Retrying token refresh in ${u}ms...`),await new Promise(h=>setTimeout(h,u))}}}catch(i){console.error("[JWT] Error in refresh process:",i)}}return!1}catch(t){return console.error("[JWT] Error checking token expiration:",t),!1}},gN=async()=>{const e=xn();if(!e)return!1;try{const t=Mh(e);if(!t||!t.exp)return console.error("[JWT] Token is missing expiration data"),nn(),!1;const n=Date.now()/1e3;if(t.exp<n)return console.log("[JWT] Token is expired, removing from localStorage"),nn(),!1;const r=24*60*60;return t.exp-n<r&&pN().catch(o=>{console.error("[JWT] Background token refresh failed:",o)}),!0}catch(t){return console.error("[JWT] Error validating token authentication:",t),nn(),!1}};function Mh(e){try{const t=e.split(".");if(t.length!==3)return console.error("[JWT] Invalid token format - not three parts"),null;const r=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(r).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(o)}catch(t){return console.error("[JWT] Failed to parse token payload:",t),null}}const eg=(e={})=>{const t=xn();return t?{...e,Authorization:`Bearer ${t}`}:e},vN=()=>{const e=xn();if(!e)return null;try{const t=Mh(e);return!t||!t.id||!t.username?(console.error("[JWT] Invalid token payload - missing required fields"),nn(),null):t}catch(t){return console.error("[JWT] Failed to parse user from token:",t),nn(),null}};async function yN(e){if(!e.ok){const t=e.headers.get("content-type");console.log(`Error response - Status: ${e.status}, Content-Type: ${t||"none"}`);try{if(t&&t.includes("application/json"))try{const n=e.clone();let r;try{r=await e.json(),console.log("Error response JSON data:",r)}catch(s){console.error("Failed to parse JSON error response:",s);const i=await n.text();console.log("Error response as text:",i);const l=new Error(`${e.status}: Error parsing server response`);throw l.status=e.status,l.isJsonParseError=!0,l.isServerError=e.status>=500,l.isClientError=e.status>=400&&e.status<500,l.responseText=i,l}const o=new Error(`${e.status}: ${r.message||e.statusText}`);throw o.status=e.status,o.data=r,o.isServerError=e.status>=500,o.isClientError=e.status>=400&&e.status<500,o}catch(n){if(n instanceof Error&&(n.status||n.isJsonParseError))throw n;console.error("Error handling error response:",n);const r=new Error(`${e.status}: Unable to process server response`);throw r.status=e.status,r.isServerError=e.status>=500,r.isClientError=e.status>=400&&e.status<500,r}else if(t&&t.includes("text/html")){const n=await e.text();console.log("Received HTML error response, length:",n.length);let r="Received HTML response instead of data";if(n.includes("<title>")&&n.includes("</title>")){const s=n.match(/<title>(.*?)<\/title>/i);s&&s[1]&&(r=`Server returned HTML: ${s[1]}`)}const o=new Error(r);throw o.status=e.status,o.isServerError=e.status>=500,o.isClientError=e.status>=400&&e.status<500,o.isHtmlResponse=!0,o}else{const n=await e.text()||e.statusText;console.log("Error response text (first 100 chars):",n.substring(0,100));const r=new Error(`${e.status}: ${n.substring(0,100)}${n.length>100?"...":""}`);throw r.status=e.status,r.isServerError=e.status>=500,r.isClientError=e.status>=400&&e.status<500,r}}catch(n){if(n instanceof Error&&n.status)throw n;console.error("Error parsing response:",n);const r=new Error(`${e.status}: Response parsing failed`);throw r.status=e.status,r.originalError=n,r.isServerError=e.status>=500,r.isClientError=e.status>=400&&e.status<500,r}}}async function nt(e,t,n,r={}){const{timeout:o=15e3,retries:s=2,retryDelay:i=1e3,ignoreAuthErrors:l=!1,headers:c={}}=r;let u=null;for(let h=0;h<=s;h++)try{const f=new AbortController,m=setTimeout(()=>f.abort(),o);console.log(`[API] ${e} request to ${t} (attempt ${h+1}/${s+1})`),n&&console.log("[API] Request data:",n);try{const w=n?{"Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache, no-store, must-revalidate"}:{Pragma:"no-cache","Cache-Control":"no-cache, no-store, must-revalidate"};try{const y=window.__authBackup;if(y&&y.userId)console.log("[API] Adding user recovery info from in-memory backup"),Object.assign(c,{"X-User-ID":y.userId.toString(),"X-Username":y.username,"X-Request-Timestamp":Date.now().toString()});else{const p=sessionStorage.getItem("auth_backup");if(p){const x=JSON.parse(p);x&&x.userId&&(console.log("[API] Adding user recovery info from session storage"),Object.assign(c,{"X-User-ID":x.userId.toString(),"X-Username":x.username,"X-Request-Timestamp":Date.now().toString()}))}}}catch(y){console.error("[API] Error adding recovery headers:",y)}const v=new Headers;n&&v.set("Content-Type","application/json"),v.set("Pragma","no-cache"),v.set("Cache-Control","no-cache, no-store, must-revalidate");const g=xn();g&&(v.set("Authorization",`Bearer ${g}`),console.log("[API] Adding JWT token to request")),Object.entries(c).forEach(([y,p])=>{p!==void 0&&v.set(y,String(p))});const S=await fetch(t,{method:e,headers:v,body:n?JSON.stringify(n):void 0,credentials:"include",signal:f.signal});if(clearTimeout(m),console.log(`[API] Response status: ${S.status}, URL: ${t}`),S.status===401){if(l)return console.log("[API] Ignoring 401 Unauthorized error as requested"),S;console.log("[API] Detected 401 Unauthorized response, handling with session utilities"),cl("401","Your session has expired. Please log in again.")}if(S.status>=500&&h<s){u=new Error(`Server error: ${S.status}`),u.status=S.status;const y=i*Math.pow(2,h);console.log(`[API] Server error (${S.status}), retrying in ${y}ms...`),await new Promise(p=>setTimeout(p,y));continue}return await yN(S),S}finally{clearTimeout(m)}}catch(f){if(u=f,console.error(`[API] Error during ${e} request to ${t}:`,f),(f==null?void 0:f.status)===401&&l)return console.log("[API] Ignoring thrown 401 Unauthorized error as requested"),new Response(JSON.stringify({message:"Unauthorized"}),{status:401,headers:{"Content-Type":"application/json"}});const m=Wx(f);if(!l&&((f==null?void 0:f.status)===401||m.isAuthError)&&(console.log("[API] Detected potential auth error:",m),setTimeout(async()=>{console.log("[API] Delayed JWT check after 401 error");const w=xn();if(!w){cl((f==null?void 0:f.status)||"auth_error","Please sign in to continue",1e3);return}const v=new Headers;if(v.set("Cache-Control","no-cache, no-store, must-revalidate"),v.set("Pragma","no-cache"),v.set("Authorization",`Bearer ${w}`),await fetch("/api/jwt/user",{headers:v}).then(S=>S.ok?S.json():null).catch(S=>null)){console.log("[API] JWT appears valid after direct check - ignoring auth error");return}cl((f==null?void 0:f.status)||"auth_error","Please sign in to continue",1e3)},2e3)),f instanceof Error&&f.isClientError||f instanceof DOMException&&f.name==="AbortError")throw f;if(h<s){const w=i*Math.pow(2,h);console.warn(`[API] Request attempt ${h+1} failed, retrying in ${w}ms`,f),await new Promise(v=>setTimeout(v,w));continue}throw f}throw u||new Error("Request failed after all retries")}const xN=({on401:e,preventCaching:t=!0})=>async({queryKey:n})=>{try{let o=n[0];if(t){const i=o.includes("?")?"&":"?";o=`${o}${i}_t=${Date.now()}`}const s=await nt("GET",o,void 0,{ignoreAuthErrors:e==="returnNull",retries:2});return e==="returnNull"&&s.status,await s.json()}catch(r){throw console.error(`Query fetch error for ${n[0]}: ${r.message}`),r}},we=new Gj({defaultOptions:{queries:{queryFn:xN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:1e3*60*5,retry:(e,t)=>(t==null?void 0:t.status)===401||(t==null?void 0:t.status)===403?(console.log("[Query] Not retrying auth error:",t==null?void 0:t.status),!1):t!=null&&t.isClientError?!1:e<3,retryDelay:e=>Math.min(1e3*Math.pow(2,e),3e4)},mutations:{retry:(e,t)=>(t==null?void 0:t.status)===401||(t==null?void 0:t.status)===403?(console.log("[Mutation] Not retrying auth error:",t==null?void 0:t.status),!1):t!=null&&t.isClientError?!1:e<2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4)}}});function U(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function tg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ec(...e){return t=>{let n=!1;const r=e.map(o=>{const s=tg(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():tg(e[o],null)}}}}function re(...e){return d.useCallback(Ec(...e),e)}function wN(e,t){const n=d.createContext(t),r=s=>{const{children:i,...l}=s,c=d.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(s){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function _t(e,t=[]){let n=[];function r(s,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:m,children:w,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,S=d.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:S,children:w})};u.displayName=s+"Provider";function h(f,m){var g;const w=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=d.useContext(w);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,h]}const o=()=>{const s=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,SN(o,...t)]}function SN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function uo(e){const t=EN(e),n=d.forwardRef((r,o)=>{const{children:s,...i}=r,l=d.Children.toArray(s),c=l.find(jN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:o,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var bN=uo("Slot");function EN(e){const t=d.forwardRef((n,r)=>{const{children:o,...s}=n;if(d.isValidElement(o)){const i=kN(o),l=NN(s,o.props);return o.type!==d.Fragment&&(l.ref=r?Ec(r,i):i),d.cloneElement(o,l)}return d.Children.count(o)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CN=Symbol("radix.slottable");function jN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CN}function NN(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{s(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function kN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cc(e){const t=e+"CollectionProvider",[n,r]=_t(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:S,children:y}=g,p=Nn.useRef(null),x=Nn.useRef(new Map).current;return a.jsx(o,{scope:S,itemMap:x,collectionRef:p,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=uo(l),u=Nn.forwardRef((g,S)=>{const{scope:y,children:p}=g,x=s(l,y),b=re(S,x.collectionRef);return a.jsx(c,{ref:b,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=uo(h),w=Nn.forwardRef((g,S)=>{const{scope:y,children:p,...x}=g,b=Nn.useRef(null),E=re(S,b),N=s(h,y);return Nn.useEffect(()=>(N.itemMap.set(b,{ref:b,...x}),()=>void N.itemMap.delete(b))),a.jsx(m,{[f]:"",ref:E,children:p})});w.displayName=h;function v(g){const S=s(e+"CollectionConsumer",g);return Nn.useCallback(()=>{const p=S.collectionRef.current;if(!p)return[];const x=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((N,C)=>x.indexOf(N.ref.current)-x.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:w},v,r]}var TN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y=TN.reduce((e,t)=>{const n=uo(`Primitive.${t}`),r=d.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ih(e,t){e&&Eo.flushSync(()=>e.dispatchEvent(t))}function De(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function PN(e,t=globalThis==null?void 0:globalThis.document){const n=De(e);d.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _N="DismissableLayer",nf="dismissableLayer.update",RN="dismissableLayer.pointerDownOutside",MN="dismissableLayer.focusOutside",ng,Hx=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ui=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(Hx),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=d.useState({}),v=re(t,C=>f(C)),g=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(S),p=h?g.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=y,E=AN(C=>{const k=C.target,_=[...u.branches].some(R=>R.contains(k));!b||_||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),N=DN(C=>{const k=C.target;[...u.branches].some(R=>R.contains(k))||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return PN(C=>{p===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ng=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),rg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ng)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),rg())},[h,u]),d.useEffect(()=>{const C=()=>w({});return document.addEventListener(nf,C),()=>document.removeEventListener(nf,C)},[]),a.jsx(Y.div,{...c,ref:v,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,N.onFocusCapture),onBlurCapture:U(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,E.onPointerDownCapture)})});ui.displayName=_N;var IN="DismissableLayerBranch",Bx=d.forwardRef((e,t)=>{const n=d.useContext(Hx),r=d.useRef(null),o=re(t,r);return d.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Y.div,{...e,ref:o})});Bx.displayName=IN;function AN(e,t=globalThis==null?void 0:globalThis.document){const n=De(e),r=d.useRef(!1),o=d.useRef(()=>{});return d.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){Vx(RN,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function DN(e,t=globalThis==null?void 0:globalThis.document){const n=De(e),r=d.useRef(!1);return d.useEffect(()=>{const o=s=>{s.target&&!r.current&&Vx(MN,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rg(){const e=new CustomEvent(nf);document.dispatchEvent(e)}function Vx(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ih(o,s):o.dispatchEvent(s)}var ON=ui,LN=Bx,Ve=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},FN="Portal",di=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,s]=d.useState(!1);Ve(()=>s(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?tj.createPortal(a.jsx(Y.div,{...r,ref:t}),i):null});di.displayName=FN;function $N(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var dt=e=>{const{present:t,children:n}=e,r=UN(t),o=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),s=re(r.ref,WN(o));return typeof n=="function"||r.isPresent?d.cloneElement(o,{ref:s}):null};dt.displayName="Presence";function UN(e){const[t,n]=d.useState(),r=d.useRef(null),o=d.useRef(e),s=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=$N(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=$i(r.current);s.current=l==="mounted"?u:"none"},[l]),Ve(()=>{const u=r.current,h=o.current;if(h!==e){const m=s.current,w=$i(u);e?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Ve(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=w=>{const g=$i(r.current).includes(w.animationName);if(w.target===t&&g&&(c("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=w=>{w.target===t&&(s.current=$i(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function $i(e){return(e==null?void 0:e.animationName)||"none"}function WN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zN=If[" useInsertionEffect ".trim().toString()]||Ve;function Wn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,i]=HN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:o;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=BN(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else s(h)},[l,e,s,i]);return[c,u]}function HN({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),o=d.useRef(n),s=d.useRef(t);return zN(()=>{s.current=t},[t]),d.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function BN(e){return typeof e=="function"}var Kx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VN="VisuallyHidden",Ah=d.forwardRef((e,t)=>a.jsx(Y.span,{...e,ref:t,style:{...Kx,...e.style}}));Ah.displayName=VN;var Dh="ToastProvider",[Oh,KN,GN]=Cc("Toast"),[Gx,YI]=_t("Toast",[GN]),[QN,jc]=Gx(Dh),Qx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[l,c]=d.useState(null),[u,h]=d.useState(0),f=d.useRef(!1),m=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dh}\`. Expected non-empty \`string\`.`),a.jsx(Oh.Provider,{scope:t,children:a.jsx(QN,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(w=>w+1),[]),onToastRemove:d.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};Qx.displayName=Dh;var Yx="ToastViewport",YN=["F8"],rf="toast.viewportPause",of="toast.viewportResume",qx=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=YN,label:o="Notifications ({hotkey})",...s}=e,i=jc(Yx,n),l=KN(n),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),m=re(t,f,i.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;d.useEffect(()=>{const S=y=>{var x;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),d.useEffect(()=>{const S=c.current,y=f.current;if(v&&S&&y){const p=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(rf);y.dispatchEvent(N),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(of);y.dispatchEvent(N),i.isClosePausedRef.current=!1}},b=N=>{!S.contains(N.relatedTarget)&&x()},E=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",p),S.addEventListener("focusout",b),S.addEventListener("pointermove",p),S.addEventListener("pointerleave",E),window.addEventListener("blur",p),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",p),S.removeEventListener("focusout",b),S.removeEventListener("pointermove",p),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",p),window.removeEventListener("focus",x)}}},[v,i.isClosePausedRef]);const g=d.useCallback(({tabbingDirection:S})=>{const p=l().map(x=>{const b=x.ref.current,E=[b,...lk(b)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?p.reverse():p).flat()},[l]);return d.useEffect(()=>{const S=f.current;if(S){const y=p=>{var E,N,C;const x=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!x){const k=document.activeElement,_=p.shiftKey;if(p.target===S&&_){(E=u.current)==null||E.focus();return}const M=g({tabbingDirection:_?"backwards":"forwards"}),D=M.findIndex(A=>A===k);Mu(M.slice(D+1))?p.preventDefault():_?(N=u.current)==null||N.focus():(C=h.current)==null||C.focus()}};return S.addEventListener("keydown",y),()=>S.removeEventListener("keydown",y)}},[l,g]),a.jsxs(LN,{ref:c,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(sf,{ref:u,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});Mu(S)}}),a.jsx(Oh.Slot,{scope:n,children:a.jsx(Y.ol,{tabIndex:-1,...s,ref:m})}),v&&a.jsx(sf,{ref:h,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});Mu(S)}})]})});qx.displayName=Yx;var Jx="ToastFocusProxy",sf=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=jc(Jx,n);return a.jsx(Ah,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});sf.displayName=Jx;var fi="Toast",qN="toast.swipeStart",JN="toast.swipeMove",XN="toast.swipeCancel",ZN="toast.swipeEnd",Xx=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[l,c]=Wn({prop:r,defaultProp:o??!0,onChange:s,caller:fi});return a.jsx(dt,{present:n||l,children:a.jsx(nk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:De(e.onPause),onResume:De(e.onResume),onSwipeStart:U(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:U(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:U(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:U(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Xx.displayName=fi;var[ek,tk]=Gx(fi,{onClose(){}}),nk=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:w,...v}=e,g=jc(fi,n),[S,y]=d.useState(null),p=re(t,A=>y(A)),x=d.useRef(null),b=d.useRef(null),E=o||g.duration,N=d.useRef(0),C=d.useRef(E),k=d.useRef(0),{onToastAdd:_,onToastRemove:R}=g,$=De(()=>{var H;(S==null?void 0:S.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),i()}),M=d.useCallback(A=>{!A||A===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout($,A))},[$]);d.useEffect(()=>{const A=g.viewport;if(A){const H=()=>{M(C.current),u==null||u()},F=()=>{const Q=new Date().getTime()-N.current;C.current=C.current-Q,window.clearTimeout(k.current),c==null||c()};return A.addEventListener(rf,F),A.addEventListener(of,H),()=>{A.removeEventListener(rf,F),A.removeEventListener(of,H)}}},[g.viewport,E,c,u,M]),d.useEffect(()=>{s&&!g.isClosePausedRef.current&&M(E)},[s,E,g.isClosePausedRef,M]),d.useEffect(()=>(_(),()=>R()),[_,R]);const D=d.useMemo(()=>S?sw(S):null,[S]);return g.viewport?a.jsxs(a.Fragment,{children:[D&&a.jsx(rk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),a.jsx(ek,{scope:n,onClose:$,children:Eo.createPortal(a.jsx(Oh.ItemSlot,{scope:n,children:a.jsx(ON,{asChild:!0,onEscapeKeyDown:U(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Y.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:U(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:U(e.onPointerDown,A=>{A.button===0&&(x.current={x:A.clientX,y:A.clientY})}),onPointerMove:U(e.onPointerMove,A=>{if(!x.current)return;const H=A.clientX-x.current.x,F=A.clientY-x.current.y,Q=!!b.current,P=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,O=P?T(0,H):0,B=P?0:T(0,F),X=A.pointerType==="touch"?10:2,Ne={x:O,y:B},J={originalEvent:A,delta:Ne};Q?(b.current=Ne,Ui(JN,f,J,{discrete:!1})):og(Ne,g.swipeDirection,X)?(b.current=Ne,Ui(qN,h,J,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(H)>X||Math.abs(F)>X)&&(x.current=null)}),onPointerUp:U(e.onPointerUp,A=>{const H=b.current,F=A.target;if(F.hasPointerCapture(A.pointerId)&&F.releasePointerCapture(A.pointerId),b.current=null,x.current=null,H){const Q=A.currentTarget,P={originalEvent:A,delta:H};og(H,g.swipeDirection,g.swipeThreshold)?Ui(ZN,w,P,{discrete:!0}):Ui(XN,m,P,{discrete:!0}),Q.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),rk=e=>{const{__scopeToast:t,children:n,...r}=e,o=jc(fi,t),[s,i]=d.useState(!1),[l,c]=d.useState(!1);return ak(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(di,{asChild:!0,children:a.jsx(Ah,{...r,children:s&&a.jsxs(a.Fragment,{children:[o.label," ",n]})})})},ok="ToastTitle",Zx=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Y.div,{...r,ref:t})});Zx.displayName=ok;var sk="ToastDescription",ew=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Y.div,{...r,ref:t})});ew.displayName=sk;var tw="ToastAction",nw=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(ow,{altText:n,asChild:!0,children:a.jsx(Lh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tw}\`. Expected non-empty \`string\`.`),null)});nw.displayName=tw;var rw="ToastClose",Lh=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=tk(rw,n);return a.jsx(ow,{asChild:!0,children:a.jsx(Y.button,{type:"button",...r,ref:t,onClick:U(e.onClick,o.onClose)})})});Lh.displayName=rw;var ow=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return a.jsx(Y.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function sw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ik(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...sw(r))}}),t}function Ui(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ih(o,s):o.dispatchEvent(s)}var og=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function ak(e=()=>{}){const t=De(e);Ve(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ik(e){return e.nodeType===e.ELEMENT_NODE}function lk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var ck=Qx,aw=qx,iw=Xx,lw=Zx,cw=ew,uw=nw,dw=Lh;function fw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=fw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hw(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=fw(e))&&(r&&(r+=" "),r+=t);return r}const sg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ag=hw,Ds=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ag(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(u=>{const h=n==null?void 0:n[u],f=s==null?void 0:s[u];if(h===null)return null;const m=sg(h)||sg(f);return o[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...w}=h;return Object.entries(w).every(v=>{let[g,S]=v;return Array.isArray(S)?S.includes({...s,...l}[g]):{...s,...l}[g]===S})?[...u,f,m]:u},[]);return ag(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mw=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...dk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mw("lucide",o),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const n=d.forwardRef(({className:r,...o},s)=>d.createElement(fk,{ref:s,iconNode:t,className:mw(`lucide-${uk(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ue("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ue("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ue("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ue("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ue("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ue("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ue("TvMinimal",[["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$h="-",xk=e=>{const t=Sk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split($h);return l[0]===""&&l.length!==1&&l.shift(),yw(l,t)||wk(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},yw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?yw(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join($h);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},hg=/^\[(.+)\]$/,wk=e=>{if(hg.test(e)){const t=hg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Sk=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Ek(Object.entries(e.classGroups),n).forEach(([s,i])=>{hf(i,r,s,t)}),r},hf=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:mg(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(bk(o)){hf(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{hf(i,mg(t,s),n,r)})})},mg=(e,t)=>{let n=e;return t.split($h).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bk=e=>e.isThemeGetter,Ek=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[n,o]}):e,Ck=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},xw="!",jk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=l=>{const c=[];let u=0,h=0,f;for(let S=0;S<l.length;S++){let y=l[S];if(u===0){if(y===o&&(r||l.slice(S,S+s)===t)){c.push(l.slice(h,S)),h=S+s;continue}if(y==="/"){f=S;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(h),w=m.startsWith(xw),v=w?m.substring(1):m,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},Nk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},kk=e=>({cache:Ck(e.cacheSize),parseClassName:jk(e),...xk(e)}),Tk=/\s+/,Pk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(Tk);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:w}=n(u);let v=!!w,g=r(v?m.substring(0,w):m);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const S=Nk(h).join(":"),y=f?S+xw:S,p=y+g;if(s.includes(p))continue;s.push(p);const x=o(g,v);for(let b=0;b<x.length;++b){const E=x[b];s.push(y+E)}l=u+(l.length>0?" "+l:l)}return l};function _k(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ww(t))&&(r&&(r+=" "),r+=n);return r}const ww=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ww(e[r]))&&(n&&(n+=" "),n+=t);return n};function Rk(e,...t){let n,r,o,s=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return n=kk(u),r=n.cache.get,o=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=Pk(c,n);return o(c,h),h}return function(){return s(_k.apply(null,arguments))}}const be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Sw=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mk=/^\d+\/\d+$/,Ik=new Set(["px","full","screen"]),Ak=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ok=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=e=>ns(e)||Ik.has(e)||Mk.test(e),Kn=e=>Os(e,"length",Kk),ns=e=>!!e&&!Number.isNaN(Number(e)),Iu=e=>Os(e,"number",ns),Xs=e=>!!e&&Number.isInteger(Number(e)),$k=e=>e.endsWith("%")&&ns(e.slice(0,-1)),te=e=>Sw.test(e),Gn=e=>Ak.test(e),Uk=new Set(["length","size","percentage"]),Wk=e=>Os(e,Uk,bw),zk=e=>Os(e,"position",bw),Hk=new Set(["image","url"]),Bk=e=>Os(e,Hk,Qk),Vk=e=>Os(e,"",Gk),Zs=()=>!0,Os=(e,t,n)=>{const r=Sw.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Kk=e=>Dk.test(e)&&!Ok.test(e),bw=()=>!1,Gk=e=>Lk.test(e),Qk=e=>Fk.test(e),Yk=()=>{const e=be("colors"),t=be("spacing"),n=be("blur"),r=be("brightness"),o=be("borderColor"),s=be("borderRadius"),i=be("borderSpacing"),l=be("borderWidth"),c=be("contrast"),u=be("grayscale"),h=be("hueRotate"),f=be("invert"),m=be("gap"),w=be("gradientColorStops"),v=be("gradientColorStopPositions"),g=be("inset"),S=be("margin"),y=be("opacity"),p=be("padding"),x=be("saturate"),b=be("scale"),E=be("sepia"),N=be("skew"),C=be("space"),k=be("translate"),_=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",te,t],M=()=>[te,t],D=()=>["",Cn,Kn],A=()=>["auto",ns,te],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",te],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ns,te];return{cacheSize:500,separator:":",theme:{colors:[Zs],spacing:[Cn,Kn],blur:["none","",Gn,te],brightness:B(),borderColor:[e],borderRadius:["none","","full",Gn,te],borderSpacing:M(),borderWidth:D(),contrast:B(),grayscale:T(),hueRotate:B(),invert:T(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[$k,Kn],inset:$(),margin:$(),opacity:B(),padding:M(),saturate:B(),scale:B(),sepia:T(),skew:B(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[Gn]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),te]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xs,te]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Xs,te]}],"grid-cols":[{"grid-cols":[Zs]}],"col-start-end":[{col:["auto",{span:["full",Xs,te]},te]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Zs]}],"row-start-end":[{row:["auto",{span:[Xs,te]},te]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[Gn]},Gn]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gn,Kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iu]}],"font-family":[{font:[Zs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",ns,Iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,Kn]}],"underline-offset":[{"underline-offset":["auto",Cn,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),zk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Cn,te]}],"outline-w":[{outline:[Cn,Kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cn,Kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gn,Vk]}],"shadow-color":[{shadow:[Zs]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gn,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Xs,te]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cn,Kn,Iu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qk=Rk(Yk);function G(...e){return qk(hw(e))}const Jk=ck,Ew=d.forwardRef(({className:e,...t},n)=>a.jsx(aw,{ref:n,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ew.displayName=aw.displayName;const Xk=Ds("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cw=d.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(iw,{ref:r,className:G(Xk({variant:t}),e),...n}));Cw.displayName=iw.displayName;const Zk=d.forwardRef(({className:e,...t},n)=>a.jsx(uw,{ref:n,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Zk.displayName=uw.displayName;const jw=d.forwardRef(({className:e,...t},n)=>a.jsx(dw,{ref:n,className:G("absolute right-2 top-2 rounded-md p-1.5 text-foreground/70 opacity-100 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 bg-gray-800/50 hover:bg-gray-700/80 sm:opacity-0 sm:bg-transparent",e),"toast-close":"",...t,children:a.jsx(An,{className:"h-5 w-5 sm:h-4 sm:w-4"})}));jw.displayName=dw.displayName;const Nw=d.forwardRef(({className:e,...t},n)=>a.jsx(lw,{ref:n,className:G("text-sm font-semibold",e),...t}));Nw.displayName=lw.displayName;const kw=d.forwardRef(({className:e,...t},n)=>a.jsx(cw,{ref:n,className:G("text-sm opacity-90",e),...t}));kw.displayName=cw.displayName;function eT(){const{toasts:e}=Ht();return a.jsxs(Jk,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return a.jsxs(Cw,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Nw,{children:n}),r&&a.jsx(kw,{children:r})]}),o,a.jsx(jw,{})]},t)}),a.jsx(Ew,{})]})}const Ge=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ge.displayName="Card";const et=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:G("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const pt=d.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:G("text-2xl font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const Ur=d.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:G("text-sm text-muted-foreground",e),...t}));Ur.displayName="CardDescription";const Qe=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:G("p-6 pt-0",e),...t}));Qe.displayName="CardContent";const tT=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:G("flex items-center p-6 pt-0",e),...t}));tT.displayName="CardFooter";function nT(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Ge,{className:"w-full max-w-md mx-4",children:a.jsxs(Qe,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(gw,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const rT="modulepreload",oT=function(e){return"/"+e},pg={},Uh=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=oT(c),c in pg)return;pg[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rT,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,w)=>{f.addEventListener("load",m),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var sT=d.createContext(void 0);function Ls(e){const t=d.useContext(sT);return e||t||"ltr"}var Au=0;function Wh(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gg()),document.body.insertAdjacentElement("beforeend",e[1]??gg()),Au++,()=>{Au===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Au--}},[])}function gg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Du="focusScope.autoFocusOnMount",Ou="focusScope.autoFocusOnUnmount",vg={bubbles:!1,cancelable:!0},aT="FocusScope",kc=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[l,c]=d.useState(null),u=De(o),h=De(s),f=d.useRef(null),m=re(t,g=>c(g)),w=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let g=function(x){if(w.paused||!l)return;const b=x.target;l.contains(b)?f.current=b:qn(f.current,{select:!0})},S=function(x){if(w.paused||!l)return;const b=x.relatedTarget;b!==null&&(l.contains(b)||qn(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&qn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),p.disconnect()}}},[r,l,w.paused]),d.useEffect(()=>{if(l){xg.add(w);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Du,vg);l.addEventListener(Du,u),l.dispatchEvent(y),y.defaultPrevented||(iT(fT(Tw(l)),{select:!0}),document.activeElement===g&&qn(l))}return()=>{l.removeEventListener(Du,u),setTimeout(()=>{const y=new CustomEvent(Ou,vg);l.addEventListener(Ou,h),l.dispatchEvent(y),y.defaultPrevented||qn(g??document.body,{select:!0}),l.removeEventListener(Ou,h),xg.remove(w)},0)}}},[l,u,h,w]);const v=d.useCallback(g=>{if(!n&&!r||w.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(S&&y){const p=g.currentTarget,[x,b]=lT(p);x&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&qn(x,{select:!0})):g.shiftKey&&y===x&&(g.preventDefault(),n&&qn(b,{select:!0})):y===p&&g.preventDefault()}},[n,r,w.paused]);return a.jsx(Y.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});kc.displayName=aT;function iT(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qn(r,{select:t}),document.activeElement!==n)return}function lT(e){const t=Tw(e),n=yg(t,e),r=yg(t.reverse(),e);return[n,r]}function Tw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yg(e,t){for(const n of e)if(!cT(n,{upTo:t}))return n}function cT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uT(e){return e instanceof HTMLInputElement&&"select"in e}function qn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uT(e)&&t&&e.select()}}var xg=dT();function dT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wg(e,t),e.unshift(t)},remove(t){var n;e=wg(e,t),(n=e[0])==null||n.resume()}}}function wg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fT(e){return e.filter(t=>t.tagName!=="A")}var hT=If[" useId ".trim().toString()]||(()=>{}),mT=0;function vn(e){const[t,n]=d.useState(hT());return Ve(()=>{n(r=>r??String(mT++))},[e]),t?`radix-${t}`:""}const pT=["top","right","bottom","left"],kr=Math.min,Et=Math.max,Bl=Math.round,zi=Math.floor,yn=e=>({x:e,y:e}),gT={left:"right",right:"left",bottom:"top",top:"bottom"},vT={start:"end",end:"start"};function mf(e,t,n){return Et(e,kr(t,n))}function zn(e,t){return typeof e=="function"?e(t):e}function Hn(e){return e.split("-")[0]}function Fs(e){return e.split("-")[1]}function zh(e){return e==="x"?"y":"x"}function Hh(e){return e==="y"?"height":"width"}function Dn(e){return["top","bottom"].includes(Hn(e))?"y":"x"}function Bh(e){return zh(Dn(e))}function yT(e,t,n){n===void 0&&(n=!1);const r=Fs(e),o=Bh(e),s=Hh(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Vl(i)),[i,Vl(i)]}function xT(e){const t=Vl(e);return[pf(e),t,pf(t)]}function pf(e){return e.replace(/start|end/g,t=>vT[t])}function wT(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function ST(e,t,n,r){const o=Fs(e);let s=wT(Hn(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(pf)))),s}function Vl(e){return e.replace(/left|right|bottom|top/g,t=>gT[t])}function bT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pw(e){return typeof e!="number"?bT(e):{top:e,right:e,bottom:e,left:e}}function Kl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Sg(e,t,n){let{reference:r,floating:o}=e;const s=Dn(t),i=Bh(t),l=Hh(i),c=Hn(t),u=s==="y",h=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m=r[l]/2-o[l]/2;let w;switch(c){case"top":w={x:h,y:r.y-o.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-o.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Fs(t)){case"start":w[i]-=m*(n&&u?-1:1);break;case"end":w[i]+=m*(n&&u?-1:1);break}return w}const ET=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:f}=Sg(u,r,c),m=r,w={},v=0;for(let g=0;g<l.length;g++){const{name:S,fn:y}=l[g],{x:p,y:x,data:b,reset:E}=await y({x:h,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:w,rects:u,platform:i,elements:{reference:e,floating:t}});h=p??h,f=x??f,w={...w,[S]:{...w[S],...b}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:h,y:f}=Sg(u,m,c)),g=-1)}return{x:h,y:f,placement:m,strategy:o,middlewareData:w}};async function Ka(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:w=0}=zn(t,e),v=Pw(w),S=l[m?f==="floating"?"reference":"floating":f],y=Kl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Kl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:x,strategy:c}):p);return{top:(y.top-E.top+v.top)/b.y,bottom:(E.bottom-y.bottom+v.bottom)/b.y,left:(y.left-E.left+v.left)/b.x,right:(E.right-y.right+v.right)/b.x}}const CT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=zn(e,t)||{};if(u==null)return{};const f=Pw(h),m={x:n,y:r},w=Bh(o),v=Hh(w),g=await i.getDimensions(u),S=w==="y",y=S?"top":"left",p=S?"bottom":"right",x=S?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[w]-m[w]-s.floating[v],E=m[w]-s.reference[w],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=N?N[x]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=l.floating[x]||s.floating[v]);const k=b/2-E/2,_=C/2-g[v]/2-1,R=kr(f[y],_),$=kr(f[p],_),M=R,D=C-g[v]-$,A=C/2-g[v]/2+k,H=mf(M,A,D),F=!c.arrow&&Fs(o)!=null&&A!==H&&s.reference[v]/2-(A<M?R:$)-g[v]/2<0,Q=F?A<M?A-M:A-D:0;return{[w]:m[w]+Q,data:{[w]:H,centerOffset:A-H-Q,...F&&{alignmentOffset:Q}},reset:F}}}),jT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...S}=zn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Hn(o),p=Dn(l),x=Hn(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(x||!g?[Vl(l)]:xT(l)),N=v!=="none";!m&&N&&E.push(...ST(l,g,v,b));const C=[l,...E],k=await Ka(t,S),_=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&_.push(k[y]),f){const H=yT(o,i,b);_.push(k[H[0]],k[H[1]])}if(R=[...R,{placement:o,overflows:_}],!_.every(H=>H<=0)){var $,M;const H=((($=s.flip)==null?void 0:$.index)||0)+1,F=C[H];if(F){var D;const P=f==="alignment"?p!==Dn(F):!1,T=((D=R[0])==null?void 0:D.overflows[0])>0;if(!P||T)return{data:{index:H,overflows:R},reset:{placement:F}}}let Q=(M=R.filter(P=>P.overflows[0]<=0).sort((P,T)=>P.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!Q)switch(w){case"bestFit":{var A;const P=(A=R.filter(T=>{if(N){const O=Dn(T.placement);return O===p||O==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,B)=>O+B,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:A[0];P&&(Q=P);break}case"initialPlacement":Q=l;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}};function bg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Eg(e){return pT.some(t=>e[t]>=0)}const NT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=zn(e,t);switch(r){case"referenceHidden":{const s=await Ka(t,{...o,elementContext:"reference"}),i=bg(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Eg(i)}}}case"escaped":{const s=await Ka(t,{...o,altBoundary:!0}),i=bg(s,n.floating);return{data:{escapedOffsets:i,escaped:Eg(i)}}}default:return{}}}}};async function kT(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Hn(n),l=Fs(n),c=Dn(n)==="y",u=["left","top"].includes(i)?-1:1,h=s&&c?-1:1,f=zn(t,e);let{mainAxis:m,crossAxis:w,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(w=l==="end"?v*-1:v),c?{x:w*h,y:m*u}:{x:m*u,y:w*h}}const TT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:l}=t,c=await kT(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},PT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:y,y:p}=S;return{x:y,y:p}}},...c}=zn(e,t),u={x:n,y:r},h=await Ka(t,c),f=Dn(Hn(o)),m=zh(f);let w=u[m],v=u[f];if(s){const S=m==="y"?"top":"left",y=m==="y"?"bottom":"right",p=w+h[S],x=w-h[y];w=mf(p,w,x)}if(i){const S=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=v+h[S],x=v-h[y];v=mf(p,v,x)}const g=l.fn({...t,[m]:w,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:s,[f]:i}}}}}},_T=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zn(e,t),h={x:n,y:r},f=Dn(o),m=zh(f);let w=h[m],v=h[f];const g=zn(l,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",b=s.reference[m]-s.floating[x]+S.mainAxis,E=s.reference[m]+s.reference[x]-S.mainAxis;w<b?w=b:w>E&&(w=E)}if(u){var y,p;const x=m==="y"?"width":"height",b=["top","left"].includes(Hn(o)),E=s.reference[f]-s.floating[x]+(b&&((y=i.offset)==null?void 0:y[f])||0)+(b?0:S.crossAxis),N=s.reference[f]+s.reference[x]+(b?0:((p=i.offset)==null?void 0:p[f])||0)-(b?S.crossAxis:0);v<E?v=E:v>N&&(v=N)}return{[m]:w,[f]:v}}}},RT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=zn(e,t),h=await Ka(t,u),f=Hn(o),m=Fs(o),w=Dn(o)==="y",{width:v,height:g}=s.floating;let S,y;f==="top"||f==="bottom"?(S=f,y=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,S=m==="end"?"top":"bottom");const p=g-h.top-h.bottom,x=v-h.left-h.right,b=kr(g-h[S],p),E=kr(v-h[y],x),N=!t.middlewareData.shift;let C=b,k=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),N&&!m){const R=Et(h.left,0),$=Et(h.right,0),M=Et(h.top,0),D=Et(h.bottom,0);w?k=v-2*(R!==0||$!==0?R+$:Et(h.left,h.right)):C=g-2*(M!==0||D!==0?M+D:Et(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:C});const _=await i.getDimensions(l.floating);return v!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Tc(){return typeof window<"u"}function $s(e){return _w(e)?(e.nodeName||"").toLowerCase():"#document"}function Nt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sn(e){var t;return(t=(_w(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _w(e){return Tc()?e instanceof Node||e instanceof Nt(e).Node:!1}function on(e){return Tc()?e instanceof Element||e instanceof Nt(e).Element:!1}function wn(e){return Tc()?e instanceof HTMLElement||e instanceof Nt(e).HTMLElement:!1}function Cg(e){return!Tc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nt(e).ShadowRoot}function hi(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function MT(e){return["table","td","th"].includes($s(e))}function Pc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vh(e){const t=Kh(),n=on(e)?sn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IT(e){let t=Tr(e);for(;wn(t)&&!Ns(t);){if(Vh(t))return t;if(Pc(t))return null;t=Tr(t)}return null}function Kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ns(e){return["html","body","#document"].includes($s(e))}function sn(e){return Nt(e).getComputedStyle(e)}function _c(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tr(e){if($s(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cg(e)&&e.host||Sn(e);return Cg(t)?t.host:t}function Rw(e){const t=Tr(e);return Ns(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&hi(t)?t:Rw(t)}function Ga(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Rw(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Nt(o);if(s){const l=gf(i);return t.concat(i,i.visualViewport||[],hi(o)?o:[],l&&n?Ga(l):[])}return t.concat(o,Ga(o,[],n))}function gf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mw(e){const t=sn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=wn(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=Bl(n)!==s||Bl(r)!==i;return l&&(n=s,r=i),{width:n,height:r,$:l}}function Gh(e){return on(e)?e:e.contextElement}function rs(e){const t=Gh(e);if(!wn(t))return yn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Mw(t);let i=(s?Bl(n.width):n.width)/r,l=(s?Bl(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const AT=yn(0);function Iw(e){const t=Nt(e);return!Kh()||!t.visualViewport?AT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nt(e)?!1:t}function fo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Gh(e);let i=yn(1);t&&(r?on(r)&&(i=rs(r)):i=rs(e));const l=DT(s,n,r)?Iw(s):yn(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,h=o.width/i.x,f=o.height/i.y;if(s){const m=Nt(s),w=r&&on(r)?Nt(r):r;let v=m,g=gf(v);for(;g&&r&&w!==v;){const S=rs(g),y=g.getBoundingClientRect(),p=sn(g),x=y.left+(g.clientLeft+parseFloat(p.paddingLeft))*S.x,b=y.top+(g.clientTop+parseFloat(p.paddingTop))*S.y;c*=S.x,u*=S.y,h*=S.x,f*=S.y,c+=x,u+=b,v=Nt(g),g=gf(v)}}return Kl({width:h,height:f,x:c,y:u})}function Qh(e,t){const n=_c(e).scrollLeft;return t?t.left+n:fo(Sn(e)).left+n}function Aw(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Qh(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function OT(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=Sn(r),l=t?Pc(t.floating):!1;if(r===i||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=yn(1);const h=yn(0),f=wn(r);if((f||!f&&!s)&&(($s(r)!=="body"||hi(i))&&(c=_c(r)),wn(r))){const w=fo(r);u=rs(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const m=i&&!f&&!s?Aw(i,c,!0):yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function LT(e){return Array.from(e.getClientRects())}function FT(e){const t=Sn(e),n=_c(e),r=e.ownerDocument.body,o=Et(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Et(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qh(e);const l=-n.scrollTop;return sn(r).direction==="rtl"&&(i+=Et(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:l}}function $T(e,t){const n=Nt(e),r=Sn(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){s=o.width,i=o.height;const u=Kh();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:i,x:l,y:c}}function UT(e,t){const n=fo(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=wn(e)?rs(e):yn(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=o*s.x,u=r*s.y;return{width:i,height:l,x:c,y:u}}function jg(e,t,n){let r;if(t==="viewport")r=$T(e,n);else if(t==="document")r=FT(Sn(e));else if(on(t))r=UT(t,n);else{const o=Iw(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Kl(r)}function Dw(e,t){const n=Tr(e);return n===t||!on(n)||Ns(n)?!1:sn(n).position==="fixed"||Dw(n,t)}function WT(e,t){const n=t.get(e);if(n)return n;let r=Ga(e,[],!1).filter(l=>on(l)&&$s(l)!=="body"),o=null;const s=sn(e).position==="fixed";let i=s?Tr(e):e;for(;on(i)&&!Ns(i);){const l=sn(i),c=Vh(i);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||hi(i)&&!c&&Dw(e,i))?r=r.filter(h=>h!==i):o=l,i=Tr(i)}return t.set(e,r),r}function zT(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Pc(t)?[]:WT(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=jg(t,h,o);return u.top=Et(f.top,u.top),u.right=kr(f.right,u.right),u.bottom=kr(f.bottom,u.bottom),u.left=Et(f.left,u.left),u},jg(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HT(e){const{width:t,height:n}=Mw(e);return{width:t,height:n}}function BT(e,t,n){const r=wn(t),o=Sn(t),s=n==="fixed",i=fo(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=yn(0);function u(){c.x=Qh(o)}if(r||!r&&!s)if(($s(t)!=="body"||hi(o))&&(l=_c(t)),r){const w=fo(t,!0,s,t);c.x=w.x+t.clientLeft,c.y=w.y+t.clientTop}else o&&u();s&&!r&&o&&u();const h=o&&!r&&!s?Aw(o,l):yn(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function Lu(e){return sn(e).position==="static"}function Ng(e,t){if(!wn(e)||sn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Sn(e)===n&&(n=n.ownerDocument.body),n}function Ow(e,t){const n=Nt(e);if(Pc(e))return n;if(!wn(e)){let o=Tr(e);for(;o&&!Ns(o);){if(on(o)&&!Lu(o))return o;o=Tr(o)}return n}let r=Ng(e,t);for(;r&&MT(r)&&Lu(r);)r=Ng(r,t);return r&&Ns(r)&&Lu(r)&&!Vh(r)?n:r||IT(e)||n}const VT=async function(e){const t=this.getOffsetParent||Ow,n=this.getDimensions,r=await n(e.floating);return{reference:BT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KT(e){return sn(e).direction==="rtl"}const GT={convertOffsetParentRelativeRectToViewportRelativeRect:OT,getDocumentElement:Sn,getClippingRect:zT,getOffsetParent:Ow,getElementRects:VT,getClientRects:LT,getDimensions:HT,getScale:rs,isElement:on,isRTL:KT};function Lw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QT(e,t){let n=null,r;const o=Sn(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:w}=u;if(l||t(),!m||!w)return;const v=zi(f),g=zi(o.clientWidth-(h+m)),S=zi(o.clientHeight-(f+w)),y=zi(h),x={rootMargin:-v+"px "+-g+"px "+-S+"px "+-y+"px",threshold:Et(0,kr(1,c))||1};let b=!0;function E(N){const C=N[0].intersectionRatio;if(C!==c){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Lw(u,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(E,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return i(!0),s}function YT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Gh(e),h=o||s?[...u?Ga(u):[],...Ga(t)]:[];h.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&l?QT(u,n):null;let m=-1,w=null;i&&(w=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&w&&(w.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=w)==null||x.observe(t)})),n()}),u&&!c&&w.observe(u),w.observe(t));let v,g=c?fo(e):null;c&&S();function S(){const y=fo(e);g&&!Lw(g,y)&&n(),g=y,v=requestAnimationFrame(S)}return n(),()=>{var y;h.forEach(p=>{o&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),f==null||f(),(y=w)==null||y.disconnect(),w=null,c&&cancelAnimationFrame(v)}}const qT=TT,JT=PT,XT=jT,ZT=RT,eP=NT,kg=CT,tP=_T,nP=(e,t,n)=>{const r=new Map,o={platform:GT,...n},s={...o.platform,_c:r};return ET(e,t,{...o,platform:s})};var ul=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Gl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Gl(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Gl(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Fw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(e,t){const n=Fw(e);return Math.round(t*n)/n}function Fu(e){const t=d.useRef(e);return ul(()=>{t.current=e}),t}function rP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,w]=d.useState(r);Gl(m,r)||w(r);const[v,g]=d.useState(null),[S,y]=d.useState(null),p=d.useCallback(P=>{P!==N.current&&(N.current=P,g(P))},[]),x=d.useCallback(P=>{P!==C.current&&(C.current=P,y(P))},[]),b=s||v,E=i||S,N=d.useRef(null),C=d.useRef(null),k=d.useRef(h),_=c!=null,R=Fu(c),$=Fu(o),M=Fu(u),D=d.useCallback(()=>{if(!N.current||!C.current)return;const P={placement:t,strategy:n,middleware:m};$.current&&(P.platform=$.current),nP(N.current,C.current,P).then(T=>{const O={...T,isPositioned:M.current!==!1};A.current&&!Gl(k.current,O)&&(k.current=O,Eo.flushSync(()=>{f(O)}))})},[m,t,n,$,M]);ul(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const A=d.useRef(!1);ul(()=>(A.current=!0,()=>{A.current=!1}),[]),ul(()=>{if(b&&(N.current=b),E&&(C.current=E),b&&E){if(R.current)return R.current(b,E,D);D()}},[b,E,D,R,_]);const H=d.useMemo(()=>({reference:N,floating:C,setReference:p,setFloating:x}),[p,x]),F=d.useMemo(()=>({reference:b,floating:E}),[b,E]),Q=d.useMemo(()=>{const P={position:n,left:0,top:0};if(!F.floating)return P;const T=Tg(F.floating,h.x),O=Tg(F.floating,h.y);return l?{...P,transform:"translate("+T+"px, "+O+"px)",...Fw(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:O}},[n,l,F.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:D,refs:H,elements:F,floatingStyles:Q}),[h,D,H,F,Q])}const oP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?kg({element:r.current,padding:o}).fn(n):{}:r?kg({element:r,padding:o}).fn(n):{}}}},sP=(e,t)=>({...qT(e),options:[e,t]}),aP=(e,t)=>({...JT(e),options:[e,t]}),iP=(e,t)=>({...tP(e),options:[e,t]}),lP=(e,t)=>({...XT(e),options:[e,t]}),cP=(e,t)=>({...ZT(e),options:[e,t]}),uP=(e,t)=>({...eP(e),options:[e,t]}),dP=(e,t)=>({...oP(e),options:[e,t]});var fP="Arrow",$w=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return a.jsx(Y.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});$w.displayName=fP;var hP=$w;function Yh(e){const[t,n]=d.useState(void 0);return Ve(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var qh="Popper",[Uw,Rc]=_t(qh),[mP,Ww]=Uw(qh),zw=e=>{const{__scopePopper:t,children:n}=e,[r,o]=d.useState(null);return a.jsx(mP,{scope:t,anchor:r,onAnchorChange:o,children:n})};zw.displayName=qh;var Hw="PopperAnchor",Bw=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Ww(Hw,n),i=d.useRef(null),l=re(t,i);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(Y.div,{...o,ref:l})});Bw.displayName=Hw;var Jh="PopperContent",[pP,gP]=Uw(Jh),Vw=d.forwardRef((e,t)=>{var V,se,de,Z,fe,pe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:w="optimized",onPlaced:v,...g}=e,S=Ww(Jh,n),[y,p]=d.useState(null),x=re(t,Ue=>p(Ue)),[b,E]=d.useState(null),N=Yh(b),C=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,_=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(u)?u:[u],M=$.length>0,D={padding:R,boundary:$.filter(yP),altBoundary:M},{refs:A,floatingStyles:H,placement:F,isPositioned:Q,middlewareData:P}=rP({strategy:"fixed",placement:_,whileElementsMounted:(...Ue)=>YT(...Ue,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[sP({mainAxis:o+k,alignmentAxis:i}),c&&aP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?iP():void 0,...D}),c&&lP({...D}),cP({...D,apply:({elements:Ue,rects:Rt,availableWidth:En,availableHeight:Dr})=>{const{width:Or,height:Jc}=Rt.reference,ko=Ue.floating.style;ko.setProperty("--radix-popper-available-width",`${En}px`),ko.setProperty("--radix-popper-available-height",`${Dr}px`),ko.setProperty("--radix-popper-anchor-width",`${Or}px`),ko.setProperty("--radix-popper-anchor-height",`${Jc}px`)}}),b&&dP({element:b,padding:l}),xP({arrowWidth:C,arrowHeight:k}),m&&uP({strategy:"referenceHidden",...D})]}),[T,O]=Qw(F),B=De(v);Ve(()=>{Q&&(B==null||B())},[Q,B]);const X=(V=P.arrow)==null?void 0:V.x,Ne=(se=P.arrow)==null?void 0:se.y,J=((de=P.arrow)==null?void 0:de.centerOffset)!==0,[ye,ie]=d.useState();return Ve(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Q?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(Z=P.transformOrigin)==null?void 0:Z.x,(fe=P.transformOrigin)==null?void 0:fe.y].join(" "),...((pe=P.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(pP,{scope:n,placedSide:T,onArrowChange:E,arrowX:X,arrowY:Ne,shouldHideArrow:J,children:a.jsx(Y.div,{"data-side":T,"data-align":O,...g,ref:x,style:{...g.style,animation:Q?void 0:"none"}})})})});Vw.displayName=Jh;var Kw="PopperArrow",vP={top:"bottom",right:"left",bottom:"top",left:"right"},Gw=d.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=gP(Kw,r),i=vP[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(hP,{...o,ref:n,style:{...o.style,display:"block"}})})});Gw.displayName=Kw;function yP(e){return e!==null}var xP=e=>({name:"transformOrigin",options:e,fn(t){var S,y,p;const{placement:n,rects:r,middlewareData:o}=t,i=((S=o.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=Qw(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((y=o.arrow)==null?void 0:y.x)??0)+l/2,w=(((p=o.arrow)==null?void 0:p.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=i?f:`${m}px`,g=`${-c}px`):u==="top"?(v=i?f:`${m}px`,g=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=i?f:`${w}px`):u==="left"&&(v=`${r.floating.width+c}px`,g=i?f:`${w}px`),{data:{x:v,y:g}}}});function Qw(e){const[t,n="center"]=e.split("-");return[t,n]}var Yw=zw,qw=Bw,Jw=Vw,Xw=Gw,$u="rovingFocusGroup.onEntryFocus",wP={bubbles:!1,cancelable:!0},mi="RovingFocusGroup",[vf,Zw,SP]=Cc(mi),[bP,Us]=_t(mi,[SP]),[EP,CP]=bP(mi),e0=d.forwardRef((e,t)=>a.jsx(vf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(vf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(jP,{...e,ref:t})})}));e0.displayName=mi;var jP=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),w=re(t,m),v=Ls(s),[g,S]=Wn({prop:i,defaultProp:l??null,onChange:c,caller:mi}),[y,p]=d.useState(!1),x=De(u),b=Zw(n),E=d.useRef(!1),[N,C]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener($u,x),()=>k.removeEventListener($u,x)},[x]),a.jsx(EP,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:g,onItemFocus:d.useCallback(k=>S(k),[S]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>C(k=>k-1),[]),children:a.jsx(Y.div,{tabIndex:y||N===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{E.current=!0}),onFocus:U(e.onFocus,k=>{const _=!E.current;if(k.target===k.currentTarget&&_&&!y){const R=new CustomEvent($u,wP);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const $=b().filter(F=>F.focusable),M=$.find(F=>F.active),D=$.find(F=>F.id===g),H=[M,D,...$].filter(Boolean).map(F=>F.ref.current);r0(H,h)}}E.current=!1}),onBlur:U(e.onBlur,()=>p(!1))})})}),t0="RovingFocusGroupItem",n0=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...l}=e,c=vn(),u=s||c,h=CP(t0,n),f=h.currentTabStopId===u,m=Zw(n),{onFocusableItemAdd:w,onFocusableItemRemove:v,currentTabStopId:g}=h;return d.useEffect(()=>{if(r)return w(),()=>v()},[r,w,v]),a.jsx(vf.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:a.jsx(Y.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:U(e.onMouseDown,S=>{r?h.onItemFocus(u):S.preventDefault()}),onFocus:U(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:U(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=TP(S,h.orientation,h.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let x=m().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const b=x.indexOf(S.currentTarget);x=h.loop?PP(x,b+1):x.slice(b+1)}setTimeout(()=>r0(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});n0.displayName=t0;var NP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TP(e,t,n){const r=kP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NP[r]}function r0(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function PP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Xh=e0,Zh=n0,_P=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ro=new WeakMap,Hi=new WeakMap,Bi={},Uu=0,o0=function(e){return e&&(e.host||o0(e.parentNode))},RP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=o0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MP=function(e,t,n,r){var o=RP(t,Array.isArray(e)?e:[e]);Bi[n]||(Bi[n]=new WeakMap);var s=Bi[n],i=[],l=new Set,c=new Set(o),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};o.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var w=m.getAttribute(r),v=w!==null&&w!=="false",g=(Ro.get(m)||0)+1,S=(s.get(m)||0)+1;Ro.set(m,g),s.set(m,S),i.push(m),g===1&&v&&Hi.set(m,!0),S===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return h(t),l.clear(),Uu++,function(){i.forEach(function(f){var m=Ro.get(f)-1,w=s.get(f)-1;Ro.set(f,m),s.set(f,w),m||(Hi.has(f)||f.removeAttribute(r),Hi.delete(f)),w||f.removeAttribute(n)}),Uu--,Uu||(Ro=new WeakMap,Ro=new WeakMap,Hi=new WeakMap,Bi={})}},em=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=_P(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),MP(r,o,n,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mn.apply(this,arguments)};function s0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function IP(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var dl="right-scroll-bar-position",fl="width-before-scroll-bar",AP="with-scroll-bars-hidden",DP="--removed-body-scroll-bar-size";function Wu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OP(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var LP=typeof window<"u"?d.useLayoutEffect:d.useEffect,Pg=new WeakMap;function FP(e,t){var n=OP(null,function(r){return e.forEach(function(o){return Wu(o,r)})});return LP(function(){var r=Pg.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(l){s.has(l)||Wu(l,null)}),s.forEach(function(l){o.has(l)||Wu(l,i)})}Pg.set(n,e)},[e]),n}function $P(e){return e}function UP(e,t){t===void 0&&(t=$P);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(s),i=n}var c=function(){var h=i;i=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return o}function WP(e){e===void 0&&(e={});var t=UP(null);return t.options=mn({async:!0,ssr:!1},e),t}var a0=function(e){var t=e.sideCar,n=s0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,mn({},n))};a0.isSideCarExport=!0;function zP(e,t){return e.useMedium(t),a0}var i0=WP(),zu=function(){},Mc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:zu,onWheelCapture:zu,onTouchMoveCapture:zu}),o=r[0],s=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,w=e.noIsolation,v=e.inert,g=e.allowPinchZoom,S=e.as,y=S===void 0?"div":S,p=e.gapMode,x=s0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,E=FP([n,t]),N=mn(mn({},x),o);return d.createElement(d.Fragment,null,h&&d.createElement(b,{sideCar:i0,removeScrollBar:u,shards:f,noIsolation:w,inert:v,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:p}),i?d.cloneElement(d.Children.only(l),mn(mn({},N),{ref:E})):d.createElement(y,mn({},N,{className:c,ref:E}),l))});Mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mc.classNames={fullWidth:fl,zeroRight:dl};var HP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HP();return t&&e.setAttribute("nonce",t),e}function VP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=BP())&&(VP(t,n),KP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QP=function(){var e=GP();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},l0=function(){var e=QP(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},YP={left:0,top:0,right:0,gap:0},Hu=function(e){return parseInt(e||"",10)||0},qP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Hu(n),Hu(r),Hu(o)]},JP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YP;var t=qP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},XP=l0(),os="data-scroll-locked",ZP=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(AP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(os,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fl," .").concat(fl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(os,`] {
    `).concat(DP,": ").concat(l,`px;
  }
`)},_g=function(){var e=parseInt(document.body.getAttribute(os)||"0",10);return isFinite(e)?e:0},e_=function(){d.useEffect(function(){return document.body.setAttribute(os,(_g()+1).toString()),function(){var e=_g()-1;e<=0?document.body.removeAttribute(os):document.body.setAttribute(os,e.toString())}},[])},t_=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;e_();var s=d.useMemo(function(){return JP(o)},[o]);return d.createElement(XP,{styles:ZP(s,!t,o,n?"":"!important")})},yf=!1;if(typeof window<"u")try{var Vi=Object.defineProperty({},"passive",{get:function(){return yf=!0,!0}});window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{yf=!1}var Mo=yf?{passive:!1}:!1,n_=function(e){return e.tagName==="TEXTAREA"},c0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n_(e)&&n[t]==="visible")},r_=function(e){return c0(e,"overflowY")},o_=function(e){return c0(e,"overflowX")},Rg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=u0(e,r);if(o){var s=d0(e,r),i=s[1],l=s[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},s_=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},a_=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},u0=function(e,t){return e==="v"?r_(t):o_(t)},d0=function(e,t){return e==="v"?s_(t):a_(t)},i_=function(e,t){return e==="h"&&t==="rtl"?-1:1},l_=function(e,t,n,r,o){var s=i_(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{var w=d0(e,l),v=w[0],g=w[1],S=w[2],y=g-S-s*v;(v||y)&&u0(e,l)&&(f+=y,m+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ki=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mg=function(e){return[e.deltaX,e.deltaY]},Ig=function(e){return e&&"current"in e?e.current:e},c_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d_=0,Io=[];function f_(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState(d_++)[0],s=d.useState(l0)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=IP([e.lockRef.current],(e.shards||[]).map(Ig),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Ki(g),p=n.current,x="deltaX"in g?g.deltaX:p[0]-y[0],b="deltaY"in g?g.deltaY:p[1]-y[1],E,N=g.target,C=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&N.type==="range")return!1;var k=Rg(C,N);if(!k)return!0;if(k?E=C:(E=C==="v"?"h":"v",k=Rg(C,N)),!k)return!1;if(!r.current&&"changedTouches"in g&&(x||b)&&(r.current=E),!E)return!0;var _=r.current||E;return l_(_,S,g,_==="h"?x:b)},[]),c=d.useCallback(function(g){var S=g;if(!(!Io.length||Io[Io.length-1]!==s)){var y="deltaY"in S?Mg(S):Ki(S),p=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&c_(E.delta,y)})[0];if(p&&p.should){S.cancelable&&S.preventDefault();return}if(!p){var x=(i.current.shards||[]).map(Ig).filter(Boolean).filter(function(E){return E.contains(S.target)}),b=x.length>0?l(S,x[0]):!i.current.noIsolation;b&&S.cancelable&&S.preventDefault()}}},[]),u=d.useCallback(function(g,S,y,p){var x={name:g,delta:S,target:y,should:p,shadowParent:h_(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(b){return b!==x})},1)},[]),h=d.useCallback(function(g){n.current=Ki(g),r.current=void 0},[]),f=d.useCallback(function(g){u(g.type,Mg(g),g.target,l(g,e.lockRef.current))},[]),m=d.useCallback(function(g){u(g.type,Ki(g),g.target,l(g,e.lockRef.current))},[]);d.useEffect(function(){return Io.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Mo),document.addEventListener("touchmove",c,Mo),document.addEventListener("touchstart",h,Mo),function(){Io=Io.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Mo),document.removeEventListener("touchmove",c,Mo),document.removeEventListener("touchstart",h,Mo)}},[]);var w=e.removeScrollBar,v=e.inert;return d.createElement(d.Fragment,null,v?d.createElement(s,{styles:u_(o)}):null,w?d.createElement(t_,{gapMode:e.gapMode}):null)}function h_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m_=zP(i0,f_);var Ic=d.forwardRef(function(e,t){return d.createElement(Mc,mn({},e,{ref:t,sideCar:m_}))});Ic.classNames=Mc.classNames;var xf=["Enter"," "],p_=["ArrowDown","PageUp","Home"],f0=["ArrowUp","PageDown","End"],g_=[...p_,...f0],v_={ltr:[...xf,"ArrowRight"],rtl:[...xf,"ArrowLeft"]},y_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pi="Menu",[Qa,x_,w_]=Cc(pi),[jo,h0]=_t(pi,[w_,Rc,Us]),Ac=Rc(),m0=Us(),[S_,No]=jo(pi),[b_,gi]=jo(pi),p0=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,l=Ac(t),[c,u]=d.useState(null),h=d.useRef(!1),f=De(s),m=Ls(o);return d.useEffect(()=>{const w=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(Yw,{...l,children:a.jsx(S_,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(b_,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:i,children:r})})})};p0.displayName=pi;var E_="MenuAnchor",tm=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ac(n);return a.jsx(qw,{...o,...r,ref:t})});tm.displayName=E_;var nm="MenuPortal",[C_,g0]=jo(nm,{forceMount:void 0}),v0=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=No(nm,t);return a.jsx(C_,{scope:t,forceMount:n,children:a.jsx(dt,{present:n||s.open,children:a.jsx(di,{asChild:!0,container:o,children:r})})})};v0.displayName=nm;var Ut="MenuContent",[j_,rm]=jo(Ut),y0=d.forwardRef((e,t)=>{const n=g0(Ut,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=No(Ut,e.__scopeMenu),i=gi(Ut,e.__scopeMenu);return a.jsx(Qa.Provider,{scope:e.__scopeMenu,children:a.jsx(dt,{present:r||s.open,children:a.jsx(Qa.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(N_,{...o,ref:t}):a.jsx(k_,{...o,ref:t})})})})}),N_=d.forwardRef((e,t)=>{const n=No(Ut,e.__scopeMenu),r=d.useRef(null),o=re(t,r);return d.useEffect(()=>{const s=r.current;if(s)return em(s)},[]),a.jsx(om,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:U(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),k_=d.forwardRef((e,t)=>{const n=No(Ut,e.__scopeMenu);return a.jsx(om,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),T_=uo("MenuContent.ScrollLock"),om=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:w,disableOutsideScroll:v,...g}=e,S=No(Ut,n),y=gi(Ut,n),p=Ac(n),x=m0(n),b=x_(n),[E,N]=d.useState(null),C=d.useRef(null),k=re(t,C,S.onContentChange),_=d.useRef(0),R=d.useRef(""),$=d.useRef(0),M=d.useRef(null),D=d.useRef("right"),A=d.useRef(0),H=v?Ic:d.Fragment,F=v?{as:T_,allowPinchZoom:!0}:void 0,Q=T=>{var V,se;const O=R.current+T,B=b().filter(de=>!de.disabled),X=document.activeElement,Ne=(V=B.find(de=>de.ref.current===X))==null?void 0:V.textValue,J=B.map(de=>de.textValue),ye=U_(J,O,Ne),ie=(se=B.find(de=>de.textValue===ye))==null?void 0:se.ref.current;(function de(Z){R.current=Z,window.clearTimeout(_.current),Z!==""&&(_.current=window.setTimeout(()=>de(""),1e3))})(O),ie&&setTimeout(()=>ie.focus())};d.useEffect(()=>()=>window.clearTimeout(_.current),[]),Wh();const P=d.useCallback(T=>{var B,X;return D.current===((B=M.current)==null?void 0:B.side)&&z_(T,(X=M.current)==null?void 0:X.area)},[]);return a.jsx(j_,{scope:n,searchRef:R,onItemEnter:d.useCallback(T=>{P(T)&&T.preventDefault()},[P]),onItemLeave:d.useCallback(T=>{var O;P(T)||((O=C.current)==null||O.focus(),N(null))},[P]),onTriggerLeave:d.useCallback(T=>{P(T)&&T.preventDefault()},[P]),pointerGraceTimerRef:$,onPointerGraceIntentChange:d.useCallback(T=>{M.current=T},[]),children:a.jsx(H,{...F,children:a.jsx(kc,{asChild:!0,trapped:o,onMountAutoFocus:U(s,T=>{var O;T.preventDefault(),(O=C.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(ui,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:w,children:a.jsx(Xh,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:N,onEntryFocus:U(c,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Jw,{role:"menu","aria-orientation":"vertical","data-state":A0(S.open),"data-radix-menu-content":"",dir:y.dir,...p,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:U(g.onKeyDown,T=>{const B=T.target.closest("[data-radix-menu-content]")===T.currentTarget,X=T.ctrlKey||T.altKey||T.metaKey,Ne=T.key.length===1;B&&(T.key==="Tab"&&T.preventDefault(),!X&&Ne&&Q(T.key));const J=C.current;if(T.target!==J||!g_.includes(T.key))return;T.preventDefault();const ie=b().filter(V=>!V.disabled).map(V=>V.ref.current);f0.includes(T.key)&&ie.reverse(),F_(ie)}),onBlur:U(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(_.current),R.current="")}),onPointerMove:U(e.onPointerMove,Ya(T=>{const O=T.target,B=A.current!==T.clientX;if(T.currentTarget.contains(O)&&B){const X=T.clientX>A.current?"right":"left";D.current=X,A.current=T.clientX}}))})})})})})})});y0.displayName=Ut;var P_="MenuGroup",sm=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Y.div,{role:"group",...r,ref:t})});sm.displayName=P_;var __="MenuLabel",x0=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Y.div,{...r,ref:t})});x0.displayName=__;var Ql="MenuItem",Ag="menu.itemSelect",Dc=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=d.useRef(null),i=gi(Ql,e.__scopeMenu),l=rm(Ql,e.__scopeMenu),c=re(t,s),u=d.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(Ag,{bubbles:!0,cancelable:!0});f.addEventListener(Ag,w=>r==null?void 0:r(w),{once:!0}),Ih(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(w0,{...o,ref:c,disabled:n,onClick:U(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:U(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:U(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||xf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Dc.displayName=Ql;var w0=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=rm(Ql,n),l=m0(n),c=d.useRef(null),u=re(t,c),[h,f]=d.useState(!1),[m,w]=d.useState("");return d.useEffect(()=>{const v=c.current;v&&w((v.textContent??"").trim())},[s.children]),a.jsx(Qa.ItemSlot,{scope:n,disabled:r,textValue:o??m,children:a.jsx(Zh,{asChild:!0,...l,focusable:!r,children:a.jsx(Y.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:U(e.onPointerMove,Ya(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:U(e.onPointerLeave,Ya(v=>i.onItemLeave(v))),onFocus:U(e.onFocus,()=>f(!0)),onBlur:U(e.onBlur,()=>f(!1))})})})}),R_="MenuCheckboxItem",S0=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return a.jsx(N0,{scope:e.__scopeMenu,checked:n,children:a.jsx(Dc,{role:"menuitemcheckbox","aria-checked":Yl(n)?"mixed":n,...o,ref:t,"data-state":im(n),onSelect:U(o.onSelect,()=>r==null?void 0:r(Yl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});S0.displayName=R_;var b0="MenuRadioGroup",[M_,I_]=jo(b0,{value:void 0,onValueChange:()=>{}}),E0=d.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=De(r);return a.jsx(M_,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(sm,{...o,ref:t})})});E0.displayName=b0;var C0="MenuRadioItem",j0=d.forwardRef((e,t)=>{const{value:n,...r}=e,o=I_(C0,e.__scopeMenu),s=n===o.value;return a.jsx(N0,{scope:e.__scopeMenu,checked:s,children:a.jsx(Dc,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":im(s),onSelect:U(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});j0.displayName=C0;var am="MenuItemIndicator",[N0,A_]=jo(am,{checked:!1}),k0=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=A_(am,n);return a.jsx(dt,{present:r||Yl(s.checked)||s.checked===!0,children:a.jsx(Y.span,{...o,ref:t,"data-state":im(s.checked)})})});k0.displayName=am;var D_="MenuSeparator",T0=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Y.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});T0.displayName=D_;var O_="MenuArrow",P0=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ac(n);return a.jsx(Xw,{...o,...r,ref:t})});P0.displayName=O_;var L_="MenuSub",[qI,_0]=jo(L_),ia="MenuSubTrigger",R0=d.forwardRef((e,t)=>{const n=No(ia,e.__scopeMenu),r=gi(ia,e.__scopeMenu),o=_0(ia,e.__scopeMenu),s=rm(ia,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(tm,{asChild:!0,...u,children:a.jsx(w0,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":A0(n.open),...e,ref:Ec(t,o.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:U(e.onPointerMove,Ya(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:U(e.onPointerLeave,Ya(f=>{var w,v;h();const m=(w=n.content)==null?void 0:w.getBoundingClientRect();if(m){const g=(v=n.content)==null?void 0:v.dataset.side,S=g==="right",y=S?-5:5,p=m[S?"left":"right"],x=m[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:p,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:p,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:U(e.onKeyDown,f=>{var w;const m=s.searchRef.current!=="";e.disabled||m&&f.key===" "||v_[r.dir].includes(f.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),f.preventDefault())})})})});R0.displayName=ia;var M0="MenuSubContent",I0=d.forwardRef((e,t)=>{const n=g0(Ut,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=No(Ut,e.__scopeMenu),i=gi(Ut,e.__scopeMenu),l=_0(M0,e.__scopeMenu),c=d.useRef(null),u=re(t,c);return a.jsx(Qa.Provider,{scope:e.__scopeMenu,children:a.jsx(dt,{present:r||s.open,children:a.jsx(Qa.Slot,{scope:e.__scopeMenu,children:a.jsx(om,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:U(e.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:U(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:U(e.onKeyDown,h=>{var w;const f=h.currentTarget.contains(h.target),m=y_[i.dir].includes(h.key);f&&m&&(s.onOpenChange(!1),(w=l.trigger)==null||w.focus(),h.preventDefault())})})})})})});I0.displayName=M0;function A0(e){return e?"open":"closed"}function Yl(e){return e==="indeterminate"}function im(e){return Yl(e)?"indeterminate":e?"checked":"unchecked"}function F_(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $_(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function U_(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=$_(e,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function W_(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(o=!o)}return o}function z_(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return W_(n,t)}function Ya(e){return t=>t.pointerType==="mouse"?e(t):void 0}var H_=p0,B_=tm,V_=v0,K_=y0,G_=sm,Q_=x0,Y_=Dc,q_=S0,J_=E0,X_=j0,Z_=k0,e2=T0,t2=P0,n2=R0,r2=I0,Oc="DropdownMenu",[o2,JI]=_t(Oc,[h0]),ft=h0(),[s2,D0]=o2(Oc),O0=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=ft(t),u=d.useRef(null),[h,f]=Wn({prop:o,defaultProp:s??!1,onChange:i,caller:Oc});return a.jsx(s2,{scope:t,triggerId:vn(),triggerRef:u,contentId:vn(),open:h,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(H_,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};O0.displayName=Oc;var L0="DropdownMenuTrigger",F0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=D0(L0,n),i=ft(n);return a.jsx(B_,{asChild:!0,...i,children:a.jsx(Y.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Ec(t,s.triggerRef),onPointerDown:U(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:U(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});F0.displayName=L0;var a2="DropdownMenuPortal",$0=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ft(t);return a.jsx(V_,{...r,...n})};$0.displayName=a2;var U0="DropdownMenuContent",W0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=D0(U0,n),s=ft(n),i=d.useRef(!1);return a.jsx(K_,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:U(e.onCloseAutoFocus,l=>{var c;i.current||(c=o.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:U(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W0.displayName=U0;var i2="DropdownMenuGroup",l2=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(G_,{...o,...r,ref:t})});l2.displayName=i2;var c2="DropdownMenuLabel",z0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(Q_,{...o,...r,ref:t})});z0.displayName=c2;var u2="DropdownMenuItem",H0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(Y_,{...o,...r,ref:t})});H0.displayName=u2;var d2="DropdownMenuCheckboxItem",B0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(q_,{...o,...r,ref:t})});B0.displayName=d2;var f2="DropdownMenuRadioGroup",h2=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(J_,{...o,...r,ref:t})});h2.displayName=f2;var m2="DropdownMenuRadioItem",V0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(X_,{...o,...r,ref:t})});V0.displayName=m2;var p2="DropdownMenuItemIndicator",K0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(Z_,{...o,...r,ref:t})});K0.displayName=p2;var g2="DropdownMenuSeparator",G0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(e2,{...o,...r,ref:t})});G0.displayName=g2;var v2="DropdownMenuArrow",y2=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(t2,{...o,...r,ref:t})});y2.displayName=v2;var x2="DropdownMenuSubTrigger",Q0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(n2,{...o,...r,ref:t})});Q0.displayName=x2;var w2="DropdownMenuSubContent",Y0=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ft(n);return a.jsx(r2,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y0.displayName=w2;var S2=O0,b2=F0,E2=$0,q0=W0,J0=z0,X0=H0,Z0=B0,eS=V0,tS=K0,nS=G0,rS=Q0,oS=Y0;const C2=S2,j2=b2,N2=d.forwardRef(({className:e,inset:t,children:n,...r},o)=>a.jsxs(rS,{ref:o,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(hk,{className:"ml-auto h-4 w-4"})]}));N2.displayName=rS.displayName;const k2=d.forwardRef(({className:e,...t},n)=>a.jsx(oS,{ref:n,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));k2.displayName=oS.displayName;const sS=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(E2,{children:a.jsx(q0,{ref:r,sideOffset:t,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sS.displayName=q0.displayName;const hl=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(X0,{ref:r,className:G("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));hl.displayName=X0.displayName;const T2=d.forwardRef(({className:e,children:t,checked:n,...r},o)=>a.jsxs(Z0,{ref:o,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tS,{children:a.jsx(Wl,{className:"h-4 w-4"})})}),t]}));T2.displayName=Z0.displayName;const P2=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(eS,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tS,{children:a.jsx(vw,{className:"h-2 w-2 fill-current"})})}),t]}));P2.displayName=eS.displayName;const _2=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(J0,{ref:r,className:G("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));_2.displayName=J0.displayName;const aS=d.forwardRef(({className:e,...t},n)=>a.jsx(nS,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));aS.displayName=nS.displayName;var Lc="Dialog",[iS,XI]=_t(Lc),[R2,an]=iS(Lc),lS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=Wn({prop:r,defaultProp:o??!1,onChange:s,caller:Lc});return a.jsx(R2,{scope:t,triggerRef:l,contentRef:c,contentId:vn(),titleId:vn(),descriptionId:vn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};lS.displayName=Lc;var cS="DialogTrigger",uS=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=an(cS,n),s=re(t,o.triggerRef);return a.jsx(Y.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":um(o.open),...r,ref:s,onClick:U(e.onClick,o.onOpenToggle)})});uS.displayName=cS;var lm="DialogPortal",[M2,dS]=iS(lm,{forceMount:void 0}),fS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=an(lm,t);return a.jsx(M2,{scope:t,forceMount:n,children:d.Children.map(r,i=>a.jsx(dt,{present:n||s.open,children:a.jsx(di,{asChild:!0,container:o,children:i})}))})};fS.displayName=lm;var ql="DialogOverlay",hS=d.forwardRef((e,t)=>{const n=dS(ql,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=an(ql,e.__scopeDialog);return s.modal?a.jsx(dt,{present:r||s.open,children:a.jsx(A2,{...o,ref:t})}):null});hS.displayName=ql;var I2=uo("DialogOverlay.RemoveScroll"),A2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=an(ql,n);return a.jsx(Ic,{as:I2,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Y.div,{"data-state":um(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ho="DialogContent",mS=d.forwardRef((e,t)=>{const n=dS(ho,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=an(ho,e.__scopeDialog);return a.jsx(dt,{present:r||s.open,children:s.modal?a.jsx(D2,{...o,ref:t}):a.jsx(O2,{...o,ref:t})})});mS.displayName=ho;var D2=d.forwardRef((e,t)=>{const n=an(ho,e.__scopeDialog),r=d.useRef(null),o=re(t,n.contentRef,r);return d.useEffect(()=>{const s=r.current;if(s)return em(s)},[]),a.jsx(pS,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:U(e.onFocusOutside,s=>s.preventDefault())})}),O2=d.forwardRef((e,t)=>{const n=an(ho,e.__scopeDialog),r=d.useRef(!1),o=d.useRef(!1);return a.jsx(pS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),pS=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,l=an(ho,n),c=d.useRef(null),u=re(t,c);return Wh(),a.jsxs(a.Fragment,{children:[a.jsx(kc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(ui,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":um(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(L2,{titleId:l.titleId}),a.jsx($2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cm="DialogTitle",gS=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=an(cm,n);return a.jsx(Y.h2,{id:o.titleId,...r,ref:t})});gS.displayName=cm;var vS="DialogDescription",yS=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=an(vS,n);return a.jsx(Y.p,{id:o.descriptionId,...r,ref:t})});yS.displayName=vS;var xS="DialogClose",wS=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=an(xS,n);return a.jsx(Y.button,{type:"button",...r,ref:t,onClick:U(e.onClick,()=>o.onOpenChange(!1))})});wS.displayName=xS;function um(e){return e?"open":"closed"}var SS="DialogTitleWarning",[ZI,bS]=wN(SS,{contentName:ho,titleName:cm,docsSlug:"dialog"}),L2=({titleId:e})=>{const t=bS(SS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},F2="DialogDescriptionWarning",$2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bS(F2).contentName}}.`;return d.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ES=lS,U2=uS,CS=fS,Fc=hS,$c=mS,Uc=gS,Wc=yS,dm=wS;const W2=ES,z2=U2,H2=dm,B2=CS,jS=d.forwardRef(({className:e,...t},n)=>a.jsx(Fc,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));jS.displayName=Fc.displayName;const V2=Ds("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),NS=d.forwardRef(({side:e="right",className:t,children:n,...r},o)=>a.jsxs(B2,{children:[a.jsx(jS,{}),a.jsxs($c,{ref:o,className:G(V2({side:e}),t),...r,children:[n,a.jsxs(dm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(An,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));NS.displayName=$c.displayName;const kS=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",e),...t});kS.displayName="SheetHeader";const TS=d.forwardRef(({className:e,...t},n)=>a.jsx(Uc,{ref:n,className:G("text-lg font-semibold text-foreground",e),...t}));TS.displayName=Uc.displayName;const K2=d.forwardRef(({className:e,...t},n)=>a.jsx(Wc,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));K2.displayName=Wc.displayName;const ks=ES,G2=CS,PS=dm,_S=d.forwardRef(({className:e,...t},n)=>a.jsx(Fc,{ref:n,className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_S.displayName=Fc.displayName;const mo=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(G2,{children:[a.jsx(_S,{}),a.jsx($c,{ref:r,className:G("fixed left-[50%] top-[45%] md:top-[50%] z-50 grid w-full max-w-[90vw] md:max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 md:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[85vh] md:max-h-[90vh] overflow-y-auto safe-area-inset-bottom",e),...n,children:t})]}));mo.displayName=$c.displayName;const po=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left pr-8",e),...t});po.displayName="DialogHeader";const qa=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-y-0 space-y-2 space-y-reverse mt-4 pb-2",e),...t});qa.displayName="DialogFooter";const go=d.forwardRef(({className:e,...t},n)=>a.jsx(Uc,{ref:n,className:G("text-lg font-semibold leading-none tracking-tight",e),...t}));go.displayName=Uc.displayName;const vi=d.forwardRef(({className:e,...t},n)=>a.jsx(Wc,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));vi.displayName=Wc.displayName;const Q2=Ds("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?bN:"button";return a.jsx(i,{className:G(Q2({variant:t,size:n,className:e})),ref:s,...o})});ee.displayName="Button";const He=d.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));He.displayName="Input";var Y2="Label",RS=d.forwardRef((e,t)=>a.jsx(Y.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RS.displayName=Y2;var MS=RS;const q2=Ds("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=d.forwardRef(({className:e,...t},n)=>a.jsx(MS,{ref:n,className:G(q2(),e),...t}));he.displayName=MS.displayName;let Dg=!1;function Pr(){const e=window.location.hostname.includes("replit.app"),t=window.location.protocol==="https:",n="REPL_ID"in window||"REPL_SLUG"in window||"REPLIT_DEPLOYMENT"in window,r=window.location.search.includes("env=production"),o=e||t&&n||r;return Dg||(console.log(`[ENV] Detected ${o?"PRODUCTION":"DEVELOPMENT"} environment`),console.log(`[ENV] Hostname: ${window.location.hostname}`),console.log(`[ENV] Protocol: ${window.location.protocol}`),console.log(`[ENV] Indicators - Domain: ${e}, Protocol: ${t}, ReplEnv: ${n}, Flag: ${r}`),Dg=!0),o}function IS(){return Pr()?"PRODUCTION":"DEVELOPMENT"}function J2(){const e=Pr();console.log(`Clearing all client-side storage in ${IS()} environment`),localStorage.setItem("movietracker_logout_time",Date.now().toString());const t=["movietracker_user","movietracker_session_id","movietracker_enhanced_backup","movietracker_username","movietracker_last_verified","movietracker_session_heartbeat","movietracker_recent_auth","movietracker_auth_state","movietracker_logout_detected","movietracker_auto_logout_count","tanstack-query-cache"];for(const n of t)try{localStorage.removeItem(n)}catch(r){console.error(`Error removing localStorage key ${n}:`,r)}if(e)try{console.log("Production environment - clearing entire localStorage"),localStorage.clear()}catch(n){console.error("Error clearing localStorage:",n)}try{document.cookie.split(";").forEach(function(n){document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),e&&["watchlist.sid","connect.sid","session","watchapp.sid"].forEach(n=>{for(const r of["/","/auth","/api","/watchlist","/search"])document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=${r}`})}catch(n){console.error("Error clearing cookies:",n)}}function X2(){const e=Date.now(),t=Pr(),n={force:"true",t:e.toString(),fromLogout:"true"};return t?(n.clear="true",n.hard="true",{authUrl:`/auth?force=true&t=${e}&clear=true&hard=true`,params:n,useIframe:!0}):{authUrl:`/auth?force=true&t=${e}`,params:n,useIframe:!1}}const fm=Object.freeze(Object.defineProperty({__proto__:null,clearAllClientSideStorage:J2,getEnvironmentName:IS,getLogoutConfig:X2,isProductionEnvironment:Pr},Symbol.toStringTag,{value:"Module"})),yi=d.createContext(null);function Z2({children:e}){const{toast:t}=Ht(),n=Pr(),{data:r,error:o,isLoading:s,refetch:i}=Rh({queryKey:["/api/jwt/user"],queryFn:async()=>{console.log("[JWT AUTH] Starting user authentication check");try{const h=xn();if(!h)return console.log("[JWT AUTH] No token found in storage"),null;console.log("[JWT AUTH] Attempting to validate existing token");const f=await nt("GET","/api/jwt/user",void 0,{headers:{Authorization:`Bearer ${h}`}});return f.ok?await f.json():(console.log(`[JWT AUTH] Token validation failed: ${f.status} ${f.statusText}`),n&&f.status===401&&nn(),null)}catch(h){return console.error("[JWT AUTH] Error fetching user:",h),null}},retry:n?0:1}),l=Tu({mutationFn:async h=>{console.log("[JWT AUTH] Attempting login for user:",h.username);try{console.log("[JWT AUTH] Trying new simplified login endpoint");try{const v=await nt("POST","/api/simple-login",h);if(v.ok)return console.log("[JWT AUTH] Simplified login successful"),await v.json()}catch(v){console.log("[JWT AUTH] Simplified login error:",v)}console.log("[JWT AUTH] Simplified login failed, trying standard login");const f=await nt("POST","/api/jwt/login",h);if(f.ok)return console.log("[JWT AUTH] Standard login successful"),await f.json();console.log("[JWT AUTH] Both login methods failed, trying direct login");const m=await fetch(`/api/direct-login/${h.username}`);if(m.ok)return console.log("[JWT AUTH] Direct login successful"),await m.json();const w=await f.text().catch(()=>"Unknown error");throw new Error(`Login failed: ${w}`)}catch(f){throw console.error("[JWT AUTH] All login attempts failed:",f),f}},onSuccess:h=>{console.log("[JWT AUTH] Login successful for:",h.user.username),to(h.token),we.setQueryData(["/api/jwt/user"],h.user),t({title:"Login successful",description:`Welcome back, ${h.user.displayName||h.user.username}!`})},onError:h=>{console.error("[JWT AUTH] Login error:",h.message),t({title:"Login failed",description:h.message,variant:"destructive"})}}),c=Tu({mutationFn:async h=>{console.log("[JWT AUTH] Attempting to register user:",h.username);try{console.log("[JWT AUTH] Trying simplified registration endpoint");try{const m=await nt("POST","/api/simple-register",h);if(m.ok)return console.log("[JWT AUTH] Simplified registration successful"),await m.json()}catch(m){console.log("[JWT AUTH] Simplified registration error:",m)}console.log("[JWT AUTH] Trying standard registration");const f=await nt("POST","/api/jwt/register",h);if(f.ok)return console.log("[JWT AUTH] Standard registration successful"),await f.json();if(n){console.log("[JWT AUTH] Standard registration failed, trying backdoor registration");const m=await nt("POST","/api/jwt/backdoor-register",{username:h.username,displayName:h.displayName||h.username});if(m.ok)return console.log("[JWT AUTH] Backdoor registration successful"),await m.json()}throw new Error("Registration failed: All registration methods failed")}catch(f){throw console.error("[JWT AUTH] All registration attempts failed:",f),f}},onSuccess:h=>{console.log("[JWT AUTH] Registration successful for:",h.user.username),to(h.token),we.setQueryData(["/api/jwt/user"],h.user),t({title:"Registration successful",description:`Welcome, ${h.user.displayName||h.user.username}!`})},onError:h=>{console.error("[JWT AUTH] Registration error:",h.message),t({title:"Registration failed",description:h.message,variant:"destructive"})}}),u=Tu({mutationFn:async()=>{console.log("[JWT AUTH] Logging out user");try{localStorage.setItem("just_logged_out","true"),sessionStorage.setItem("just_logged_out","true")}catch(h){console.error("[JWT AUTH] Error setting logout flags:",h)}nn();try{const{isProductionEnvironment:h,clearAllClientSideStorage:f}=await Uh(async()=>{const{isProductionEnvironment:v,clearAllClientSideStorage:g}=await Promise.resolve().then(()=>fm);return{isProductionEnvironment:v,clearAllClientSideStorage:g}},void 0),m=h();console.log(`Logout initiated in ${m?"PRODUCTION":"DEVELOPMENT"} environment`),m&&f(),(await fetch("/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store",Pragma:"no-cache"},cache:"no-store"})).ok?console.log("Server-side logout successful"):console.warn("Server-side logout failed, but client-side logout completed"),setTimeout(()=>{try{localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out")}catch{}},1e4)}catch(h){console.error("[JWT AUTH] Error during server logout:",h)}},onSuccess:()=>{we.setQueryData(["/api/jwt/user"],null),we.clear();try{window.__authBackup&&(delete window.__authBackup,console.log("[JWT AUTH] Cleared window.__authBackup state"))}catch(h){console.error("[JWT AUTH] Error during additional cleanup:",h)}t({title:"Logged out",description:"You have been successfully logged out."})},onError:h=>{console.error("[JWT AUTH] Logout error:",h.message),t({title:"Logout failed",description:h.message,variant:"destructive"}),nn(),we.setQueryData(["/api/jwt/user"],null)}});return d.useEffect(()=>{xn()&&i()},[i]),a.jsx(yi.Provider,{value:{user:r||null,isLoading:s,error:o,loginMutation:l,logoutMutation:u,registerMutation:c},children:e})}function Ws(){const e=d.useContext(yi);if(!e)throw new Error("useJwtAuth must be used within a JwtAuthProvider");return e}const AS=({onLoginSuccess:e,onSwitchToRegister:t,onForgotPassword:n})=>{const[r,o]=d.useState(""),[s,i]=d.useState(""),{loginMutation:l}=Ws(),{toast:c}=Ht(),[,u]=Co(),h=async m=>{if(m.preventDefault(),!r||!s){c({title:"Error",description:"Please enter both username and password",variant:"destructive"});return}try{console.log("[AUTH TEST] Attempting login for test user:",r),console.log("[AUTH TEST] This login will try multiple pathways if needed:"),console.log("[AUTH TEST] 1. Standard login via /api/login"),console.log("[AUTH TEST] 2. Emergency login via /api/auth/emergency-login"),console.log("[AUTH TEST] 3. Secondary emergency login via /api/emergency/watchlist/login"),c({title:"Logging in",description:"Checking your credentials..."}),l.mutate({username:r,password:s},{onSuccess:w=>{const v=w.user;if(!v||!v.id||!v.username){console.error("Invalid user data received:",v),c({title:"Login error",description:"Received invalid user data from server",variant:"destructive"});return}console.log("[AUTH TEST] Login successful, user data:",v),console.log("[AUTH TEST] JWT token received:",w.token?"Yes (token length: "+w.token.length+")":"No");const g=v.emergencyMode;c({title:"Welcome back!",description:g?"Connected using emergency pathway":`You've successfully logged in as ${v.username}`}),e(v),u("/")},onError:w=>{console.error("[AUTH TEST] Login error:",w),console.error("[AUTH TEST] All login pathways failed for user:",r),c({title:"Login failed",description:w.message||"There was a problem logging in. Please try again.",variant:"destructive"})}})}catch(w){console.error("Unexpected error during login:",w),c({title:"Login error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}},f=l.isPending;return a.jsxs(Ge,{className:"w-full max-w-md mx-auto",children:[a.jsx(et,{children:a.jsx(pt,{className:"text-2xl text-center",children:"Log In to Your Account"})}),a.jsx(Qe,{children:a.jsxs("form",{onSubmit:h,className:"space-y-4",autoComplete:"off",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"username",children:"Username"}),a.jsx(He,{id:"username",placeholder:"Enter your username",value:r,onChange:m=>o(m.target.value),disabled:f,autoComplete:"off"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"password",children:"Password"}),a.jsx(He,{id:"password",type:"password",placeholder:"",value:s,onChange:m=>i(m.target.value),disabled:f,autoComplete:"off"})]}),a.jsx(ee,{type:"submit",className:"w-full",disabled:f,children:f?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Logging in"}),a.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}):"Log In"}),a.jsxs("div",{className:"flex flex-col items-center gap-2 mt-4",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:t,type:"button",children:"Register"})]}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:n,type:"button",className:"text-xs",children:"Forgot your password?"})]})]})})]})};async function eR(e){try{const t=e.headers.get("content-type");if(t&&t.includes("application/json"))try{const r=await e.json();return r.error?r.error:r.message?r.message:JSON.stringify(r)}catch(r){console.error("[AUTH] Failed to parse JSON response:",r)}const n=await e.text();return n.slice(0,100)+(n.length>100?"...":"")}catch(t){return console.error("[AUTH] Failed to read response:",t),"Error reading server response"}}async function tR(e){try{console.log("[SIMPLE AUTH] Starting registration with simple-register endpoint"),console.log("[SIMPLE AUTH] Registration payload:",JSON.stringify({...e,password:e.password?"******":void 0}));let t,n=null;try{if(console.log("[SIMPLE AUTH] Trying primary registration endpoint: /api/simple-register"),t=await fetch("/api/simple-register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),console.log(`[SIMPLE AUTH] Primary registration endpoint responded with status: ${t.status}`),!t.ok){const o=await t.text();n=new Error(`Primary endpoint error: ${t.status} - ${o}`),console.log("[SIMPLE AUTH] Primary endpoint failed, will try alternative"),console.log("[SIMPLE AUTH] Trying alternative registration endpoint: /api/simple-register-direct"),t=await fetch("/api/simple-register-direct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),console.log(`[SIMPLE AUTH] Alternative registration endpoint responded with status: ${t.status}`)}}catch(o){console.error("[SIMPLE AUTH] Fetch failed on primary endpoint:",o);try{console.log("[SIMPLE AUTH] Trying alternative registration endpoint after network error"),t=await fetch("/api/simple-register-direct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),console.log(`[SIMPLE AUTH] Alternative registration responded with status: ${t.status}`)}catch(s){throw console.error("[SIMPLE AUTH] Both registration endpoints failed:",s),new Error(`Network error during registration: ${String(o)}`)}}if(t.ok){const o=await t.json();return o.token&&to(o.token),console.log("[SIMPLE AUTH] Registration successful, token saved"),{user:o.user,token:o.token}}const r=await eR(t);throw console.error(`[SIMPLE AUTH] Registration failed with status ${t.status}: ${r}`),console.error(`[SIMPLE AUTH] Response headers: ${JSON.stringify(Object.fromEntries(t.headers.entries()))}`),console.error(`[SIMPLE AUTH] Response status: ${t.status} ${t.statusText}`),new Error(`Registration failed: ${r}`)}catch(t){throw console.error("[AUTH] Registration failed:",t),t instanceof Error&&t.message.includes("Failed to fetch")?new Error("Network error - please check your internet connection and try again."):t}}const DS=({onRegisterSuccess:e,onSwitchToLogin:t})=>{const[n,r]=d.useState(""),[o,s]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(""),{registerMutation:h}=Ws(),{toast:f}=Ht(),[,m]=Co(),[w,v]=d.useState(!1),g=async y=>{if(y.preventDefault(),!n||!i||!c){f({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(i!==c){f({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(i.length<6){f({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}Pr(),f({title:"Creating account",description:"Setting up your account...",duration:3e3});try{v(!0);const p=await tR({username:n,password:i,displayName:o||void 0});e(p.user),f({title:"Account created successfully",description:"Your account has been created and you are now logged in.",duration:3e3}),we.setQueryData(["/api/jwt/user"],p.user),m("/")}catch(p){console.error("Simple registration failed:",p),v(!1);let x="Could not create account";p instanceof Error&&(x=p.message,x.includes("Registration Failed - 500")?x="Server error during registration. Please try again in a moment.":x.includes("duplicate key")||x.includes("unique constraint")||x.includes("already exists")?x="Username already exists. Please choose a different username.":(x.includes("network")||x.includes("Failed to fetch"))&&(x="Network error. Please check your connection and try again.")),f({title:"Registration failed",description:x,variant:"destructive",duration:5e3})}},S=h.isPending||w;return a.jsxs(Ge,{className:"w-full max-w-md mx-auto",children:[a.jsx(et,{children:a.jsx(pt,{className:"text-2xl text-center",children:"Create an Account"})}),a.jsx(Qe,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",autoComplete:"off",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"username",children:"Username*"}),a.jsx(He,{id:"username",placeholder:"Choose a username",value:n,onChange:y=>r(y.target.value),disabled:S,required:!0,autoComplete:"off"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"displayName",children:"Display Name (optional)"}),a.jsx(He,{id:"displayName",placeholder:"How you want to be called",value:o,onChange:y=>s(y.target.value),disabled:S,autoComplete:"off"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed in your profile. If left empty, your username will be used."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"register-password",children:"Password*"}),a.jsx(He,{id:"register-password",type:"password",placeholder:"Create a password",value:i,onChange:y=>l(y.target.value),disabled:S,required:!0,autoComplete:"off"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"confirm-password",children:"Confirm Password*"}),a.jsx(He,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:c,onChange:y=>u(y.target.value),disabled:S,required:!0,autoComplete:"off"})]}),a.jsx(ee,{type:"submit",className:"w-full",disabled:S,children:S?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Creating Account"}),a.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}):"Register"}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:t,type:"button",children:"Log In"})]})})]})})]})},OS=({onBack:e})=>{const[t,n]=d.useState(""),[r,o]=d.useState(""),[s,i]=d.useState(""),[l,c]=d.useState("request"),[u,h]=d.useState(!1),{toast:f}=Ht(),m=async v=>{if(v.preventDefault(),!t){f({title:"Error",description:"Please enter your username",variant:"destructive"});return}h(!0);try{const g=await fetch("/api/auth/reset-password-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});if(!g.ok){const S=await g.json();throw new Error(S.message||"Request failed")}c("reset"),f({title:"Success",description:"Please set your new password"})}catch(g){f({title:"Error",description:g.message||"Password reset request failed",variant:"destructive"})}finally{h(!1)}},w=async v=>{if(v.preventDefault(),!r||!s){f({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(r!==s){f({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(r.length<6){f({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}h(!0);try{const g=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,newPassword:r})});if(!g.ok){const S=await g.json();throw new Error(S.message||"Reset failed")}f({title:"Success",description:"Password has been reset successfully. You can now login with your new password."}),e()}catch(g){f({title:"Error",description:g.message||"Password reset failed",variant:"destructive"})}finally{h(!1)}};return a.jsxs(Ge,{className:"w-full max-w-md mx-auto",children:[a.jsx(et,{children:a.jsx(pt,{className:"text-2xl text-center",children:l==="request"?"Reset Your Password":"Set New Password"})}),a.jsx(Qe,{children:l==="request"?a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"reset-username",children:"Username"}),a.jsx(He,{id:"reset-username",placeholder:"Enter your username",value:t,onChange:v=>n(v.target.value),disabled:u})]}),a.jsx(ee,{type:"submit",className:"w-full",disabled:u,children:u?"Processing...":"Continue"}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(ee,{variant:"ghost",size:"sm",onClick:e,type:"button",className:"text-xs",children:"Back to Login"})})]}):a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"new-password",children:"New Password"}),a.jsx(He,{id:"new-password",type:"password",placeholder:"Enter your new password",value:r,onChange:v=>o(v.target.value),disabled:u}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),a.jsx(He,{id:"confirm-new-password",type:"password",placeholder:"Confirm your new password",value:s,onChange:v=>i(v.target.value),disabled:u})]}),a.jsx(ee,{type:"submit",className:"w-full",disabled:u,children:u?"Resetting...":"Reset Password"}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(ee,{variant:"ghost",size:"sm",onClick:e,type:"button",className:"text-xs",children:"Back to Login"})})]})})]})},Og=({isOpen:e,onClose:t,onAuthSuccess:n})=>{const[r,o]=d.useState("login"),s=f=>{t()},i=()=>{o("register")},l=()=>{o("login")},c=()=>{o("passwordReset")},u=r==="login"?"Welcome Back":r==="register"?"Join MovieTracker":"Reset Password",h=r==="login"?"Log in to access your watchlist and track your movies":r==="register"?"Create an account to start tracking your movies and shows":"Reset your password to regain access to your account";return a.jsx(ks,{open:e,onOpenChange:t,children:a.jsxs(mo,{className:"sm:max-w-md",children:[a.jsxs(po,{children:[a.jsx(go,{id:"auth-dialog-title",className:"text-center text-2xl",children:u}),a.jsx(vi,{id:"auth-dialog-description",className:"text-center",children:h})]}),r==="login"&&a.jsx(AS,{onLoginSuccess:s,onSwitchToRegister:i,onForgotPassword:c}),r==="register"&&a.jsx(DS,{onRegisterSuccess:s,onSwitchToLogin:l}),r==="passwordReset"&&a.jsx(OS,{onBack:l})]})})},Bu=768;function zs(){const[e,t]=d.useState(void 0);return d.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Bu-1}px)`),r=()=>{t(window.innerWidth<Bu)};return n.addEventListener("change",r),t(window.innerWidth<Bu),()=>n.removeEventListener("change",r)},[]),!!e}const Lg=({isMobile:e=!1})=>{const t=d.useContext(yi);if(!t)throw new Error("UserSelector must be used within a JwtAuthProvider");const{user:n,logoutMutation:r}=t,[o,s]=d.useState(null);d.useEffect(()=>{s(n)},[n]);const[i,l]=d.useState(!1);d.useEffect(()=>{n&&(console.log("User logged in, clearing logout flags"),l(!1),localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),window.__loggedOut=!1)},[n]),d.useEffect(()=>{try{const x=localStorage.getItem("just_logged_out")==="true",b=sessionStorage.getItem("just_logged_out")==="true",E=typeof window<"u"&&window.__loggedOut===!0;l(x||b||E),(window.location.pathname==="/auth"||window.location.href.includes("/login")||window.location.href.includes("/register"))&&(console.log("[UserSelector] On auth page, setting logged out state"),l(!0),s(null))}catch(x){console.error("Error checking logout flags:",x)}},[]);const c=!!n&&!!o&&!i,[u,h]=d.useState(!1),[f,m]=d.useState(!1),w=d.useRef(null),v=zs();Ht();const g=bc();d.useEffect(()=>{v||m(!1)},[v]);const S=async()=>{s(null),l(!0);const{isProductionEnvironment:x,getEnvironmentName:b,clearAllClientSideStorage:E,getLogoutConfig:N}=await Uh(async()=>{const{isProductionEnvironment:A,getEnvironmentName:H,clearAllClientSideStorage:F,getLogoutConfig:Q}=await Promise.resolve().then(()=>fm);return{isProductionEnvironment:A,getEnvironmentName:H,clearAllClientSideStorage:F,getLogoutConfig:Q}},void 0),C=x();console.log(`Logout initiated in ${b()} environment`);try{s(null);let H=window.location.pathname!=="/auth";sessionStorage.setItem("just_logged_out","true"),localStorage.setItem("just_logged_out","true"),window.__loggedOut=!0,sessionStorage.removeItem("jwt_token"),sessionStorage.removeItem("auth_backup"),localStorage.removeItem("jwt_token"),localStorage.removeItem("auth_backup");for(let F=0;F<localStorage.length;F++){const Q=localStorage.key(F);Q&&(Q.includes("token")||Q.includes("user")||Q.includes("auth"))&&localStorage.removeItem(Q)}if(document.cookie="jwt_token=; path=/; max-age=0",document.cookie="watchlist.sid=; path=/; max-age=0",document.cookie="auth_backup=; path=/; max-age=0",C||["/","/api","/auth","/watchlist"].forEach(Q=>{document.cookie=`jwt_token=; path=${Q}; max-age=0`,document.cookie=`watchlist.sid=; path=${Q}; max-age=0`}),g.setQueryData(["/api/jwt/user"],null),g.setQueryData(["/api/user"],null),g.invalidateQueries({queryKey:["/api/jwt/user"]}),g.invalidateQueries({queryKey:["/api/user"]}),r.reset(),window.__authBackup)try{delete window.__authBackup}catch{window.__authBackup=null}s(null)}catch(A){console.error("Error during immediate auth state reset:",A)}const k=document.createElement("div");k.style.position="fixed",k.style.top="0",k.style.left="0",k.style.width="100%",k.style.height="100%",k.style.backgroundColor="#141414",k.style.zIndex="10000",k.style.display="flex",k.style.flexDirection="column",k.style.alignItems="center",k.style.justifyContent="center",k.style.padding="20px",k.style.opacity="1",k.innerHTML=`
      <div style="width: 100%; max-width: 400px; margin: 0 auto; text-align: center;">
        <h1 style="margin-bottom: 20px; font-size: 24px; color: white;">Logging Out</h1>
        <div style="margin-bottom: 20px; text-align: center;">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#E50914" stroke-width="2" class="spin">
            <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
          </svg>
          <style>
            .spin {
              animation: spin 1.5s linear infinite;
            }
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          </style>
        </div>
        <p style="color: #888; margin-bottom: 20px;" id="logout-status">Securely logging you out...</p>
      </div>
    `,document.body.appendChild(k),E();try{g.clear(),g.setQueryData(["/api/user"],null),g.removeQueries({queryKey:["/api/user"]})}catch(A){console.error("Error clearing query cache:",A)}const _=document.getElementById("logout-status");_&&(_.textContent="Contacting server...");try{const A=fetch("/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store",Pragma:"no-cache"},cache:"no-store"});C||((await A).ok?console.log("Server-side logout successful"):console.warn("Server-side logout returned non-200 status"))}catch(A){console.error("Error during server logout:",A)}_&&(_.textContent="Redirecting to login...");const{authUrl:R,params:$,useIframe:M}=N();if(M){const A=document.createElement("iframe");A.style.display="none",A.src=R,document.body.appendChild(A),setTimeout(()=>{window.location.href=R},300);return}const D=document.createElement("form");D.method="GET",D.action="/auth",D.style.display="none",Object.entries($).forEach(([A,H])=>{const F=document.createElement("input");F.type="hidden",F.name=A,F.value=H,D.appendChild(F)}),document.body.appendChild(D);try{D.submit(),setTimeout(()=>{window.location.href=R},100)}catch(A){console.error("Form submit failed:",A),window.location.href=R}},y=()=>{h(!0),m(!1)},p=c?(o==null?void 0:o.displayName)||(o==null?void 0:o.username):"Guest";return v&&e?a.jsxs("div",{className:"relative",children:[a.jsxs(W2,{open:f,onOpenChange:m,children:[a.jsx(z2,{asChild:!0,children:a.jsxs("button",{className:"flex items-center space-x-2 bg-[#292929] rounded-full px-3 py-1",children:[a.jsx(Wi,{className:"h-5 w-5 text-[#E50914]"}),a.jsx("span",{className:"max-w-[100px] truncate",children:c?p:"Sign In"}),a.jsx(zl,{className:"h-4 w-4"})]})}),a.jsxs(NS,{side:"bottom",className:"bg-[#292929] text-white border-t border-gray-700 rounded-t-xl px-0",children:[a.jsx(kS,{className:"px-4",children:a.jsxs(TS,{className:"text-center text-white flex items-center justify-center",children:[a.jsx(yk,{className:"h-5 w-5 mr-2 text-[#E50914]"}),c?"Account":"Sign In"]})}),a.jsx("div",{className:"mt-4 space-y-1",children:c?a.jsxs(a.Fragment,{children:[a.jsx(H2,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"w-full justify-start px-4 py-3 text-white",disabled:!0,children:[a.jsx(Wi,{className:"h-5 w-5 mr-3 text-[#E50914]"}),p]})}),a.jsxs(ee,{variant:"ghost",className:"w-full justify-start px-4 py-3 text-red-400 hover:bg-red-900 hover:text-white",onClick:S,children:[a.jsx(dg,{className:"h-5 w-5 mr-3"}),"Sign Out"]})]}):a.jsxs(ee,{variant:"ghost",className:"w-full justify-start px-4 py-3 text-[#44C8E8] hover:bg-[#E50914] hover:text-white",onClick:y,children:[a.jsx(ug,{className:"h-5 w-5 mr-3"}),"Sign In / Register"]})})]})]}),a.jsx(Og,{isOpen:u,onClose:()=>h(!1),onAuthSuccess:x=>{l(!1),localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),typeof window<"u"&&(window.__loggedOut=!1),console.log("[UserSelector] Auth success, cleared logout flags"),s(x)}})]}):a.jsxs("div",{className:`relative ${e?"":"hidden md:block"}`,children:[a.jsxs(C2,{children:[a.jsxs(j2,{ref:w,className:"flex items-center space-x-2 bg-[#292929] rounded-full px-3 py-1",children:[a.jsx(Wi,{className:"h-5 w-5 text-[#E50914]"}),a.jsx("span",{children:c?p:"Sign In"}),a.jsx(zl,{className:"h-4 w-4"})]}),a.jsx(sS,{align:"end",className:"bg-[#292929] text-white border-gray-700",children:c?a.jsxs(a.Fragment,{children:[a.jsxs(hl,{className:"text-white cursor-default",disabled:!0,children:[a.jsx(Wi,{className:"h-4 w-4 mr-2 text-[#E50914]"}),p]}),a.jsx(aS,{className:"bg-gray-700"}),a.jsxs(hl,{className:"text-red-400 hover:bg-red-900 hover:text-white cursor-pointer",onClick:S,children:[a.jsx(dg,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}):a.jsxs(hl,{className:"text-[#44C8E8] hover:bg-[#E50914] hover:text-white cursor-pointer",onClick:y,children:[a.jsx(ug,{className:"h-4 w-4 mr-2"}),"Sign In / Register"]})})]}),a.jsx(Og,{isOpen:u,onClose:()=>h(!1),onAuthSuccess:x=>{l(!1),localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),typeof window<"u"&&(window.__loggedOut=!1),console.log("[UserSelector] Auth success, cleared logout flags"),s(x)}})]})};function hm(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zc="Switch",[nR,eA]=_t(zc),[rR,oR]=nR(zc),LS=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,w]=d.useState(null),v=re(t,x=>w(x)),g=d.useRef(!1),S=m?h||!!m.closest("form"):!0,[y,p]=Wn({prop:o,defaultProp:s??!1,onChange:u,caller:zc});return a.jsxs(rR,{scope:n,checked:y,disabled:l,children:[a.jsx(Y.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":WS(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:U(e.onClick,x=>{p(b=>!b),S&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),S&&a.jsx(US,{control:m,bubbles:!g.current,name:r,value:c,checked:y,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});LS.displayName=zc;var FS="SwitchThumb",$S=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=oR(FS,n);return a.jsx(Y.span,{"data-state":WS(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});$S.displayName=FS;var sR="SwitchBubbleInput",US=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},s)=>{const i=d.useRef(null),l=re(i,s),c=hm(n),u=Yh(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&w){const v=new Event("click",{bubbles:r});w.call(h,n),h.dispatchEvent(v)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});US.displayName=sR;function WS(e){return e?"checked":"unchecked"}var zS=LS,aR=$S;const wf=d.forwardRef(({className:e,...t},n)=>a.jsx(zS,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(aR,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wf.displayName=zS.displayName;const HS=({isOpen:e,onClose:t,onPlatformsUpdated:n})=>{const{user:r}=Ws(),{toast:o}=Ht(),[s,i]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(null),[f,m]=d.useState({name:"",logoUrl:"",isDefault:!1}),[w,v]=d.useState(null),[g,S]=d.useState(!1);d.useEffect(()=>{e&&r&&y()},[e,r]);const y=async()=>{if(r){c(!0),v(null);try{const N=await(await nt("GET",`/api/platforms/${r.id}`)).json();i(N)}catch(E){console.error("Failed to fetch platforms:",E),v("Failed to load platforms. Please try again."),o({title:"Error",description:"Failed to load platforms",variant:"destructive"})}finally{c(!1)}}},p=async()=>{if(r){if(!f.name.trim()){v("Platform name is required");return}c(!0),v(null);try{const E={...f,userId:r.id};await nt("POST","/api/platforms",E),m({name:"",logoUrl:"",isDefault:!1}),S(!1),y(),n(),o({title:"Success",description:"Platform added successfully",variant:"default"})}catch(E){console.error("Failed to add platform:",E),v("Failed to add platform. Please try again."),o({title:"Error",description:"Failed to add platform",variant:"destructive"})}finally{c(!1)}}},x=async()=>{if(!(!r||!u)){c(!0),v(null);try{await nt("PUT",`/api/platforms/${u.id}`,u),h(null),y(),n(),o({title:"Success",description:"Platform updated successfully",variant:"default"})}catch(E){console.error("Failed to update platform:",E),v("Failed to update platform. Please try again."),o({title:"Error",description:"Failed to update platform",variant:"destructive"})}finally{c(!1)}}},b=async E=>{if(r){c(!0),v(null);try{await nt("DELETE",`/api/platforms/${E}`),y(),n(),o({title:"Success",description:"Platform deleted successfully",variant:"default"})}catch(N){console.error("Failed to delete platform:",N),v("Failed to delete platform. Please try again."),o({title:"Error",description:"Failed to delete platform",variant:"destructive"})}finally{c(!1)}}};return a.jsx(ks,{open:e,onOpenChange:t,children:a.jsxs(mo,{className:"max-w-md",children:[a.jsxs(po,{children:[a.jsx(go,{children:"Manage Streaming Platforms"}),a.jsx(vi,{children:"Add, edit, or remove streaming platforms to better organize your watchlist."})]}),w&&a.jsx("div",{className:"mb-4 p-2 bg-red-50 text-red-600 rounded-md text-sm",children:w}),a.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(E=>a.jsx("div",{className:"flex items-center justify-between border p-3 rounded-md",children:(u==null?void 0:u.id)===E.id?a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{htmlFor:"edit-name",children:"Name"}),a.jsx(He,{id:"edit-name",value:u.name,onChange:N=>h({...u,name:N.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{htmlFor:"edit-logo",children:"Logo URL (optional)"}),a.jsx(He,{id:"edit-logo",value:u.logoUrl||"",onChange:N=>h({...u,logoUrl:N.target.value})})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-1",children:[a.jsx(wf,{checked:u.isDefault===!0,onCheckedChange:N=>h({...u,isDefault:N})}),a.jsx(he,{htmlFor:"edit-default",children:"Make default platform"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs(ee,{size:"sm",onClick:x,disabled:l,children:[a.jsx(Wl,{className:"h-4 w-4 mr-1"}),"Save"]}),a.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>h(null),children:[a.jsx(An,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:E.name}),E.isDefault&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Default platform"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>h(E),disabled:l,children:a.jsx(df,{className:"h-4 w-4"})}),a.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>b(E.id),disabled:l,children:a.jsx(ff,{className:"h-4 w-4"})})]})]})},E.id))}):l?null:a.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No platforms added yet. Add your first platform."}),g?a.jsxs("div",{className:"border p-3 rounded-md space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Add New Platform"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{htmlFor:"name",children:"Name"}),a.jsx(He,{id:"name",value:f.name,onChange:E=>m({...f,name:E.target.value}),placeholder:"e.g. Netflix, Prime Video"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{htmlFor:"logo-url",children:"Logo URL (optional)"}),a.jsx(He,{id:"logo-url",value:f.logoUrl,onChange:E=>m({...f,logoUrl:E.target.value}),placeholder:"https://example.com/logo.png"})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-1",children:[a.jsx(wf,{id:"default-platform",checked:f.isDefault,onCheckedChange:E=>m({...f,isDefault:E})}),a.jsx(he,{htmlFor:"default-platform",children:"Make default platform"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs(ee,{size:"sm",onClick:p,disabled:l||!f.name.trim(),children:[a.jsx(Wl,{className:"h-4 w-4 mr-1"}),"Add"]}),a.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>S(!1),children:[a.jsx(An,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):a.jsxs(ee,{className:"w-full",variant:"outline",onClick:()=>S(!0),disabled:l,children:[a.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Add Platform"]})]}),a.jsx(qa,{children:a.jsx(ee,{variant:"outline",onClick:t,children:"Close"})})]})})},BS=d.createContext(null),Hc=()=>{const e=d.useContext(BS);if(e)return e;const t=d.useContext(yi);if(!t)throw new Error("useUserContext must be used within a provider (UserContext or JwtAuthProvider)");return{currentUser:t.user,setCurrentUser:()=>{},login:()=>{},logout:()=>t.logoutMutation.mutateAsync(),isAuthenticated:!!t.user,addUser:async()=>!1,getUsers:async()=>[]}},iR=({onTabChange:e,activeTab:t})=>{const n=zs(),[r,o]=d.useState(!1),[s,i]=d.useState(!1),{currentUser:l}=Hc(),c=bc();return d.useEffect(()=>{const u=()=>{try{const h=new URLSearchParams(window.location.search),f=h.get("emergencyLogin")==="true",m=h.get("directAuth")==="true",w=sessionStorage.getItem("emergency_auth")==="true";o(f||m||w)}catch(h){console.error("[EMERGENCY] Error checking emergency mode:",h)}};return u(),window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)},[]),a.jsx("header",{className:"bg-[#141414] border-b border-[#292929] sticky top-0 z-50 ios-safe-area-padding",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-col md:flex-row md:items-center",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-0 md:w-1/4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-6 w-6 text-[#E50914] mr-2"}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-[#E50914] tracking-tight",children:"Watchlist"}),r&&a.jsxs("div",{className:"ml-2 flex items-center bg-yellow-700/30 text-yellow-500 text-xs px-2 py-1 rounded-md",children:[a.jsx(vk,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:"Emergency Mode"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[l&&a.jsx(ee,{variant:"outline",size:"sm",className:"flex items-center p-2 h-8",onClick:()=>i(!0),"aria-label":"Manage Platforms",children:a.jsx(Hl,{className:"h-4 w-4"})}),a.jsx(Lg,{isMobile:!0})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:justify-between md:flex-1",children:[a.jsx("nav",{className:"w-full md:w-auto md:mx-auto",children:n?a.jsxs("ul",{className:"grid grid-cols-2 gap-1 bg-[#1a1a1a] rounded-lg p-1",children:[a.jsx("li",{className:"w-full",children:a.jsxs("button",{className:`w-full rounded-md py-2 flex items-center justify-center text-center ${t==="search"?"bg-[#292929] text-white font-medium":"text-[#E5E5E5] hover:bg-[#292929]/50"}`,onClick:()=>e("search"),"aria-label":"Search tab",children:[a.jsx(Er,{className:`h-4 w-4 mr-2 ${t==="search"?"text-[#E50914]":""}`}),a.jsx("span",{children:"Search"})]})}),a.jsx("li",{className:"w-full",children:a.jsxs("button",{className:`w-full rounded-md py-2 flex items-center justify-center text-center ${t==="watchlist"?"bg-[#292929] text-white font-medium":"text-[#E5E5E5] hover:bg-[#292929]/50"}`,onClick:()=>e("watchlist"),"aria-label":"Watchlist tab",children:[a.jsx(lg,{className:`h-4 w-4 mr-2 ${t==="watchlist"?"text-[#E50914]":""}`}),a.jsx("span",{children:"My Watchlist"})]})})]}):a.jsxs("ul",{className:"flex space-x-8",children:[a.jsx("li",{children:a.jsxs("button",{className:`px-3 py-2 font-medium border-b-2 flex items-center text-base ${t==="search"?"border-[#E50914] text-white":"border-transparent text-[#E5E5E5] hover:text-white transition"}`,onClick:()=>e("search"),children:[a.jsx(Er,{className:"h-5 w-5 mr-2"}),"Search"]})}),a.jsx("li",{children:a.jsxs("button",{className:`px-3 py-2 font-medium border-b-2 flex items-center text-base ${t==="watchlist"?"border-[#E50914] text-white":"border-transparent text-[#E5E5E5] hover:text-white transition"}`,onClick:()=>e("watchlist"),children:[a.jsx(lg,{className:"h-5 w-5 mr-2"}),"My Watchlist"]})})]})}),!n&&a.jsxs("div",{className:"flex items-center gap-3 md:w-1/4 md:justify-end",children:[l&&a.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>i(!0),"aria-label":"Manage Platforms",children:[a.jsx(Hl,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Platforms"})]}),a.jsx(Lg,{})]}),l&&a.jsx(HS,{isOpen:s,onClose:()=>i(!1),onPlatformsUpdated:()=>{l!=null&&l.id&&c.invalidateQueries({queryKey:[`/api/platforms/${l.id}`]})}})]})]})})};function Zt({className:e,...t}){return a.jsx("div",{className:G("animate-pulse rounded-md bg-muted",e),...t})}const lR="https://image.tmdb.org/t/p/",cR="https://www.imdb.com/title/",Ja=(e,t="w500")=>e?`${lR}${t}${e}`:null,uR={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},dR={10759:"Action & Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",10762:"Kids",9648:"Mystery",10763:"News",10764:"Reality",10765:"Sci-Fi & Fantasy",10766:"Soap",10767:"Talk",10768:"War & Politics",37:"Western"},Fg=(e,t="movie")=>{try{if(!e)return"";const n=t==="tv"?dR:uR;return typeof e=="string"?e.trim()===""?"":e.split(",").map(r=>{const o=Number(r.trim());return isNaN(o)?"":n[o]||""}).filter(Boolean).join(", "):Array.isArray(e)?e.filter(r=>r!=null).map(r=>{const o=typeof r=="number"?r:Number(r);return isNaN(o)?"":n[o]||""}).filter(Boolean).join(", "):(console.warn("Unknown format for genre IDs:",e),"")}catch(n){return console.error("Error processing genre IDs:",n,e),""}},Jl=e=>e.title||e.name||"Unknown Title",fR=e=>e.release_date||e.first_air_date,hR=e=>e?new Date(e).getFullYear().toString():"",Xa=e=>e.media_type||"movie",mm=e=>{try{const t=Xa(e),n=hR(fR(e));let r="";(e.genre_ids&&Array.isArray(e.genre_ids)||e.genre_ids&&typeof e.genre_ids=="string")&&(r=Fg(e.genre_ids,t));let o="";if(t==="movie"&&e.runtime)o=`  ${vo(e.runtime)}`;else if(t==="tv")if(e.number_of_seasons&&e.number_of_episodes){const s=e.number_of_seasons===1?"season":"seasons",i=e.number_of_episodes===1?"episode":"episodes";o=`  ${e.number_of_seasons} ${s}, ${e.number_of_episodes} ${i}`}else o="  TV Series";return`${n}${o}${r?"  "+r:""}`}catch(t){return console.warn("Error formatting movie display info:",t,e),e.release_date||e.first_air_date||""}},Vu={},mR=async(e,t="movie")=>{try{const n=`${t}_${e}`;if(Vu[n])return{imdb_id:Vu[n]};const r=await fetch(`/api/movies/external-ids/${e}?mediaType=${t}`);if(!r.ok)throw new Error("Failed to fetch external IDs");const o=await r.json();return o.imdb_id&&(Vu[n]=o.imdb_id),o}catch(n){return console.error("Error fetching external IDs:",n),{}}},pm=async(e,t="movie",n)=>{try{const r=await mR(e,t);return r.imdb_id?`${cR}${r.imdb_id}`:n?`https://www.imdb.com/find/?q=${encodeURIComponent(n)}&s=tt`:`https://www.themoviedb.org/${t}/${e}`}catch{return n?`https://www.imdb.com/find/?q=${encodeURIComponent(n)}&s=tt`:`https://www.themoviedb.org/${t}/${e}`}},pR=async(e,t="all")=>{try{const n=await fetch(`/api/movies/search?query=${encodeURIComponent(e)}&mediaType=${t}`);if(!n.ok)throw new Error("Failed to search movies and TV shows");return await n.json()}catch(n){throw console.error("Error searching media:",n),n}},Ku={},Ts=async(e,t="movie")=>{try{const n=`${t}_${e}`;if(Ku[n])return Ku[n];const r=await fetch(`/api/movies/details/${e}?mediaType=${t}`);if(!r.ok)throw new Error("Failed to fetch movie details");const o=await r.json();return Ku[n]=o,o}catch(n){return console.error("Error fetching movie details:",n),{}}},vo=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return t===0?`${n}m`:n===0?`${t}h`:`${t}h ${n}m`},gR=({movie:e,onAddToWatchlist:t,onShowDetails:n})=>{const[r,o]=d.useState(!1),[s,i]=d.useState(!1),l=zs(),[c,u]=d.useState(""),[h,f]=d.useState(!1),[m,w]=d.useState(""),[v,g]=d.useState("");let S,y,p,x,b;try{S=Ja(e.poster_path),y=Jl(e),p=Xa(e),x=mm(e),b=e.vote_average!==void 0&&e.vote_average!==null?typeof e.vote_average=="number"?e.vote_average.toFixed(1):String(e.vote_average):"N/A"}catch(M){console.error("Error processing movie data:",M,e),S=null,y=e.title||e.name||"Unknown Title",p=e.media_type||"movie",x="",b="N/A"}const E=p==="tv"?"TV":"Movie",N=p==="tv"?"bg-blue-600":"bg-[#E50914]",C=l?s:r;d.useEffect(()=>{l&&i(!1)},[l,e.id]),d.useEffect(()=>{(async()=>{try{if(p==="movie"){if(e.runtime){w(vo(e.runtime));return}const D=await Ts(e.id,"movie");D&&D.runtime&&w(vo(D.runtime))}else if(p==="tv"){if(e.number_of_seasons&&e.number_of_episodes){const A=e.number_of_seasons===1?"season":"seasons",H=e.number_of_episodes===1?"episode":"episodes";g(`${e.number_of_seasons} ${A}, ${e.number_of_episodes} ${H}`);return}const D=await Ts(e.id,"tv");if(D){const A=D.number_of_seasons||0,H=D.number_of_episodes||0;g(`${A} ${A===1?"season":"seasons"}, ${H} ${H===1?"episode":"episodes"}`)}}}catch(D){console.error(`Error fetching ${p} details:`,D)}})()},[e.id,p,e.runtime,e.number_of_seasons,e.number_of_episodes]),d.useEffect(()=>{(async()=>{f(!0);try{const D=await pm(e.id,p,y);u(D)}catch(D){console.error("Error fetching IMDb URL:",D),u(`https://www.imdb.com/find/?q=${encodeURIComponent(y)}&s=tt`)}finally{f(!1)}})()},[e.id,p,y]);const k=M=>{M.stopPropagation(),t(e)},_=M=>{M.stopPropagation(),n&&n(e)},R=()=>{l&&i(!s)},$=M=>{M.stopPropagation(),M.preventDefault(),c?window.open(c,"_blank","noopener"):window.open(`https://www.imdb.com/find/?q=${encodeURIComponent(y)}&s=tt`,"_blank","noopener")};return a.jsxs("div",{className:"movie-card relative rounded-lg overflow-hidden group cursor-pointer touch-manipulation",onMouseEnter:()=>!l&&o(!0),onMouseLeave:()=>!l&&o(!1),onClick:R,"data-movie-id":e.id,children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:S||"https://via.placeholder.com/300x450?text=No+Image",alt:y,className:"w-full aspect-[2/3] object-cover",loading:"lazy"}),a.jsx("div",{className:`absolute top-2 right-2 ${N} text-white text-xs font-bold py-1 px-2 rounded-full`,children:E}),l&&!s&&a.jsx("div",{className:"absolute bottom-2 right-2 z-10",onClick:M=>M.stopPropagation(),children:a.jsx("button",{type:"button",className:"bg-[#E50914] text-white rounded-full p-2 shadow-lg touch-manipulation",onClick:M=>(M.stopPropagation(),M.preventDefault(),t(e),!1),"aria-label":"Add to watchlist",children:a.jsx(ig,{className:"h-6 w-6"})})})]}),a.jsxs("div",{className:`movie-info absolute inset-0 bg-black bg-opacity-85 flex flex-col justify-end p-3 transition-opacity duration-300 ${C?"opacity-100":"opacity-0"} ${l?"touch-auto":""}`,children:[a.jsx("h3",{className:"font-bold text-sm sm:text-base md:text-lg",children:y}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:x}),(m||v)&&a.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[p==="movie"&&m&&a.jsxs(a.Fragment,{children:[a.jsx(Ba,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:m})]}),p==="tv"&&v&&a.jsxs(a.Fragment,{children:[a.jsx(Cr,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:v})]})]}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("span",{className:"text-[#F5C518] font-bold text-xs sm:text-sm",children:b}),a.jsx("div",{className:"ml-1",children:a.jsx(Nc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#F5C518] fill-current"})})]}),!l&&a.jsxs("div",{className:"flex mt-2 space-x-2",children:[n&&a.jsxs("button",{className:"bg-gray-700 text-white text-xs rounded-full py-1 px-3 hover:bg-gray-600 transition flex items-center",onClick:_,"aria-label":"Show details",children:[a.jsx(cf,{className:"h-3 w-3 mr-1"}),"Details"]}),a.jsxs("a",{href:c||`https://www.imdb.com/find/?q=${encodeURIComponent(y)}&s=tt`,target:"_blank",rel:"noopener noreferrer",className:"bg-[#F5C518] text-black text-xs rounded-full py-1 px-3 hover:bg-yellow-400 transition flex items-center",onClick:M=>M.stopPropagation(),"aria-label":"View on IMDb",children:[a.jsx(Va,{className:"h-3 w-3 mr-1"}),"IMDb"]}),a.jsx("button",{className:"bg-[#E50914] text-white text-xs rounded-full py-1 px-3 hover:bg-red-700 transition flex-grow",onClick:k,children:"+ Add to Watchlist"})]}),l&&a.jsxs("div",{className:"flex flex-col mt-3 space-y-2",children:[a.jsxs("button",{className:"bg-[#E50914] text-white text-sm font-medium rounded-lg py-2 px-3 hover:bg-red-700 transition flex items-center justify-center touch-manipulation",onClick:M=>{M.stopPropagation(),M.preventDefault(),t(e)},children:[a.jsx(ig,{className:"h-4 w-4 mr-2"}),"Add to Watchlist"]}),a.jsxs("div",{className:"flex space-x-2",children:[n&&a.jsxs("button",{className:"bg-gray-700 text-white text-sm rounded-lg py-2 flex-1 hover:bg-gray-600 transition flex items-center justify-center touch-manipulation",onClick:M=>{M.stopPropagation(),M.preventDefault(),n&&n(e)},"aria-label":"Show details",type:"button",children:[a.jsx(cf,{className:"h-4 w-4 mr-1"}),"Details"]}),a.jsxs("button",{type:"button",className:"bg-[#F5C518] text-black text-sm rounded-lg py-2 flex-1 hover:bg-yellow-400 transition flex items-center justify-center touch-manipulation",onClick:$,"aria-label":"View on IMDb",children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),"IMDb"]})]})]})]})]})},gm=d.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));gm.displayName="Textarea";function xe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function yo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const VS=6048e5,vR=864e5,Gi=43200,$g=1440;let yR={};function xi(){return yR}function Za(e,t){var l,c,u,h;const n=xi(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,o=xe(e),s=o.getDay(),i=(s<r?7:0)+s-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Xl(e){return Za(e,{weekStartsOn:1})}function KS(e){const t=xe(e),n=t.getFullYear(),r=yo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Xl(r),s=yo(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const i=Xl(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Ug(e){const t=xe(e);return t.setHours(0,0,0,0),t}function Zl(e){const t=xe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xR(e,t){const n=Ug(e),r=Ug(t),o=+n-Zl(n),s=+r-Zl(r);return Math.round((o-s)/vR)}function wR(e){const t=KS(e),n=yo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xl(n)}function ml(e,t){const n=xe(e),r=xe(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function SR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bR(e){if(!SR(e)&&typeof e!="number")return!1;const t=xe(e);return!isNaN(Number(t))}function ER(e,t){const n=xe(e),r=xe(t),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function CR(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function jR(e,t){return+xe(e)-+xe(t)}function NR(e){const t=xe(e);return t.setHours(23,59,59,999),t}function kR(e){const t=xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function TR(e){const t=xe(e);return+NR(t)==+kR(t)}function PR(e,t){const n=xe(e),r=xe(t),o=ml(n,r),s=Math.abs(ER(n,r));let i;if(s<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);let l=ml(n,r)===-o;TR(xe(e))&&s===1&&ml(e,r)===1&&(l=!1),i=o*(s-Number(l))}return i===0?0:i}function _R(e,t,n){const r=jR(e,t)/1e3;return CR(n==null?void 0:n.roundingMethod)(r)}function RR(e){const t=xe(e),n=yo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const MR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IR=(e,t,n)=>{let r;const o=MR[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const AR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LR={date:Gu({formats:AR,defaultWidth:"full"}),time:Gu({formats:DR,defaultWidth:"full"}),dateTime:Gu({formats:OR,defaultWidth:"full"})},FR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$R=(e,t,n,r)=>FR[e];function ea(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;o=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const UR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KR=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GR={ordinalNumber:KR,era:ea({values:UR,defaultWidth:"wide"}),quarter:ea({values:WR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ea({values:zR,defaultWidth:"wide"}),day:ea({values:HR,defaultWidth:"wide"}),dayPeriod:ea({values:BR,defaultWidth:"wide",formattingValues:VR,defaultFormattingWidth:"wide"})};function ta(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const i=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?YR(l,f=>f.test(i)):QR(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function QR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function YR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function qR(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(o.length);return{value:i,rest:l}}}const JR=/^(\d+)(th|st|nd|rd)?/i,XR=/\d+/i,ZR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eM={any:[/^b/i,/^(a|c)/i]},tM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nM={any:[/1/i,/2/i,/3/i,/4/i]},rM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cM={ordinalNumber:qR({matchPattern:JR,parsePattern:XR,valueCallback:e=>parseInt(e,10)}),era:ta({matchPatterns:ZR,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any"}),quarter:ta({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:nM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ta({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:oM,defaultParseWidth:"any"}),day:ta({matchPatterns:sM,defaultMatchWidth:"wide",parsePatterns:aM,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:iM,defaultMatchWidth:"any",parsePatterns:lM,defaultParseWidth:"any"})},GS={code:"en-US",formatDistance:IR,formatLong:LR,formatRelative:$R,localize:GR,match:cM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uM(e){const t=xe(e);return xR(t,RR(t))+1}function dM(e){const t=xe(e),n=+Xl(t)-+wR(t);return Math.round(n/VS)+1}function QS(e,t){var h,f,m,w;const n=xe(e),r=n.getFullYear(),o=xi(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??o.firstWeekContainsDate??((w=(m=o.locale)==null?void 0:m.options)==null?void 0:w.firstWeekContainsDate)??1,i=yo(e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const l=Za(i,t),c=yo(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Za(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function fM(e,t){var l,c,u,h;const n=xi(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=QS(e,t),s=yo(e,0);return s.setFullYear(o,0,r),s.setHours(0,0,0,0),Za(s,t)}function hM(e,t){const n=xe(e),r=+Za(n,t)-+fM(n,t);return Math.round(r/VS)+1}function ge(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Qn={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ge(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ge(n+1,2)},d(e,t){return ge(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ge(e.getHours()%12||12,t.length)},H(e,t){return ge(e.getHours(),t.length)},m(e,t){return ge(e.getMinutes(),t.length)},s(e,t){return ge(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return ge(o,t.length)}},Ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Qn.y(e,t)},Y:function(e,t,n,r){const o=QS(e,r),s=o>0?o:1-o;if(t==="YY"){const i=s%100;return ge(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):ge(s,t.length)},R:function(e,t){const n=KS(e);return ge(n,t.length)},u:function(e,t){const n=e.getFullYear();return ge(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qn.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=hM(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):ge(o,t.length)},I:function(e,t,n){const r=dM(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ge(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qn.d(e,t)},D:function(e,t,n){const r=uM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ge(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ge(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return ge(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Ao.noon:r===0?o=Ao.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Ao.evening:r>=12?o=Ao.afternoon:r>=4?o=Ao.morning:o=Ao.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qn.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qn.s(e,t)},S:function(e,t){return Qn.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Hg(r);case"XXXX":case"XX":return Wr(r);case"XXXXX":case"XXX":default:return Wr(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Hg(r);case"xxxx":case"xx":return Wr(r);case"xxxxx":case"xxx":default:return Wr(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zg(r,":");case"OOOO":default:return"GMT"+Wr(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zg(r,":");case"zzzz":default:return"GMT"+Wr(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ge(r,t.length)},T:function(e,t,n){const r=e.getTime();return ge(r,t.length)}};function zg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+ge(s,2)}function Hg(e,t){return e%60===0?(e>0?"-":"+")+ge(Math.abs(e)/60,2):Wr(e,t)}function Wr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=ge(Math.trunc(r/60),2),s=ge(r%60,2);return n+o+t+s}const Bg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Bg(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Bg(r,t)).replace("{{time}}",YS(o,t))},pM={p:YS,P:mM},gM=/^D+$/,vM=/^Y+$/,yM=["D","DD","YY","YYYY"];function xM(e){return gM.test(e)}function wM(e){return vM.test(e)}function SM(e,t,n){const r=bM(e,t,n);if(console.warn(r),yM.includes(e))throw new RangeError(r)}function bM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jM=/^'([^]*?)'?$/,NM=/''/g,kM=/[a-zA-Z]/;function ec(e,t,n){var h,f,m,w;const r=xi(),o=r.locale??GS,s=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((w=(m=r.locale)==null?void 0:m.options)==null?void 0:w.weekStartsOn)??0,l=xe(e);if(!bR(l))throw new RangeError("Invalid time value");let c=t.match(CM).map(v=>{const g=v[0];if(g==="p"||g==="P"){const S=pM[g];return S(v,o.formatLong)}return v}).join("").match(EM).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:TM(v)};if(Wg[g])return{isToken:!0,value:v};if(g.match(kM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(c=o.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(wM(g)||xM(g))&&SM(g,t,String(e));const S=Wg[g[0]];return S(l,g,o.localize,u)}).join("")}function TM(e){const t=e.match(jM);return t?t[1].replace(NM,"'"):e}function PM(e,t,n){const r=xi(),o=(n==null?void 0:n.locale)??r.locale??GS,s=2520,i=ml(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let c,u;i>0?(c=xe(t),u=xe(e)):(c=xe(e),u=xe(t));const h=_R(u,c),f=(Zl(u)-Zl(c))/1e3,m=Math.round((h-f)/60);let w;if(m<2)return n!=null&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,l):h<10?o.formatDistance("lessThanXSeconds",10,l):h<20?o.formatDistance("lessThanXSeconds",20,l):h<40?o.formatDistance("halfAMinute",0,l):h<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):m===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",m,l);if(m<45)return o.formatDistance("xMinutes",m,l);if(m<90)return o.formatDistance("aboutXHours",1,l);if(m<$g){const v=Math.round(m/60);return o.formatDistance("aboutXHours",v,l)}else{if(m<s)return o.formatDistance("xDays",1,l);if(m<Gi){const v=Math.round(m/$g);return o.formatDistance("xDays",v,l)}else if(m<Gi*2)return w=Math.round(m/Gi),o.formatDistance("aboutXMonths",w,l)}if(w=PR(u,c),w<12){const v=Math.round(m/Gi);return o.formatDistance("xMonths",v,l)}else{const v=w%12,g=Math.trunc(w/12);return v<3?o.formatDistance("aboutXYears",g,l):v<9?o.formatDistance("overXYears",g,l):o.formatDistance("almostXYears",g+1,l)}}var vm="Radio",[_M,qS]=_t(vm),[RM,MM]=_M(vm),JS=d.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:s,disabled:i,value:l="on",onCheck:c,form:u,...h}=e,[f,m]=d.useState(null),w=re(t,S=>m(S)),v=d.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(RM,{scope:n,checked:o,disabled:i,children:[a.jsx(Y.button,{type:"button",role:"radio","aria-checked":o,"data-state":tb(o),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:w,onClick:U(e.onClick,S=>{o||c==null||c(),g&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),g&&a.jsx(eb,{control:f,bubbles:!v.current,name:r,value:l,checked:o,required:s,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});JS.displayName=vm;var XS="RadioIndicator",ZS=d.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,s=MM(XS,n);return a.jsx(dt,{present:r||s.checked,children:a.jsx(Y.span,{"data-state":tb(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})})});ZS.displayName=XS;var IM="RadioBubbleInput",eb=d.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},s)=>{const i=d.useRef(null),l=re(i,s),c=hm(n),u=Yh(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&w){const v=new Event("click",{bubbles:r});w.call(h,n),h.dispatchEvent(v)}},[c,n,r]),a.jsx(Y.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eb.displayName=IM;function tb(e){return e?"checked":"unchecked"}var AM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bc="RadioGroup",[DM,tA]=_t(Bc,[Us,qS]),nb=Us(),rb=qS(),[OM,LM]=DM(Bc),ob=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:s,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:f,...m}=e,w=nb(n),v=Ls(u),[g,S]=Wn({prop:s,defaultProp:o??"",onChange:f,caller:Bc});return a.jsx(OM,{scope:n,name:r,required:i,disabled:l,value:g,onValueChange:S,children:a.jsx(Xh,{asChild:!0,...w,orientation:c,dir:v,loop:h,children:a.jsx(Y.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:t})})})});ob.displayName=Bc;var sb="RadioGroupItem",ab=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,s=LM(sb,n),i=s.disabled||r,l=nb(n),c=rb(n),u=d.useRef(null),h=re(t,u),f=s.value===o.value,m=d.useRef(!1);return d.useEffect(()=>{const w=g=>{AM.includes(g.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",v)}},[]),a.jsx(Zh,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(JS,{disabled:i,required:s.required,checked:f,...c,...o,name:s.name,ref:h,onCheck:()=>s.onValueChange(o.value),onKeyDown:U(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:U(o.onFocus,()=>{var w;m.current&&((w=u.current)==null||w.click())})})})});ab.displayName=sb;var FM="RadioGroupIndicator",ib=d.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=rb(n);return a.jsx(ZS,{...o,...r,ref:t})});ib.displayName=FM;var lb=ob,cb=ab,$M=ib;const ym=d.forwardRef(({className:e,...t},n)=>a.jsx(lb,{className:G("grid gap-2",e),...t,ref:n}));ym.displayName=lb.displayName;const no=d.forwardRef(({className:e,...t},n)=>a.jsx(cb,{ref:n,className:G("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx($M,{className:"flex items-center justify-center",children:a.jsx(vw,{className:"h-2.5 w-2.5 fill-current text-current"})})}));no.displayName=cb.displayName;function Sf(e,[t,n]){return Math.min(n,Math.max(t,e))}var UM=[" ","Enter","ArrowUp","ArrowDown"],WM=[" ","Enter"],xo="Select",[Vc,Kc,zM]=Cc(xo),[Hs,nA]=_t(xo,[zM,Rc]),Gc=Rc(),[HM,Ir]=Hs(xo),[BM,VM]=Hs(xo),ub=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:w,form:v}=e,g=Gc(t),[S,y]=d.useState(null),[p,x]=d.useState(null),[b,E]=d.useState(!1),N=Ls(u),[C,k]=Wn({prop:r,defaultProp:o??!1,onChange:s,caller:xo}),[_,R]=Wn({prop:i,defaultProp:l,onChange:c,caller:xo}),$=d.useRef(null),M=S?v||!!S.closest("form"):!0,[D,A]=d.useState(new Set),H=Array.from(D).map(F=>F.props.value).join(";");return a.jsx(Yw,{...g,children:a.jsxs(HM,{required:w,scope:t,trigger:S,onTriggerChange:y,valueNode:p,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:E,contentId:vn(),value:_,onValueChange:R,open:C,onOpenChange:k,dir:N,triggerPointerDownPosRef:$,disabled:m,children:[a.jsx(Vc.Provider,{scope:t,children:a.jsx(BM,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{A(Q=>new Set(Q).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{A(Q=>{const P=new Set(Q);return P.delete(F),P})},[]),children:n})}),M?a.jsxs(Ab,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:f,value:_,onChange:F=>R(F.target.value),disabled:m,form:v,children:[_===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},H):null]})})};ub.displayName=xo;var db="SelectTrigger",fb=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=Gc(n),i=Ir(db,n),l=i.disabled||r,c=re(t,i.onTriggerChange),u=Kc(n),h=d.useRef("touch"),[f,m,w]=Ob(g=>{const S=u().filter(x=>!x.disabled),y=S.find(x=>x.value===i.value),p=Lb(S,g,y);p!==void 0&&i.onValueChange(p.value)}),v=g=>{l||(i.onOpenChange(!0),w()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(qw,{asChild:!0,...s,children:a.jsx(Y.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Db(i.value)?"":void 0,...o,ref:c,onClick:U(o.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&v(g)}),onPointerDown:U(o.onPointerDown,g=>{h.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:U(o.onKeyDown,g=>{const S=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(S&&g.key===" ")&&UM.includes(g.key)&&(v(),g.preventDefault())})})})});fb.displayName=db;var hb="SelectValue",mb=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...l}=e,c=Ir(hb,n),{onValueNodeHasChildrenChange:u}=c,h=s!==void 0,f=re(t,c.onValueNodeChange);return Ve(()=>{u(h)},[u,h]),a.jsx(Y.span,{...l,ref:f,style:{pointerEvents:"none"},children:Db(c.value)?a.jsx(a.Fragment,{children:i}):s})});mb.displayName=hb;var KM="SelectIcon",pb=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return a.jsx(Y.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});pb.displayName=KM;var GM="SelectPortal",gb=e=>a.jsx(di,{asChild:!0,...e});gb.displayName=GM;var wo="SelectContent",vb=d.forwardRef((e,t)=>{const n=Ir(wo,e.__scopeSelect),[r,o]=d.useState();if(Ve(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?Eo.createPortal(a.jsx(yb,{scope:e.__scopeSelect,children:a.jsx(Vc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(xb,{...e,ref:t})});vb.displayName=wo;var Kt=10,[yb,Ar]=Hs(wo),QM="SelectContentImpl",YM=uo("SelectContent.RemoveScroll"),xb=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:w,sticky:v,hideWhenDetached:g,avoidCollisions:S,...y}=e,p=Ir(wo,n),[x,b]=d.useState(null),[E,N]=d.useState(null),C=re(t,V=>b(V)),[k,_]=d.useState(null),[R,$]=d.useState(null),M=Kc(n),[D,A]=d.useState(!1),H=d.useRef(!1);d.useEffect(()=>{if(x)return em(x)},[x]),Wh();const F=d.useCallback(V=>{const[se,...de]=M().map(pe=>pe.ref.current),[Z]=de.slice(-1),fe=document.activeElement;for(const pe of V)if(pe===fe||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===se&&E&&(E.scrollTop=0),pe===Z&&E&&(E.scrollTop=E.scrollHeight),pe==null||pe.focus(),document.activeElement!==fe))return},[M,E]),Q=d.useCallback(()=>F([k,x]),[F,k,x]);d.useEffect(()=>{D&&Q()},[D,Q]);const{onOpenChange:P,triggerPointerDownPosRef:T}=p;d.useEffect(()=>{if(x){let V={x:0,y:0};const se=Z=>{var fe,pe;V={x:Math.abs(Math.round(Z.pageX)-(((fe=T.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((pe=T.current)==null?void 0:pe.y)??0))}},de=Z=>{V.x<=10&&V.y<=10?Z.preventDefault():x.contains(Z.target)||P(!1),document.removeEventListener("pointermove",se),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",de,{capture:!0})}}},[x,P,T]),d.useEffect(()=>{const V=()=>P(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[P]);const[O,B]=Ob(V=>{const se=M().filter(fe=>!fe.disabled),de=se.find(fe=>fe.ref.current===document.activeElement),Z=Lb(se,V,de);Z&&setTimeout(()=>Z.ref.current.focus())}),X=d.useCallback((V,se,de)=>{const Z=!H.current&&!de;(p.value!==void 0&&p.value===se||Z)&&(_(V),Z&&(H.current=!0))},[p.value]),Ne=d.useCallback(()=>x==null?void 0:x.focus(),[x]),J=d.useCallback((V,se,de)=>{const Z=!H.current&&!de;(p.value!==void 0&&p.value===se||Z)&&$(V)},[p.value]),ye=r==="popper"?bf:wb,ie=ye===bf?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:w,sticky:v,hideWhenDetached:g,avoidCollisions:S}:{};return a.jsx(yb,{scope:n,content:x,viewport:E,onViewportChange:N,itemRefCallback:X,selectedItem:k,onItemLeave:Ne,itemTextRefCallback:J,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:D,searchRef:O,children:a.jsx(Ic,{as:YM,allowPinchZoom:!0,children:a.jsx(kc,{asChild:!0,trapped:p.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:U(o,V=>{var se;(se=p.trigger)==null||se.focus({preventScroll:!0}),V.preventDefault()}),children:a.jsx(ui,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(ye,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:V=>V.preventDefault(),...y,...ie,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:U(y.onKeyDown,V=>{const se=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!se&&V.key.length===1&&B(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let Z=M().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const fe=V.target,pe=Z.indexOf(fe);Z=Z.slice(pe+1)}setTimeout(()=>F(Z)),V.preventDefault()}})})})})})})});xb.displayName=QM;var qM="SelectItemAlignedPosition",wb=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=Ir(wo,n),i=Ar(wo,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=re(t,C=>h(C)),m=Kc(n),w=d.useRef(!1),v=d.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:y,focusSelectedItem:p}=i,x=d.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&S&&y){const C=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),_=s.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(s.dir!=="rtl"){const fe=R.left-k.left,pe=_.left-fe,Ue=C.left-pe,Rt=C.width+Ue,En=Math.max(Rt,k.width),Dr=window.innerWidth-Kt,Or=Sf(pe,[Kt,Math.max(Kt,Dr-En)]);l.style.minWidth=Rt+"px",l.style.left=Or+"px"}else{const fe=k.right-R.right,pe=window.innerWidth-_.right-fe,Ue=window.innerWidth-C.right-pe,Rt=C.width+Ue,En=Math.max(Rt,k.width),Dr=window.innerWidth-Kt,Or=Sf(pe,[Kt,Math.max(Kt,Dr-En)]);l.style.minWidth=Rt+"px",l.style.right=Or+"px"}const $=m(),M=window.innerHeight-Kt*2,D=g.scrollHeight,A=window.getComputedStyle(u),H=parseInt(A.borderTopWidth,10),F=parseInt(A.paddingTop,10),Q=parseInt(A.borderBottomWidth,10),P=parseInt(A.paddingBottom,10),T=H+F+D+P+Q,O=Math.min(S.offsetHeight*5,T),B=window.getComputedStyle(g),X=parseInt(B.paddingTop,10),Ne=parseInt(B.paddingBottom,10),J=C.top+C.height/2-Kt,ye=M-J,ie=S.offsetHeight/2,V=S.offsetTop+ie,se=H+F+V,de=T-se;if(se<=J){const fe=$.length>0&&S===$[$.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-g.offsetTop-g.offsetHeight,Ue=Math.max(ye,ie+(fe?Ne:0)+pe+Q),Rt=se+Ue;l.style.height=Rt+"px"}else{const fe=$.length>0&&S===$[0].ref.current;l.style.top="0px";const Ue=Math.max(J,H+g.offsetTop+(fe?X:0)+ie)+de;l.style.height=Ue+"px",g.scrollTop=se-J+g.offsetTop}l.style.margin=`${Kt}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[m,s.trigger,s.valueNode,l,u,g,S,y,s.dir,r]);Ve(()=>x(),[x]);const[b,E]=d.useState();Ve(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=d.useCallback(C=>{C&&v.current===!0&&(x(),p==null||p(),v.current=!1)},[x,p]);return a.jsx(XM,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:a.jsx(Y.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});wb.displayName=qM;var JM="SelectPopperPosition",bf=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Kt,...s}=e,i=Gc(n);return a.jsx(Jw,{...i,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bf.displayName=JM;var[XM,xm]=Hs(wo,{}),Ef="SelectViewport",Sb=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,s=Ar(Ef,n),i=xm(Ef,n),l=re(t,s.onViewportChange),c=d.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Vc.Slot,{scope:n,children:a.jsx(Y.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:U(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const w=Math.abs(c.current-h.scrollTop);if(w>0){const v=window.innerHeight-Kt*2,g=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),y=Math.max(g,S);if(y<v){const p=y+w,x=Math.min(v,p),b=p-x;f.style.height=x+"px",f.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Sb.displayName=Ef;var bb="SelectGroup",[ZM,eI]=Hs(bb),tI=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=vn();return a.jsx(ZM,{scope:n,id:o,children:a.jsx(Y.div,{role:"group","aria-labelledby":o,...r,ref:t})})});tI.displayName=bb;var Eb="SelectLabel",Cb=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=eI(Eb,n);return a.jsx(Y.div,{id:o.id,...r,ref:t})});Cb.displayName=Eb;var tc="SelectItem",[nI,jb]=Hs(tc),Nb=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=e,l=Ir(tc,n),c=Ar(tc,n),u=l.value===r,[h,f]=d.useState(s??""),[m,w]=d.useState(!1),v=re(t,p=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,p,r,o)}),g=vn(),S=d.useRef("touch"),y=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nI,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:d.useCallback(p=>{f(x=>x||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(Vc.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:a.jsx(Y.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:v,onFocus:U(i.onFocus,()=>w(!0)),onBlur:U(i.onBlur,()=>w(!1)),onClick:U(i.onClick,()=>{S.current!=="mouse"&&y()}),onPointerUp:U(i.onPointerUp,()=>{S.current==="mouse"&&y()}),onPointerDown:U(i.onPointerDown,p=>{S.current=p.pointerType}),onPointerMove:U(i.onPointerMove,p=>{var x;S.current=p.pointerType,o?(x=c.onItemLeave)==null||x.call(c):S.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(i.onPointerLeave,p=>{var x;p.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:U(i.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(WM.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});Nb.displayName=tc;var la="SelectItemText",kb=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,i=Ir(la,n),l=Ar(la,n),c=jb(la,n),u=VM(la,n),[h,f]=d.useState(null),m=re(t,y=>f(y),c.onItemTextChange,y=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,y,c.value,c.disabled)}),w=h==null?void 0:h.textContent,v=d.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=u;return Ve(()=>(g(v),()=>S(v)),[g,S,v]),a.jsxs(a.Fragment,{children:[a.jsx(Y.span,{id:c.textId,...s,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Eo.createPortal(s.children,i.valueNode):null]})});kb.displayName=la;var Tb="SelectItemIndicator",Pb=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jb(Tb,n).isSelected?a.jsx(Y.span,{"aria-hidden":!0,...r,ref:t}):null});Pb.displayName=Tb;var Cf="SelectScrollUpButton",_b=d.forwardRef((e,t)=>{const n=Ar(Cf,e.__scopeSelect),r=xm(Cf,e.__scopeSelect),[o,s]=d.useState(!1),i=re(t,r.onScrollButtonChange);return Ve(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?a.jsx(Mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_b.displayName=Cf;var jf="SelectScrollDownButton",Rb=d.forwardRef((e,t)=>{const n=Ar(jf,e.__scopeSelect),r=xm(jf,e.__scopeSelect),[o,s]=d.useState(!1),i=re(t,r.onScrollButtonChange);return Ve(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?a.jsx(Mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Rb.displayName=jf;var Mb=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=Ar("SelectScrollButton",n),i=d.useRef(null),l=Kc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ve(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Y.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:U(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:U(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:U(o.onPointerLeave,()=>{c()})})}),rI="SelectSeparator",Ib=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(Y.div,{"aria-hidden":!0,...r,ref:t})});Ib.displayName=rI;var Nf="SelectArrow",oI=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Gc(n),s=Ir(Nf,n),i=Ar(Nf,n);return s.open&&i.position==="popper"?a.jsx(Xw,{...o,...r,ref:t}):null});oI.displayName=Nf;var sI="SelectBubbleInput",Ab=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=d.useRef(null),s=re(r,o),i=hm(t);return d.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(Y.select,{...n,style:{...Kx,...n.style},ref:s,defaultValue:t})});Ab.displayName=sI;function Db(e){return e===""||e===void 0}function Ob(e){const t=De(e),n=d.useRef(""),r=d.useRef(0),o=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function Lb(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=aI(e,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function aI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iI=ub,Fb=fb,lI=mb,cI=pb,uI=gb,$b=vb,dI=Sb,Ub=Cb,Wb=Nb,fI=kb,hI=Pb,zb=_b,Hb=Rb,Bb=Ib;const ca=iI,ua=lI,Go=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Fb,{ref:r,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(cI,{asChild:!0,children:a.jsx(zl,{className:"h-4 w-4 opacity-50"})})]}));Go.displayName=Fb.displayName;const Vb=d.forwardRef(({className:e,...t},n)=>a.jsx(zb,{ref:n,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(mk,{className:"h-4 w-4"})}));Vb.displayName=zb.displayName;const Kb=d.forwardRef(({className:e,...t},n)=>a.jsx(Hb,{ref:n,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(zl,{className:"h-4 w-4"})}));Kb.displayName=Hb.displayName;const Qo=d.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>a.jsx(uI,{children:a.jsxs($b,{ref:o,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(Vb,{}),a.jsx(dI,{className:G("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Kb,{})]})}));Qo.displayName=$b.displayName;const mI=d.forwardRef(({className:e,...t},n)=>a.jsx(Ub,{ref:n,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mI.displayName=Ub.displayName;const ot=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Wb,{ref:r,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(hI,{children:a.jsx(Wl,{className:"h-4 w-4"})})}),a.jsx(fI,{children:t})]}));ot.displayName=Wb.displayName;const pI=d.forwardRef(({className:e,...t},n)=>a.jsx(Bb,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));pI.displayName=Bb.displayName;const gI=({item:e,isOpen:t,onClose:n})=>{const{currentUser:r}=Hc(),[o,s]=d.useState(ec(new Date,"yyyy-MM-dd")),[i,l]=d.useState(""),[c,u]=d.useState("watched"),[h,f]=d.useState(!1),[m,w]=d.useState([]),[v,g]=d.useState(null),[S,y]=d.useState(!1),p=()=>{s(ec(new Date,"yyyy-MM-dd")),l(""),g(null),n()};d.useEffect(()=>{t&&(r!=null&&r.id)&&(async()=>{y(!0);try{const A=await nt("GET",`/api/platforms/${r.id}`);if(A.ok){const H=await A.json();w(H);const F=H.find(Q=>Q.isDefault===!0);F&&g(F.id)}}catch(A){console.error("Error fetching platforms:",A)}finally{y(!1)}})()},[t,r]);const{toast:x}=Ht(),b=zs();if(!e)return null;const E=Ja(e.poster_path,"w200"),N=Jl(e),C=Xa(e),k=mm(e),_=e.vote_average?e.vote_average.toFixed(1):"N/A",R=C==="tv"?Cr:br,$=C==="tv"?"TV Show":"Movie",M=async D=>{var F,Q;if(D.preventDefault(),!r){x({title:"No user selected",description:"Please select a user first",variant:"destructive"});return}if(c==="watched"&&!o){x({title:"Missing watched date",description:"Please select a date when you watched this content",variant:"destructive"});return}if(f(!0),!r||!r.id){console.error("User data is not available:",r),x({title:"Authentication Required",description:"Please login or select a user to add items to your watchlist.",variant:"destructive"}),n(),we.setQueryData(["/api/user"],null),setTimeout(()=>{window.location.href="/auth"},1e3),f(!1);return}try{const P=await fetch("/api/refresh-session",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});if(!P.ok){console.error("Session refresh failed with status:",P.status),x({title:"Session expired",description:"Your session has expired. Please login again to continue.",variant:"destructive"}),we.setQueryData(["/api/user"],null),n(),setTimeout(()=>{window.location.href="/auth"},1e3),f(!1);return}}catch(P){console.error("Error during session refresh:",P)}console.log("Current user data:",r);const A={userId:r.id,tmdbId:e.id||0,tmdbMovie:{...e,id:e.id||0,title:Jl(e)||"Unknown Title",overview:e.overview||"",poster_path:e.poster_path||"",backdrop_path:e.backdrop_path||"",vote_average:e.vote_average||0,genre_ids:e.genre_ids||[],media_type:e.media_type||(e.first_air_date?"tv":"movie")},platformId:v,watchedDate:c==="watched"&&o||null,notes:i||null,status:c},H={retries:3,retryDelay:800,timeout:2e4};try{console.log("Submitting watchlist data:",JSON.stringify(A,null,2));try{console.log("[WATCHLIST] Pre-checking authentication before adding to watchlist");let J=localStorage.getItem("jwt_token");if(!J&&(J=localStorage.getItem("movietracker_token_backup"),!J&&(J=sessionStorage.getItem("jwt_token")||sessionStorage.getItem("movietracker_token_backup"),!J))){const V=document.cookie.split(";");for(const se of V){const[de,Z]=se.trim().split("=");if(de==="jwt_token_backup"&&Z){J=Z;break}}}const ye={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"};J&&J.split(".").length===3?(console.log("[WATCHLIST] Including JWT token in auth check request"),ye.Authorization=`Bearer ${J}`,localStorage.setItem("jwt_token",J)):console.warn("[WATCHLIST] No valid JWT token found for auth check"),r&&(ye["X-User-ID"]=r.id.toString(),ye["X-Username"]=r.username);const ie=await fetch("/api/jwt/user",{credentials:"include",headers:ye,cache:"no-store"});if(!ie.ok&&(console.warn(`JWT authentication check returned status: ${ie.status}`),!(await fetch("/api/user",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},cache:"no-store"})).ok)){console.error("Authentication failed with both JWT and session methods");try{const se=await fetch("/api/refresh-session",{method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache"}});console.log(`Session refresh attempt status: ${se.status}`)}catch(se){console.error("Error during emergency session refresh:",se)}x({title:"Authentication required",description:"Please login again to add items to your watchlist",variant:"destructive"}),we.invalidateQueries({queryKey:["/api/jwt/user"]}),we.invalidateQueries({queryKey:["/api/user"]}),we.setQueryData(["/api/jwt/user"],null),we.setQueryData(["/api/user"],null),localStorage.removeItem("just_logged_out"),sessionStorage.removeItem("just_logged_out"),typeof window<"u"&&(window.__loggedOut=!1),setTimeout(()=>{window.location.href="/auth"},1e3),f(!1),n();return}console.log("[WATCHLIST] Authentication check passed, proceeding with request")}catch(J){console.error("Auth check error:",J)}const P={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"};let T=localStorage.getItem("jwt_token");if(!T&&(T=localStorage.getItem("movietracker_token_backup"),!T&&(T=sessionStorage.getItem("jwt_token")||sessionStorage.getItem("movietracker_token_backup"),!T))){const J=document.cookie.split(";");for(const ye of J){const[ie,V]=ye.trim().split("=");if(ie==="jwt_token_backup"&&V){T=V;break}}}if(T?(console.log("[WATCHLIST] Adding JWT token to request directly"),T.split(".").length===3?(P.Authorization=`Bearer ${T}`,localStorage.setItem("jwt_token",T)):console.warn("[WATCHLIST] Retrieved token has invalid format")):console.warn("[WATCHLIST] No JWT token found in any storage location"),r){console.log(`Adding backup user information for reliability: ID=${r.id}, Username=${r.username}`),P["X-User-ID"]=r.id.toString(),P["X-Username"]=r.username,P["X-Request-Timestamp"]=Date.now().toString();try{sessionStorage.setItem("auth_backup",JSON.stringify({userId:r.id,username:r.username,timestamp:Date.now()})),window.__authBackup={userId:r.id,username:r.username,timestamp:Date.now()}}catch(J){console.error("Error creating auth backup:",J)}}console.log("[WATCHLIST] Sending request with headers:",P);const O=await nt("POST","/api/watchlist",A,{...H,headers:P}),B=O.headers.get("content-type");let X=null;if(B&&B.includes("application/json"))try{X=await O.json()}catch(J){console.error("Error parsing watchlist response:",J)}const Ne=c==="to_watch"?"to watch list":c==="watching"?"currently watching list":"watched list";if((X==null?void 0:X.message)==="Already in watchlist")x({title:"Already Added",description:(X==null?void 0:X.details)||`You've already added "${N}" to your list`,variant:"default"});else{const J=v?(F=m.find(ie=>ie.id===v))==null?void 0:F.name:null,ye=J?` on ${J}`:"";x({title:`${$} added`,description:`${N} has been added to your ${Ne}${ye}`})}we.invalidateQueries({queryKey:["/api/watchlist",r.id]}),we.invalidateQueries({queryKey:[`/api/watchlist/${r.id}`]}),we.invalidateQueries({queryKey:["/api/user"]}),p()}catch(P){console.error("Error adding to watchlist:",P);const T=P.data||{};if(console.log("Error details:",T),P.status===409||(T==null?void 0:T.message)==="Already in watchlist")x({title:"Already Added",description:(T==null?void 0:T.details)||`You've already added "${N}" to your list`,variant:"default"}),p();else if(P.status===400){let O="There was a problem with the data submitted";T!=null&&T.errors?O=Object.values(T.errors).map(B=>B.message||B).join(", "):T!=null&&T.details&&(O=T.details),x({title:"Invalid data",description:O,variant:"destructive"})}else{const O=Wx(P);if(O.isAuthError){console.log("Authentication error detected:",O);const B=(T==null?void 0:T.message)||"Please log in again to add items to your watchlist";cl(O.errorType,B)}else O.isNetworkError?(console.log("Network error detected:",O),x({title:"Connection error",description:"Please check your internet connection and try again",variant:"destructive"})):P.status===404?(Q=T==null?void 0:T.message)!=null&&Q.includes("User not found")?x({title:"User not found",description:(T==null?void 0:T.details)||"The selected user account could not be found. Please try selecting a different user.",variant:"destructive"}):x({title:"Not found",description:(T==null?void 0:T.message)||"The requested resource was not found",variant:"destructive"}):P.isHtmlResponse?x({title:"Server error",description:"The server returned an unexpected response. Please try again later.",variant:"destructive"}):x({title:"Failed to add item",description:P.message||(T==null?void 0:T.message)||"There was an error adding the item to your list",variant:"destructive"})}}finally{f(!1)}};return a.jsx(ks,{open:t,onOpenChange:p,children:a.jsxs(mo,{className:`bg-[#292929] text-white border-gray-700 ${b?"p-4 pb-6":"sm:max-w-md"}`,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[a.jsxs(PS,{className:"absolute right-4 top-4 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600 p-1",children:[a.jsx(An,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),a.jsxs(po,{children:[a.jsx(go,{className:"text-lg font-bold pr-6",id:"dialog-title",children:c==="to_watch"?"Add to To Watch":c==="watching"?"Add to Currently Watching":"Add to Watched"}),a.jsxs(vi,{className:"text-gray-400",id:"dialog-description",children:["Add this ",$.toLowerCase()," to your ",c==="to_watch"?"to watch":c==="watching"?"currently watching":"watched"," list"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:`${b?"flex flex-col":"flex"} mb-4`,children:[a.jsxs("div",{className:`relative ${b?"mx-auto mb-3":""}`,children:[a.jsx("img",{src:E||"https://via.placeholder.com/100x150?text=No+Image",alt:N,className:`rounded ${b?"h-36":"w-24"}`}),a.jsx("div",{className:`absolute top-2 right-2 ${C==="tv"?"bg-blue-600":"bg-[#E50914]"} text-white text-xs font-bold py-1 px-2 rounded-full`,children:C==="tv"?"TV":"Movie"})]}),a.jsxs("div",{className:b?"text-center":"ml-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:N}),a.jsxs("div",{className:`flex items-center text-sm text-gray-300 ${b?"justify-center":""}`,children:[a.jsx(R,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:k})]}),a.jsxs("div",{className:`flex items-center mt-1 ${b?"justify-center":""}`,children:[a.jsx("span",{className:"text-[#F5C518] font-bold text-sm",children:_}),a.jsx("div",{className:"ml-1",children:a.jsx(Nc,{className:"h-4 w-4 text-[#F5C518] fill-current"})})]})]})]}),a.jsxs("div",{className:"mb-4 bg-gray-800 rounded-lg p-3",children:[a.jsx("h5",{className:"text-sm font-medium mb-1",children:"Overview"}),a.jsx("p",{className:`text-xs text-gray-300 ${b?"max-h-16":"max-h-20"} overflow-y-auto`,children:e.overview||"No overview available."})]})]}),a.jsxs("form",{onSubmit:M,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(he,{className:"text-sm font-medium block mb-2",children:"Watch Status"}),a.jsxs(ym,{value:c,onValueChange:u,className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"to_watch",id:"status-to-watch"}),a.jsxs(he,{htmlFor:"status-to-watch",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(Ba,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"To Watch"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Save for later"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"watching",id:"status-watching"}),a.jsxs(he,{htmlFor:"status-watching",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(lf,{className:"h-4 w-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Currently Watching"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Started but not finished"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"watched",id:"status-watched"}),a.jsxs(he,{htmlFor:"status-watched",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(af,{className:"h-4 w-4 text-[#E50914]"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Watched"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Already completed"})]})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(he,{htmlFor:"platform",className:"text-gray-300 mb-1 block",children:"Platform"}),a.jsxs(ca,{value:v?v.toString():"none",onValueChange:D=>g(D!=="none"?parseInt(D):null),children:[a.jsx(Go,{className:"w-full bg-gray-800 border-gray-700",children:a.jsx(ua,{placeholder:"Select platform (optional)"})}),a.jsxs(Qo,{className:"bg-gray-800 border-gray-700",children:[a.jsx("div",{className:"p-1 text-sm text-gray-400 border-b border-gray-700",children:S?"Loading platforms...":m.length===0?"No platforms added yet":"Your platforms"}),a.jsx(ot,{value:"none",children:"No platform"}),m.slice().sort((D,A)=>D.name.localeCompare(A.name)).map(D=>a.jsxs(ot,{value:D.id.toString(),children:[D.name," ",D.isDefault&&"(Default)"]},D.id))]})]})]}),c==="watched"&&a.jsxs("div",{className:"mb-4",children:[a.jsx(he,{htmlFor:"watch-date",className:"text-sm font-medium block mb-2",children:"When did you watch it?"}),a.jsxs("div",{className:"relative",children:[a.jsx(pw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(He,{type:"date",id:"watch-date",className:`w-full bg-gray-700 text-white rounded-lg pl-10 pr-3 py-3 focus:outline-none focus:ring-2 focus:ring-[#E50914] border-gray-600 ${b?"text-base":""}`,value:o,onChange:D=>s(D.target.value)})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx(he,{htmlFor:"watch-notes",className:"text-sm font-medium block mb-2",children:"Notes (optional)"}),a.jsx(gm,{id:"watch-notes",rows:3,className:`w-full bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#E50914] border-gray-600 ${b?"text-base":""}`,placeholder:`Add your thoughts about the ${C==="tv"?"show":"movie"}...`,value:i,onChange:D=>l(D.target.value)})]}),a.jsx(qa,{className:`${b?"flex-col space-y-2":"flex justify-end space-x-2"}`,children:b?a.jsxs(a.Fragment,{children:[a.jsx(ee,{type:"submit",className:"bg-[#E50914] text-white hover:bg-red-700 w-full py-3 text-base font-medium",disabled:h,children:h?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Adding"}),a.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}):c==="to_watch"?"Add to To Watch":c==="watching"?"Add to Currently Watching":"Add to Watched"}),a.jsx(ee,{type:"button",variant:"ghost",onClick:p,disabled:h,className:"w-full py-3 text-base",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ee,{type:"button",variant:"ghost",onClick:p,disabled:h,children:"Cancel"}),a.jsx(ee,{type:"submit",className:"bg-[#E50914] text-white hover:bg-red-700",disabled:h,children:h?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Adding"}),a.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}):c==="to_watch"?"Add to To Watch":c==="watching"?"Add to Currently Watching":"Add to Watched"})]})})]})]})})},Gb=({item:e,isOpen:t,onClose:n,onAddToWatchlist:r,showAddToWatchlistButton:o=!0})=>{const s=zs(),[i,l]=d.useState(""),[c,u]=d.useState("");if(d.useEffect(()=>{if(!e)return;const y=Xa(e);return(async()=>{try{if(y==="movie"){if(e.runtime){l(vo(e.runtime));return}const x=await Ts(e.id,"movie");x&&x.runtime&&l(vo(x.runtime))}else if(y==="tv"){if(e.number_of_seasons&&e.number_of_episodes){const b=e.number_of_seasons===1?"season":"seasons",E=e.number_of_episodes===1?"episode":"episodes";u(`${e.number_of_seasons} ${b}, ${e.number_of_episodes} ${E}`);return}const x=await Ts(e.id,"tv");if(x){const b=x.number_of_seasons||0,E=x.number_of_episodes||0;u(`${b} ${b===1?"season":"seasons"}, ${E} ${E===1?"episode":"episodes"}`)}}}catch(x){console.error(`Error fetching ${y} details:`,x)}})(),()=>{l(""),u("")}},[e]),!e)return null;const h=Jl(e),f=Xa(e),m=mm(e),w=Ja(e.poster_path,"w200"),v=Ja(e.backdrop_path,"w500"),g=e.vote_average?e.vote_average.toFixed(1):"N/A",S=()=>{r(e),n()};return a.jsx(ks,{open:t,onOpenChange:n,children:a.jsxs(mo,{className:`bg-[#292929] text-white border-gray-700 ${s?"max-w-[90vw] p-4":"sm:max-w-xl"}`,"aria-labelledby":"details-dialog-title","aria-describedby":"details-dialog-description",children:[a.jsxs(PS,{className:"absolute right-4 top-4 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600 p-1",children:[a.jsx(An,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),a.jsxs(po,{children:[a.jsx(go,{className:"text-lg sm:text-xl pr-6",id:"details-dialog-title",children:h}),a.jsx(vi,{className:"text-gray-300",id:"details-dialog-description",children:m})]}),a.jsxs("div",{className:"relative",children:[v&&a.jsxs("div",{className:"absolute inset-0 opacity-20 z-0",children:[a.jsx("img",{src:v,alt:`${h} backdrop`,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#292929] to-transparent"})]}),a.jsxs("div",{className:`flex flex-col ${s?"gap-3":"sm:flex-row gap-4"} relative z-10`,children:[a.jsx("div",{className:s?"w-full flex justify-center":"sm:w-1/3",children:a.jsx("img",{src:w||"https://via.placeholder.com/200x300?text=No+Image",alt:h,className:`rounded-lg ${s?"max-h-[200px] object-contain":"w-full object-cover"}`})}),a.jsxs("div",{className:`${s?"w-full":"sm:w-2/3"} space-y-3`,children:[a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(Nc,{className:"h-5 w-5 text-[#F5C518] fill-current mr-2"}),a.jsx("span",{className:"text-[#F5C518] font-bold",children:g}),a.jsx("span",{className:"mx-2",children:""}),a.jsx(gk,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"capitalize",children:f})]}),(i||c)&&a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[f==="movie"&&i&&a.jsxs(a.Fragment,{children:[a.jsx(Ba,{className:"h-4 w-4 mr-1 text-gray-400"}),a.jsx("span",{children:i})]}),f==="tv"&&c&&a.jsxs(a.Fragment,{children:[a.jsx(Cr,{className:"h-4 w-4 mr-1 text-gray-400"}),a.jsx("span",{children:c})]})]}),a.jsxs("div",{className:"text-sm prose-sm prose-invert",children:[a.jsx("h4",{className:"text-white mb-1 text-base font-medium",children:"Overview"}),a.jsx("p",{className:`text-gray-300 leading-relaxed ${s?"max-h-[150px] overflow-y-auto":""}`,children:e.overview||"No overview available."})]}),a.jsxs("div",{className:`flex ${s?"flex-col gap-3 mt-4":"flex-row gap-2 mt-2"}`,children:[o&&a.jsxs("button",{className:`bg-[#E50914] text-white ${s?"py-3":"py-2"} px-4 rounded-lg hover:bg-red-700 transition w-full flex items-center justify-center font-medium`,onClick:S,children:[a.jsx(Fh,{className:"h-5 w-5 mr-2"}),"Add to Watchlist"]}),a.jsxs("button",{type:"button",onClick:async y=>{y.preventDefault();const p=await pm(e.id,f,h);window.open(p,"_blank","noopener")},className:`bg-[#F5C518] text-black ${s?"py-3":"py-2"} px-4 rounded-lg hover:bg-yellow-400 transition flex items-center justify-center w-full font-medium`,children:[a.jsx(Va,{className:"h-5 w-5 mr-2"}),"View on IMDb"]})]})]})]})]})]})})},vI=()=>{var N;const[e,t]=d.useState(""),[n,r]=d.useState(""),[o,s]=d.useState("all"),[i,l]=d.useState(null),[c,u]=d.useState(!1),[h,f]=d.useState(!1),{currentUser:m}=Hc(),{toast:w}=Ht(),{data:v,isLoading:g,error:S}=Rh({queryKey:["/api/movies/search",n,o],queryFn:async()=>{try{const C=await pR(n,o);return C&&C.results&&(C.results=C.results.filter(k=>k&&typeof k=="object"&&k.id&&(k.title||k.name)).map(k=>({...k,media_type:k.media_type||(k.title?"movie":"tv"),vote_average:typeof k.vote_average=="number"?k.vote_average:k.vote_average?parseFloat(String(k.vote_average)):null,genre_ids:Array.isArray(k.genre_ids)?k.genre_ids:typeof k.genre_ids=="string"?k.genre_ids.split(",").map(_=>parseInt(_,10)).filter(_=>!isNaN(_)):[]}))),C}catch(C){return console.error("Search query error:",C),{page:1,results:[],total_results:0,total_pages:0}}},enabled:!!n,retry:1}),y=((N=v==null?void 0:v.results)==null?void 0:N.filter(C=>!C||typeof C!="object"?(console.warn("Invalid item in search results:",C),!1):!C.id||!C.title&&!C.name?(console.warn("Item missing required fields:",C),!1):o==="all"?!0:(C.media_type||(C.title?"movie":"tv"))===o))||[],p=C=>{C.preventDefault(),e.trim()&&r(e.trim())},x=C=>{if(!m){w({title:"No user selected",description:"Please select a user before adding to your watched list",variant:"destructive"});return}l(C),u(!0)},b=C=>{l(C),f(!0)},E=[{value:"all",label:"All",icon:uf},{value:"movie",label:"Movies",icon:br},{value:"tv",label:"TV Shows",icon:Cr}];return a.jsxs("div",{children:[a.jsx("div",{className:"max-w-2xl mx-auto text-center mt-6 mb-6 px-3",children:a.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"Search for movies and TV shows to get started"})}),a.jsx("div",{className:"max-w-2xl mx-auto mb-4 px-3",children:a.jsxs("form",{className:"relative",onSubmit:p,children:[a.jsx(He,{type:"text",placeholder:"Search for movies or TV shows...",className:"w-full bg-[#292929] text-white border border-gray-700 rounded-lg py-3 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-[#E50914]",value:e,onChange:C=>t(C.target.value),autoComplete:"off"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Er,{className:"h-5 w-5 text-gray-400"})}),a.jsxs(ee,{type:"submit",className:"absolute inset-y-0 right-0 flex items-center px-4 text-white bg-[#E50914] rounded-r-lg hover:bg-red-700 focus:outline-none",children:[a.jsx("span",{className:"hidden sm:inline",children:"Search"}),a.jsx(Er,{className:"h-5 w-5 sm:hidden"})]})]})}),a.jsx("div",{className:"hidden md:flex justify-center mb-6",children:a.jsx("div",{className:"inline-flex items-center rounded-lg bg-[#292929] p-1",children:E.map(C=>{const k=C.icon;return a.jsxs("button",{className:`flex items-center px-3 py-2 text-sm rounded-md transition ${o===C.value?"bg-[#E50914] text-white":"text-gray-300 hover:text-white"}`,onClick:()=>s(C.value),children:[a.jsx(k,{className:"h-4 w-4 mr-2"}),C.label]},C.value)})})}),a.jsx("div",{className:"md:hidden mb-4 px-3",children:a.jsx("div",{className:"grid grid-cols-3 gap-1 bg-[#292929] rounded-lg p-1 shadow-inner",children:E.map(C=>{const k=C.icon;return a.jsxs("button",{className:`flex items-center justify-center px-2 py-2.5 rounded-md text-sm transition ${o===C.value?"bg-[#3d3d3d] text-white font-medium shadow-sm":"text-gray-300 hover:bg-[#3d3d3d]/50"}`,onClick:()=>s(C.value),children:[a.jsx(k,{className:`h-4 w-4 mr-1.5 ${o===C.value?"text-[#E50914]":""}`}),a.jsx("span",{children:C.label})]},C.value)})})}),a.jsxs("div",{className:"mt-4 px-3",children:[a.jsx("h2",{className:`text-lg sm:text-xl font-bold mb-4 ${n?"":"hidden"}`,children:n&&`${(y==null?void 0:y.length)||0} Results for "${n}"`}),S?a.jsxs("div",{className:"text-center py-10 text-gray-400 flex flex-col items-center",children:[a.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 max-w-md mx-auto mb-4",children:[a.jsx("p",{className:"text-white font-medium mb-2",children:"Error loading search results"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Please try again or try a different search term."})]}),a.jsx(ee,{variant:"outline",className:"mt-2 bg-[#1a1a1a] hover:bg-[#3d3d3d] border-gray-700",onClick:()=>{e&&r(e)},children:"Try Again"})]}):g?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:[...Array(10)].map((C,k)=>a.jsx("div",{className:"rounded-lg overflow-hidden",children:a.jsx(Zt,{className:"w-full aspect-[2/3]"})},k))}):y&&y.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:y.map(C=>a.jsx(gR,{movie:C,onAddToWatchlist:x,onShowDetails:b},C.id))}):n?a.jsxs("div",{className:"text-center py-10 text-gray-400 flex flex-col items-center",children:[a.jsx(Er,{className:"h-10 w-10 mb-3 text-gray-600"}),a.jsx("p",{children:o==="all"?`No results found for "${n}"`:`No ${o==="movie"?"movies":"TV shows"} found for "${n}"`}),a.jsx("p",{className:"text-sm mt-2 max-w-md",children:"Try different keywords or check your spelling"})]}):a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"max-w-md mx-auto bg-[#292929] rounded-lg p-4",children:[a.jsx(br,{className:"h-8 w-8 mx-auto mb-3 text-[#E50914]"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Enter a movie or TV show title in the search box to begin exploring"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx(ee,{variant:"outline",className:"bg-[#1a1a1a] hover:bg-[#3d3d3d] border-gray-700",onClick:()=>{t("Marvel"),r("Marvel")},children:'Try "Marvel"'}),a.jsx(ee,{variant:"outline",className:"bg-[#1a1a1a] hover:bg-[#3d3d3d] border-gray-700",onClick:()=>{t("Star Wars"),r("Star Wars")},children:'Try "Star Wars"'}),a.jsx(ee,{variant:"outline",className:"bg-[#1a1a1a] hover:bg-[#3d3d3d] border-gray-700",onClick:()=>{t("Breaking Bad"),r("Breaking Bad")},children:'Try "Breaking Bad"'}),a.jsx(ee,{variant:"outline",className:"bg-[#1a1a1a] hover:bg-[#3d3d3d] border-gray-700",onClick:()=>{t("Stranger Things"),r("Stranger Things")},children:'Try "Stranger Things"'})]})]})})]}),a.jsx(gI,{item:i,isOpen:c,onClose:()=>u(!1)}),a.jsx(Gb,{item:i,isOpen:h,onClose:()=>f(!1),showAddToWatchlistButton:!0,onAddToWatchlist:x})]})},yI=({entry:e,onEdit:t,onDelete:n,onShowDetails:r})=>{const{movie:o,watchedDate:s,id:i,notes:l,platform:c,platformId:u}=e,h=zs(),[f,m]=d.useState(""),[w,v]=d.useState(!1),[g,S]=d.useState(""),[y,p]=d.useState(""),x=Ja(o.posterPath,"w200"),b=o.releaseDate?new Date(o.releaseDate).getFullYear().toString():"",E=o.genres||"",N=o.mediaType||"movie",C=c||u,k=s?ec(new Date(s),"MMMM d, yyyy"):"Not specified",_=o.voteAverage||"N/A",R=N==="tv"?Cr:br;return d.useEffect(()=>{(async()=>{v(!0);try{const M=await pm(o.tmdbId,N,o.title);m(M)}catch(M){console.error("Error fetching IMDb URL:",M),m(`https://www.imdb.com/find/?q=${encodeURIComponent(o.title)}&s=tt`)}finally{v(!1)}})()},[o.tmdbId,N,o.title]),d.useEffect(()=>{(async()=>{try{if(N==="movie"){if(o.runtime){S(vo(o.runtime));return}const M=await Ts(o.tmdbId,"movie");M&&M.runtime&&S(vo(M.runtime))}else if(N==="tv"){if(o.numberOfSeasons&&o.numberOfEpisodes){const D=o.numberOfSeasons===1?"season":"seasons",A=o.numberOfEpisodes===1?"episode":"episodes";p(`${o.numberOfSeasons} ${D}, ${o.numberOfEpisodes} ${A}`);return}const M=await Ts(o.tmdbId,"tv");if(M){const D=M.number_of_seasons||0,A=M.number_of_episodes||0;p(`${D} ${D===1?"season":"seasons"}, ${A} ${A===1?"episode":"episodes"}`)}}}catch(M){console.error(`Error fetching ${N} details:`,M)}})()},[o.tmdbId,N,o.runtime,o.numberOfSeasons,o.numberOfEpisodes]),a.jsxs("div",{className:`bg-[#292929] rounded-lg overflow-hidden ${h?"flex flex-col":"flex"}`,children:[a.jsxs("div",{className:`relative ${h?"w-full h-40":"h-full"}`,children:[a.jsx("img",{src:x||"https://via.placeholder.com/200x300?text=No+Image",alt:o.title,className:`${h?"w-full h-40 object-cover object-center":"w-24 md:w-28 object-cover h-full"}`,loading:"lazy"}),a.jsx("div",{className:`absolute top-2 right-2 ${N==="tv"?"bg-blue-600":"bg-[#E50914]"} text-white text-xs font-bold py-1 px-2 rounded-full`,children:N==="tv"?"TV":"Movie"})]}),a.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center max-w-[80%]",children:[a.jsx("h3",{className:"font-bold text-md truncate",children:o.title}),r&&a.jsx("button",{className:"ml-2 text-gray-400 hover:text-white flex-shrink-0",onClick:()=>r(e),"aria-label":"Show details",children:a.jsx(cf,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-[#F5C518] font-bold text-xs",children:_}),a.jsx("div",{className:"ml-1",children:a.jsx(Nc,{className:"h-3 w-3 text-[#F5C518] fill-current"})})]})]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-300 mt-1",children:[a.jsx(R,{className:"h-3 w-3 mr-1 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[b,N==="movie"&&g&&`  ${g}`,N==="tv"&&y&&`  ${y}`,E?`  ${E}`:""]})]}),C?a.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-300",children:[a.jsx(Hl,{className:"h-3 w-3 mr-1 flex-shrink-0"}),a.jsx("span",{className:"whitespace-nowrap",children:"Platform:"}),a.jsxs("span",{className:"text-green-400 ml-1 truncate",children:[c?c.name:"Unknown Platform",(c==null?void 0:c.isDefault)&&a.jsx("span",{className:"ml-1 text-gray-400",children:"(Default)"})]})]}):a.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-300",children:[a.jsx(Hl,{className:"h-3 w-3 mr-1 flex-shrink-0"}),a.jsx("span",{className:"whitespace-nowrap",children:"Platform:"}),a.jsx("span",{className:"text-gray-400 ml-1 truncate",children:"None"})]}),a.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-300",children:[a.jsx(pw,{className:"h-3 w-3 mr-1 flex-shrink-0"}),a.jsx("span",{className:"whitespace-nowrap",children:"Watched on:"}),a.jsx("span",{className:"text-[#44C8E8] ml-1 truncate",children:k})]}),l&&a.jsxs("div",{className:"mt-2 text-xs text-gray-300 italic line-clamp-2",children:['"',l,'"']}),h?a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[a.jsxs("a",{href:f||`https://www.imdb.com/find/?q=${encodeURIComponent(o.title)}&s=tt`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center bg-[#F5C518] text-black py-2 px-3 rounded-lg","aria-label":"View on IMDb",children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-xs font-medium",children:"IMDb"})]}),a.jsxs("button",{className:"flex items-center justify-center bg-gray-700 text-white py-2 px-3 rounded-lg",onClick:()=>t(e),"aria-label":"Edit entry",children:[a.jsx(df,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-xs font-medium",children:"Edit"})]}),a.jsxs("button",{className:"flex items-center justify-center bg-[#E50914] text-white py-2 px-3 rounded-lg",onClick:()=>n(i),"aria-label":"Delete entry",children:[a.jsx(ff,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]}):a.jsxs("div",{className:"mt-auto pt-2 flex justify-end items-center",children:[a.jsx("a",{href:f||`https://www.imdb.com/find/?q=${encodeURIComponent(o.title)}&s=tt`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#F5C518] hover:text-yellow-400 mr-3","aria-label":"View on IMDb",children:a.jsx(Va,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-xs text-gray-300 hover:text-white mr-3",onClick:()=>t(e),"aria-label":"Edit entry",children:a.jsx(df,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-xs text-gray-300 hover:text-[#E50914]",onClick:()=>n(i),"aria-label":"Delete entry",children:a.jsx(ff,{className:"h-4 w-4"})})]})]})]})},xI=Ds("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),nc=d.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:G(xI({variant:t}),e),...n}));nc.displayName="Alert";const kf=d.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:G("mb-1 font-medium leading-none tracking-tight",e),...t}));kf.displayName="AlertTitle";const rc=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:G("text-sm [&_p]:leading-relaxed",e),...t}));rc.displayName="AlertDescription";const wI=Ds("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...n}){return a.jsx("div",{className:G(wI({variant:t}),e),...n})}const SI=()=>{var km;const{currentUser:e}=Hc(),[t,n]=d.useState("all"),[r,o]=d.useState("all"),[s,i]=d.useState("all"),[l,c]=d.useState("all"),[u,h]=d.useState("date_desc"),[f,m]=d.useState(""),[w,v]=d.useState(!1),[g,S]=d.useState(null),[y,p]=d.useState(!1),[x,b]=d.useState(null),[E,N]=d.useState(""),[C,k]=d.useState(""),[_,R]=d.useState("watched"),[$,M]=d.useState(null),[D,A]=d.useState([]),[H,F]=d.useState(!1),[Q,P]=d.useState(!1),[T,O]=d.useState(!1),[B,X]=d.useState(null),[Ne,J]=d.useState(!1),ye=d.useRef(null),{toast:ie}=Ht();d.useEffect(()=>{if(typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent))return;const I=W=>{(W.ctrlKey||W.metaKey)&&W.key==="f"&&(W.preventDefault(),ye.current&&ye.current.focus()),W.key==="Escape"&&document.activeElement===ye.current&&f&&(W.preventDefault(),m(""))};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[f]);const V=typeof navigator<"u"&&/iPhone|iPad|iPod/i.test(navigator.userAgent)&&/AppleWebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent),[se,de]=d.useState(!1);d.useEffect(()=>{const I=()=>{console.log("[PLATFORM] Received openPlatformManagement event"),P(!0)};return window.addEventListener("openPlatformManagement",I),()=>{window.removeEventListener("openPlatformManagement",I)}},[]),d.useEffect(()=>{e&&En(e.id)},[e]),d.useEffect(()=>{if(V&&e&&!se){const I=setTimeout(()=>{de(!0);try{const W=localStorage.getItem("jwt_token");W&&(sessionStorage.setItem("jwt_token",W),sessionStorage.setItem("movietracker_token_backup",W),document.cookie=`jwt_token_backup=${W}; path=/; max-age=3600; SameSite=Strict`,console.log("[MOBILE] Created token backups for iOS Safari compatibility"))}catch(W){console.error("[MOBILE] Error creating token backups:",W)}we.invalidateQueries({queryKey:[`/api/watchlist/${e.id}`]}),console.log("[MOBILE] Triggering auto-refresh for iOS Safari compatibility")},1e3);return()=>clearTimeout(I)}},[e,V,se]);const{data:Z,isLoading:fe,refetch:pe}=Rh({queryKey:e?[`/api/watchlist/${e.id}`]:[],enabled:!!e,queryFn:async({queryKey:I})=>{if(!e)return[];try{console.log(`Fetching watchlist for user ${e.username} (ID: ${e.id})`);let W=localStorage.getItem("jwt_token");if(!W&&(W=localStorage.getItem("movietracker_token_backup"),!W&&(W=sessionStorage.getItem("jwt_token")||sessionStorage.getItem("movietracker_token_backup"),!W))){const Xc=document.cookie.split(";");for(const k1 of Xc){const[T1,Tm]=k1.trim().split("=");if(T1==="jwt_token_backup"&&Tm){W=Tm;break}}}const oe={"X-User-ID":e.id.toString(),"X-Username":e.username,"X-Request-Timestamp":Date.now().toString(),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"};W&&W.split(".").length===3?(console.log("[WATCHLIST] Including JWT token in watchlist fetch request"),oe.Authorization=`Bearer ${W}`,localStorage.setItem("jwt_token",W)):console.warn("[WATCHLIST] No valid JWT token found for watchlist fetch");const Me=await fetch(`/api/watchlist/${e.id}`,{headers:oe,cache:"no-store",credentials:"include"}),Po=Me.headers.get("X-Recovery-Method"),N1=Me.headers.get("X-Recovery-Status");if(Po&&console.log(`Server used recovery method: ${Po}`),N1==="failed"&&console.warn("Server recovery failed, using client-side backup if available"),!Me.ok)throw new Error(`Failed to fetch watchlist: ${Me.status}`);const Lr=await Me.json();if(Lr&&Array.isArray(Lr)&&Lr.length>0){console.log(`Backing up ${Lr.length} watchlist entries locally`);try{sessionStorage.setItem("watchlist_backup",JSON.stringify({userId:e.id,username:e.username,timestamp:Date.now(),entries:Lr})),window.__watchlistBackup={userId:e.id,entries:Lr,timestamp:Date.now()}}catch(Xc){console.error("Error backing up watchlist data:",Xc)}}return Lr}catch(W){console.error("Error fetching watchlist:",W);try{if(window.__watchlistBackup&&window.__watchlistBackup.userId===e.id)return console.log("Using in-memory watchlist backup"),window.__watchlistBackup.entries;const oe=sessionStorage.getItem("watchlist_backup");if(oe){const Me=JSON.parse(oe);if(Me&&Me.userId===e.id&&Array.isArray(Me.entries))return console.log(`Using session storage backup from ${new Date(Me.timestamp).toLocaleString()}`),Me.entries}}catch(oe){console.error("Error using backup watchlist:",oe)}return console.log("No valid backup found, returning empty watchlist"),[]}},refetchOnWindowFocus:!0,staleTime:5*60*1e3}),Ue=()=>{if(!Z)return[];let I=Z;if(s!=="all"&&(I=I.filter(W=>W.movie.mediaType===s)),l!=="all"&&(I=I.filter(W=>W.status===l)),t&&t!=="all"&&(I=I.filter(W=>{var oe;return(oe=W.movie.genres)==null?void 0:oe.includes(t)})),r&&r!=="all")if(r==="none")I=I.filter(W=>!W.platformId);else{const W=parseInt(r);I=I.filter(oe=>oe.platformId===W)}if(f.trim()){const W=f.toLowerCase().trim();I=I.filter(oe=>oe.movie.title.toLowerCase().includes(W)||oe.movie.overview&&oe.movie.overview.toLowerCase().includes(W)||oe.notes&&oe.notes.toLowerCase().includes(W))}return[...I].sort((W,oe)=>{switch(u){case"date_desc":return new Date(oe.watchedDate||0).getTime()-new Date(W.watchedDate||0).getTime();case"date_asc":return new Date(W.watchedDate||0).getTime()-new Date(oe.watchedDate||0).getTime();case"title_asc":return W.movie.title.localeCompare(oe.movie.title);case"title_desc":return oe.movie.title.localeCompare(W.movie.title);case"rating_desc":return parseFloat(oe.movie.voteAverage||"0")-parseFloat(W.movie.voteAverage||"0");default:return 0}})},Rt=I=>{b(I),N(I.watchedDate?ec(new Date(I.watchedDate),"yyyy-MM-dd"):""),k(I.notes||""),R(I.status||"watched"),e!=null&&e.id&&(M(I.platformId||null),En(e.id).then(W=>{if(!I.platformId&&W.length>0){const oe=W.find(Me=>Me.isDefault===!0);oe&&M(oe.id)}})),p(!0)},En=async I=>{if(H)return[];F(!0);try{const W=await nt("GET",`/api/platforms/${I}`);if(W.ok){const oe=await W.json();if(A(oe),$===null){const Me=oe.find(Po=>Po.isDefault===!0);Me&&M(Me.id)}return oe}else return console.error("Failed to fetch platforms:",W.status),[]}catch(W){return console.error("Error fetching platforms:",W),[]}finally{F(!1)}},Dr=I=>{X(I),J(!0)},Or=async()=>{var I;if(x){O(!0);try{await nt("PUT",`/api/watchlist/${x.id}`,{watchedDate:_==="watched"&&E||null,notes:C||null,status:_,platformId:$,userId:e==null?void 0:e.id});const W=_==="to_watch"?"to watch list":_==="watching"?"currently watching list":"watched list",oe=$?(I=D.find(Po=>Po.id===$))==null?void 0:I.name:null,Me=oe?` on ${oe}`:"";ie({title:"Entry updated",description:`${x.movie.title} has been updated in your ${W}${Me}`}),e&&we.invalidateQueries({queryKey:[`/api/watchlist/${e.id}`]}),p(!1)}catch(W){console.error("Error updating watchlist entry:",W),ie({title:"Failed to update entry",description:"There was an error updating your watchlist entry",variant:"destructive"})}finally{O(!1)}}},Jc=I=>{S(I),v(!0)},ko=async()=>{if(!(!g||!e))try{const I=e.id;console.log(`[WATCHLIST] Deleting entry ${g} for user ${I}`),await nt("DELETE",`/api/watchlist/${g}?userId=${I}`,void 0,{headers:{"X-User-ID":I.toString(),"X-Username":e.username}}),ie({title:"Entry removed",description:"The item has been removed from your watched list"}),we.invalidateQueries({queryKey:[`/api/watchlist/${I}`]})}catch(I){console.error("Error deleting watchlist entry:",I),ie({title:"Failed to remove entry",description:"There was an error removing the item from your watchlist",variant:"destructive"})}finally{v(!1),S(null)}},b1=()=>{if(!Z)return[];const I=new Set;return Z.forEach(W=>{(W.movie.genres||"").split(",").forEach(Me=>{Me.trim()&&I.add(Me.trim())})}),Array.from(I).sort()},E1=()=>{if(!Z)return{total:0,movies:0,tv:0};const I=Z.filter(oe=>oe.movie.mediaType==="movie").length,W=Z.filter(oe=>oe.movie.mediaType==="tv").length;return{total:Z.length,movies:I,tv:W}},C1=b1(),To=E1(),jm=[{value:"all",label:"All",icon:uf},{value:"movie",label:"Movies",icon:br},{value:"tv",label:"TV Shows",icon:Cr}],Nm=[{value:"all",label:"All",icon:uf},{value:"to_watch",label:"To Watch",icon:Ba},{value:"watching",label:"Watching",icon:lf},{value:"watched",label:"Watched",icon:af}],j1=I=>({id:I.movie.tmdbId,title:I.movie.title,overview:I.movie.overview||"",poster_path:I.movie.posterPath||"",backdrop_path:I.movie.backdropPath||"",release_date:I.movie.releaseDate||"",vote_average:parseFloat(I.movie.voteAverage||"0"),genre_ids:[],media_type:I.movie.mediaType});return e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[a.jsxs("div",{className:"flex flex-row items-center flex-wrap mb-2 md:mb-0",children:[a.jsxs("h2",{className:"text-xl font-bold font-heading flex items-center",children:["Watchlist",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",To.total," ",To.total===1?"item":"items",")"]})]}),a.jsxs("div",{className:"flex space-x-2 items-center ml-3",children:[a.jsxs(It,{variant:"outline",className:"flex items-center",children:[a.jsx(br,{className:"h-3 w-3 mr-1"}),To.movies," ",To.movies===1?"Movie":"Movies"]}),a.jsxs(It,{variant:"outline",className:"flex items-center",children:[a.jsx(Cr,{className:"h-3 w-3 mr-1"}),To.tv," ",To.tv===1?"TV Show":"TV Shows"]})]})]}),a.jsx("div",{children:V&&a.jsx("button",{onClick:()=>{we.invalidateQueries({queryKey:[`/api/watchlist/${e.id}`]}),ie({title:"Refreshing watchlist",description:"Loading the latest data..."})},className:"ml-2 p-1 rounded-full hover:bg-gray-700","aria-label":"Refresh watchlist",children:a.jsx(fg,{className:"h-4 w-4 text-gray-400"})})})]}),a.jsx("div",{className:"hidden md:flex justify-center mb-4",children:a.jsx("div",{className:"inline-flex items-center rounded-lg bg-[#292929] p-1 mb-3",children:Nm.map(I=>{const W=I.icon;return a.jsxs("button",{className:`flex items-center px-3 py-2 text-sm rounded-md transition ${l===I.value?"bg-[#E50914] text-white":"text-gray-300 hover:text-white"}`,onClick:()=>c(I.value),children:[a.jsx(W,{className:"h-4 w-4 mr-2"}),I.label]},I.value)})})}),a.jsx("div",{className:"hidden md:flex justify-center mb-4",children:a.jsx("div",{className:"inline-flex items-center rounded-lg bg-[#292929] p-1",children:jm.map(I=>{const W=I.icon;return a.jsxs("button",{className:`flex items-center px-3 py-2 text-sm rounded-md transition ${s===I.value?"bg-[#E50914] text-white":"text-gray-300 hover:text-white"}`,onClick:()=>i(I.value),children:[a.jsx(W,{className:"h-4 w-4 mr-2"}),I.label]},I.value)})})}),a.jsx("div",{className:"md:hidden mb-4 px-3",children:a.jsx("div",{className:"overflow-x-auto pb-2",children:a.jsx("div",{className:"inline-flex items-center rounded-lg bg-[#292929] p-1 shadow-inner space-x-1 min-w-[350px]",children:Nm.map(I=>{const W=I.icon;return a.jsxs("button",{className:`flex items-center justify-center px-3 py-2.5 rounded-md text-sm transition ${l===I.value?"bg-[#3d3d3d] text-white font-medium shadow-sm":"text-gray-300 hover:bg-[#3d3d3d]/50"}`,onClick:()=>c(I.value),children:[a.jsx(W,{className:`h-4 w-4 mr-1.5 ${l===I.value?"text-[#E50914]":""}`}),a.jsx("span",{children:I.label})]},I.value)})})})}),a.jsx("div",{className:"md:hidden mb-4 px-3",children:a.jsx("div",{className:"grid grid-cols-3 gap-1 bg-[#292929] rounded-lg p-1 shadow-inner",children:jm.map(I=>{const W=I.icon;return a.jsxs("button",{className:`flex items-center justify-center px-2 py-2.5 rounded-md text-sm transition ${s===I.value?"bg-[#3d3d3d] text-white font-medium shadow-sm":"text-gray-300 hover:bg-[#3d3d3d]/50"}`,onClick:()=>i(I.value),children:[a.jsx(W,{className:`h-4 w-4 mr-1.5 ${s===I.value?"text-[#E50914]":""}`}),a.jsx("span",{children:I.label})]},I.value)})})}),a.jsx("div",{className:"mb-3 px-3",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:a.jsx(Er,{className:"h-4 w-4 text-gray-400"})}),a.jsx(He,{ref:ye,type:"search",placeholder:"Search your watchlist...",value:f,onChange:I=>m(I.target.value),className:"bg-[#292929] border-gray-700 ps-10 pe-10 focus:ring-[#E50914] focus:border-[#E50914] h-11 rounded-lg",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),f&&a.jsx("button",{type:"button",onClick:()=>m(""),className:"absolute inset-y-0 end-0 flex items-center pe-3","aria-label":"Clear search",children:a.jsx("div",{className:"bg-gray-700 rounded-full p-1.5",children:a.jsx(An,{className:"h-3 w-3 text-gray-300"})})})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-2 px-3",children:[a.jsxs(ca,{value:t,onValueChange:n,children:[a.jsx(Go,{className:"bg-[#292929] text-white border-gray-700 focus:ring-[#E50914] h-10",children:a.jsx(ua,{placeholder:"All Genres"})}),a.jsxs(Qo,{className:"bg-[#292929] text-white border-gray-700 max-h-[50vh]",children:[a.jsx(ot,{value:"all",className:"py-2.5",children:"All Genres"}),C1.map(I=>a.jsx(ot,{value:I,className:"py-2.5",children:I},I))]})]}),a.jsxs(ca,{value:r,onValueChange:o,children:[a.jsx(Go,{className:"bg-[#292929] text-white border-gray-700 focus:ring-[#E50914] h-10",children:a.jsx(ua,{placeholder:"All Platforms"})}),a.jsxs(Qo,{className:"bg-[#292929] text-white border-gray-700 max-h-[50vh]",children:[a.jsx(ot,{value:"all",className:"py-2.5",children:"All Platforms"}),a.jsx(ot,{value:"none",className:"py-2.5",children:"No Platform"}),D.sort((I,W)=>I.name.localeCompare(W.name)).map(I=>a.jsxs(ot,{value:I.id.toString(),className:"py-2.5",children:[I.name,I.isDefault&&a.jsx("span",{className:"ml-2 text-xs text-green-500",children:"(Default)"})]},I.id))]})]}),a.jsxs(ca,{value:u,onValueChange:h,children:[a.jsx(Go,{className:"bg-[#292929] text-white border-gray-700 focus:ring-[#E50914] h-10",children:a.jsx(ua,{placeholder:"Sort By"})}),a.jsxs(Qo,{className:"bg-[#292929] text-white border-gray-700",children:[a.jsx(ot,{value:"date_desc",className:"py-2.5",children:"Recently Watched"}),a.jsx(ot,{value:"date_asc",className:"py-2.5",children:"Oldest First"}),a.jsx(ot,{value:"title_asc",className:"py-2.5",children:"Title (A-Z)"}),a.jsx(ot,{value:"title_desc",className:"py-2.5",children:"Title (Z-A)"}),a.jsx(ot,{value:"rating_desc",className:"py-2.5",children:"Rating (High-Low)"})]})]})]})]}),fe?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-3",children:[...Array(6)].map((I,W)=>a.jsxs("div",{className:"bg-[#292929] rounded-lg overflow-hidden flex shadow",children:[a.jsx(Zt,{className:"w-24 md:w-28 h-auto"}),a.jsxs("div",{className:"p-3 flex-grow",children:[a.jsx(Zt,{className:"h-6 w-3/4 mb-2"}),a.jsx(Zt,{className:"h-4 w-1/2 mb-4"}),a.jsx(Zt,{className:"h-4 w-2/3"})]})]},W))}):Z&&Z.length>0?a.jsxs(a.Fragment,{children:[f.trim()&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800/50 mb-3 mx-3 rounded-md",children:[a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(Er,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{children:['Search results for "',a.jsx("span",{className:"text-white font-medium",children:f}),'"']})]}),a.jsxs(It,{variant:"secondary",className:"h-6 bg-gray-700",children:[Ue().length," ",Ue().length===1?"result":"results"]})]}),Ue().length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-3",children:Ue().map(I=>a.jsx(yI,{entry:I,onEdit:Rt,onDelete:Jc,onShowDetails:Dr},I.id))}):a.jsx("div",{className:"text-center py-10 px-5 mx-auto max-w-md",children:a.jsxs("div",{className:"bg-[#292929]/50 rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-gray-400 mb-4 flex justify-center",children:a.jsx(Er,{className:"h-12 w-12 opacity-50"})}),a.jsx("p",{className:"text-gray-300 font-medium text-lg",children:"No matches found"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1 mb-4",children:"Try adjusting your search or filters to find what you're looking for"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ee,{variant:"outline",onClick:()=>m(""),className:"w-full py-2.5 h-12 text-base border-gray-600",disabled:!f,children:[a.jsx(An,{className:"h-4 w-4 mr-2"}),"Clear search"]}),a.jsxs(ee,{variant:"outline",onClick:()=>{m(""),n("all"),o("all"),i("all")},className:"w-full py-2.5 h-12 text-base bg-gray-800 border-gray-600",children:[a.jsx(fg,{className:"h-4 w-4 mr-2"}),"Reset all filters"]})]})]})})]}):a.jsx("div",{className:"text-center py-10 px-5 mx-auto max-w-md",children:a.jsxs("div",{className:"bg-[#292929]/50 rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-gray-400 mb-4 flex justify-center",children:s==="all"?a.jsx(pk,{className:"h-12 w-12 opacity-50"}):s==="movie"?a.jsx(br,{className:"h-12 w-12 opacity-50"}):a.jsx(Cr,{className:"h-12 w-12 opacity-50"})}),a.jsx("p",{className:"text-gray-300 font-medium",children:s==="all"?"Your watchlist is empty":`No ${s==="movie"?"movies":"TV shows"} in your watchlist`}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:s==="all"?"Search for movies and TV shows to add to your watchlist.":`Switch to the Search tab to add some ${s==="movie"?"movies":"TV shows"}.`})]})}),a.jsx(ks,{open:w,onOpenChange:v,children:a.jsxs(mo,{className:"bg-[#292929] text-white border-gray-700 max-w-[90vw] sm:max-w-md",children:[a.jsx(po,{children:a.jsx(go,{className:"text-lg font-semibold",children:"Confirm Removal"})}),a.jsx("div",{className:"py-4 text-center sm:text-left",children:a.jsx("p",{className:"text-gray-200",children:"Are you sure you want to remove this item from your watchlist?"})}),a.jsxs(qa,{className:"flex flex-col sm:flex-row gap-2 sm:justify-end mt-2",children:[a.jsx(ee,{variant:"outline",onClick:()=>v(!1),className:"w-full sm:w-auto py-2 h-12 sm:h-10 text-base sm:text-sm border-gray-600",children:"Cancel"}),a.jsx(ee,{variant:"destructive",onClick:ko,className:"w-full sm:w-auto py-2 h-12 sm:h-10 text-base sm:text-sm",children:"Remove"})]})]})}),a.jsx(ks,{open:y,onOpenChange:I=>!T&&p(I),children:a.jsxs(mo,{className:"bg-[#292929] text-white border-gray-700 p-4 pb-6",children:[a.jsxs("button",{className:"absolute right-4 top-4 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600 p-1",onClick:()=>p(!1),children:[a.jsx(An,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),a.jsxs(po,{children:[a.jsx(go,{className:"text-lg font-semibold pr-6",children:_==="to_watch"?"Edit To Watch":_==="watching"?"Edit Currently Watching":"Edit Watched"}),x&&a.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-1",children:x.movie.title})]}),x&&a.jsxs("form",{onSubmit:I=>{I.preventDefault(),Or()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(he,{className:"text-sm font-medium block mb-2",children:"Watch Status"}),a.jsxs(ym,{value:_,onValueChange:R,className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"to_watch",id:"edit-status-to-watch"}),a.jsxs(he,{htmlFor:"edit-status-to-watch",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(Ba,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"To Watch"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Save for later"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"watching",id:"edit-status-watching"}),a.jsxs(he,{htmlFor:"edit-status-watching",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(lf,{className:"h-4 w-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Currently Watching"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Started but not finished"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition cursor-pointer",children:[a.jsx(no,{value:"watched",id:"edit-status-watched"}),a.jsxs(he,{htmlFor:"edit-status-watched",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(af,{className:"h-4 w-4 text-[#E50914]"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Watched"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Already completed"})]})]})]})]})]}),_==="watched"&&a.jsxs("div",{className:"mb-4",children:[a.jsx(he,{htmlFor:"edit-watch-date",className:"text-sm font-medium mb-2 block",children:"When did you watch it?"}),a.jsx(He,{type:"date",id:"edit-watch-date",className:"w-full bg-gray-700 text-white rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-[#E50914] border-gray-600 h-12 text-base sm:text-sm",value:E,onChange:I=>N(I.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(he,{htmlFor:"edit-platform",className:"text-sm font-medium",children:"Platform (optional)"}),a.jsxs(ee,{variant:"ghost",size:"sm",type:"button",onClick:I=>{I.preventDefault(),window.dispatchEvent(new CustomEvent("openPlatformManagement"))},className:"text-xs h-7 px-2 py-0 bg-gray-800 hover:bg-gray-700 text-gray-200",children:[a.jsx(Fh,{className:"h-3 w-3 mr-1"}),"Manage Platforms"]})]}),a.jsxs(ca,{value:$?$.toString():"none",onValueChange:I=>M(I!=="none"?parseInt(I):null),children:[a.jsx(Go,{className:"w-full bg-gray-700 text-white border-gray-600 focus:ring-[#E50914] h-12",children:a.jsx(ua,{placeholder:"Where did you watch it?"})}),a.jsxs(Qo,{className:"bg-gray-800 border-gray-700",children:[a.jsx(ot,{value:"none",children:"No platform"}),D.slice().sort((I,W)=>I.name.localeCompare(W.name)).map(I=>a.jsx(ot,{value:I.id.toString(),children:a.jsxs("div",{className:"flex items-center",children:[I.name,I.isDefault&&a.jsx("span",{className:"ml-2 bg-green-700 text-white text-xs px-1.5 py-0.5 rounded-full",children:"Default"})]})},I.id))]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex items-center",children:[a.jsx("span",{children:"Want to add a new platform? "}),a.jsx("button",{type:"button",onClick:()=>{p(!1),typeof window<"u"&&window.dispatchEvent(new CustomEvent("openPlatformManagement"))},className:"ml-1 text-blue-400 hover:text-blue-300 underline",children:"Manage platforms"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx(he,{htmlFor:"edit-watch-notes",className:"text-sm font-medium mb-2 block",children:"Notes (optional)"}),a.jsx(gm,{id:"edit-watch-notes",rows:4,className:"w-full bg-gray-700 text-white rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-[#E50914] border-gray-600",placeholder:`Add your thoughts about the ${((km=x==null?void 0:x.movie)==null?void 0:km.mediaType)==="tv"?"show":"movie"}...`,value:C,onChange:I=>k(I.target.value)})]}),a.jsxs(qa,{className:"flex flex-col sm:flex-row gap-2 sm:justify-end",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:T,className:"w-full sm:w-auto py-2 h-12 sm:h-10 text-base sm:text-sm",children:"Cancel"}),a.jsx(ee,{type:"submit",className:"bg-[#E50914] text-white hover:bg-red-700 w-full sm:w-auto py-2 h-12 sm:h-10 text-base sm:text-sm",disabled:T,children:T?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Updating"}),a.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}):_==="to_watch"?"Update To Watch":_==="watching"?"Update Currently Watching":"Update Watched"})]})]})]})}),B&&a.jsx(Gb,{item:j1(B),isOpen:Ne,onClose:()=>J(!1),showAddToWatchlistButton:!1,onAddToWatchlist:()=>{ie({title:"Already in watched list",description:"This item is already in your watched list"})}}),e&&a.jsx(HS,{isOpen:Q,onClose:()=>P(!1),onPlatformsUpdated:()=>{e&&(En(e.id),we.invalidateQueries({queryKey:[`/api/watchlist/${e.id}`]}))}})]}):a.jsxs(nc,{className:"bg-[#292929] text-white border-yellow-600",children:[a.jsx(gw,{className:"h-4 w-4 text-yellow-600"}),a.jsx(rc,{children:"Please select a user to view your watched items"})]})};function bI(){const[e,t]=d.useState("login"),{user:n}=Ws(),[,r]=Co();d.useEffect(()=>{(async()=>{const{isProductionEnvironment:u,getEnvironmentName:h,clearAllClientSideStorage:f}=await Uh(async()=>{const{isProductionEnvironment:E,getEnvironmentName:N,clearAllClientSideStorage:C}=await Promise.resolve().then(()=>fm);return{isProductionEnvironment:E,getEnvironmentName:N,clearAllClientSideStorage:C}},void 0),m=new URLSearchParams(window.location.search),w=m.get("preload")==="true",v=m.get("fromLogout")==="true",g=m.get("force")==="true",S=m.get("clear")==="true",y=m.get("hard")==="true",p=u();console.log(`Auth page loaded in ${h()} environment`),console.log("URL flags:",{isPreload:w,fromLogout:v,forceFlag:g,clearFlag:S,hardFlag:y});let x=!1;try{x=localStorage.getItem("jusT_logged_out")==="true"||sessionStorage.getItem("jusT_logged_out")==="true",localStorage.removeItem("jusT_logged_out"),sessionStorage.removeItem("jusT_logged_out"),x&&console.log("Detected recent logout - will forcibly clear state")}catch(E){console.error("Error checking logout flag:",E)}if(w){console.log("Auth page preloaded for faster logout transition");return}if(!p||(p||y||S||v||g||x)){console.log(`Clearing client-side state in ${h()} environment`),f();try{localStorage.removeItem("jwt_token"),sessionStorage.removeItem("jwt_token"),document.cookie="jwt_token=; path=/; max-age=0",document.cookie="watchlist.sid=; path=/; max-age=0",localStorage.removeItem("auth_backup"),sessionStorage.removeItem("auth_backup");for(let E=0;E<localStorage.length;E++){const N=localStorage.key(E);N&&(N.includes("token")||N.includes("user")||N.includes("auth"))&&localStorage.removeItem(N)}if(window.__authBackup)try{delete window.__authBackup}catch{window.__authBackup=null}}catch(E){console.error("Error clearing auth state:",E)}if((p||y||x)&&!w){console.log("Making additional logout request from auth page");try{fetch("/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store",Pragma:"no-cache"},cache:"no-store"}).catch(()=>{})}catch(E){console.error("Error during additional logout:",E)}}}})()},[]),d.useEffect(()=>{if(new URLSearchParams(window.location.search).get("reload")==="true"){const h=new URL(window.location.href);if(h.searchParams.delete("reload"),window.history.replaceState({},"",h.toString()),window.location.hostname.includes("replit.app")){console.log("Production environment detected, applying special cookie clearing...");const f=document.cookie.split(";");for(let m=0;m<f.length;m++){const w=f[m],v=w.indexOf("="),g=v>-1?w.substr(0,v):w;document.cookie=g+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}}}},[]),d.useEffect(()=>{const c=new URLSearchParams(window.location.search),u=c.get("preload")==="true",h=c.get("force")==="true";n&&!u&&!h&&(console.log("User still logged in, redirecting to home"),r("/"))},[n,r]);const o=c=>{},s=()=>{t("register")},i=()=>{t("login")},l=()=>{t("passwordReset")};return a.jsxs("div",{className:"w-full min-h-screen flex flex-col md:flex-row",children:[a.jsx("div",{className:"md:w-1/2 p-6 md:p-10 flex items-center justify-center",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:e==="login"?"Welcome Back":e==="register"?"Create Account":"Reset Password"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:e==="login"?"Sign in to access your personalized movie watchlist":e==="register"?"Join to start tracking movies and shows you love":"Enter your details to reset your password"})]}),e==="login"&&a.jsx(AS,{onLoginSuccess:o,onSwitchToRegister:s,onForgotPassword:l}),e==="register"&&a.jsx(DS,{onRegisterSuccess:o,onSwitchToLogin:i}),e==="passwordReset"&&a.jsx(OS,{onBack:i}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Having trouble logging in?"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"If you're experiencing login issues, try resetting your password or clearing your browser cache."})]})]})}),a.jsx("div",{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-primary/90 to-primary/50 p-10 flex-col justify-center",children:a.jsxs("div",{className:"max-w-lg",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Discover and Track Your Favorite Movies"}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"h-6 w-6 text-white mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-white",children:"Create your personalized watchlist"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"h-6 w-6 text-white mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-white",children:"Track movies you've watched, are watching, or want to watch"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"h-6 w-6 text-white mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-white",children:"Search over 500,000 movies and TV shows"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"h-6 w-6 text-white mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-white",children:"Keep your watchlist private and secure"})]})]})]})})]})}var Qc="Tabs",[EI,rA]=_t(Qc,[Us]),Qb=Us(),[CI,wm]=EI(Qc),Yb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ls(l),[f,m]=Wn({prop:r,onChange:o,defaultProp:s??"",caller:Qc});return a.jsx(CI,{scope:n,baseId:vn(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:a.jsx(Y.div,{dir:h,"data-orientation":i,...u,ref:t})})});Yb.displayName=Qc;var qb="TabsList",Jb=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=wm(qb,n),i=Qb(n);return a.jsx(Xh,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Y.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Jb.displayName=qb;var Xb="TabsTrigger",Zb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,i=wm(Xb,n),l=Qb(n),c=n1(i.baseId,r),u=r1(i.baseId,r),h=r===i.value;return a.jsx(Zh,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(Y.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...s,ref:t,onMouseDown:U(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:U(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:U(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!o&&f&&i.onValueChange(r)})})})});Zb.displayName=Xb;var e1="TabsContent",t1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...i}=e,l=wm(e1,n),c=n1(l.baseId,r),u=r1(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(dt,{present:o||h,children:({present:m})=>a.jsx(Y.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});t1.displayName=e1;function n1(e,t){return`${e}-trigger-${t}`}function r1(e,t){return`${e}-content-${t}`}var jI=Yb,o1=Jb,s1=Zb,a1=t1;const NI=jI,i1=d.forwardRef(({className:e,...t},n)=>a.jsx(o1,{ref:n,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));i1.displayName=o1.displayName;const da=d.forwardRef(({className:e,...t},n)=>a.jsx(s1,{ref:n,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));da.displayName=s1.displayName;const fa=d.forwardRef(({className:e,...t},n)=>a.jsx(a1,{ref:n,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fa.displayName=a1.displayName;const ha=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:G("w-full caption-bottom text-sm",e),...t})}));ha.displayName="Table";const ma=d.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:G("[&_tr]:border-b",e),...t}));ma.displayName="TableHeader";const pa=d.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:G("[&_tr:last-child]:border-0",e),...t}));pa.displayName="TableBody";const kI=d.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:G("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kI.displayName="TableFooter";const Mt=d.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:G("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Mt.displayName="TableRow";const We=d.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:G("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));We.displayName="TableHead";const Ie=d.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:G("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const TI=d.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:G("mt-4 text-sm text-muted-foreground",e),...t}));TI.displayName="TableCaption";function PI(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Sm="ScrollArea",[l1,oA]=_t(Sm),[_I,Bt]=l1(Sm),c1=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[w,v]=d.useState(null),[g,S]=d.useState(null),[y,p]=d.useState(0),[x,b]=d.useState(0),[E,N]=d.useState(!1),[C,k]=d.useState(!1),_=re(t,$=>c($)),R=Ls(o);return a.jsx(_I,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:w,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:S,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:b,children:a.jsx(Y.div,{dir:R,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});c1.displayName=Sm;var u1="ScrollAreaViewport",d1=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Bt(u1,n),l=d.useRef(null),c=re(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(Y.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});d1.displayName=u1;var bn="ScrollAreaScrollbar",bm=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Bt(bn,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return d.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),o.type==="hover"?a.jsx(RI,{...r,ref:t,forceMount:n}):o.type==="scroll"?a.jsx(MI,{...r,ref:t,forceMount:n}):o.type==="auto"?a.jsx(f1,{...r,ref:t,forceMount:n}):o.type==="always"?a.jsx(Em,{...r,ref:t}):null});bm.displayName=bn;var RI=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Bt(bn,e.__scopeScrollArea),[s,i]=d.useState(!1);return d.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),a.jsx(dt,{present:n||s,children:a.jsx(f1,{"data-state":s?"visible":"hidden",...r,ref:t})})}),MI=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Bt(bn,e.__scopeScrollArea),s=e.orientation==="horizontal",i=qc(()=>c("SCROLL_END"),100),[l,c]=PI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,c]),d.useEffect(()=>{const u=o.viewport,h=s?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const w=u[h];f!==w&&(c("SCROLL"),i()),f=w};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,s,c,i]),a.jsx(dt,{present:n||l!=="hidden",children:a.jsx(Em,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:U(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:U(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),f1=d.forwardRef((e,t)=>{const n=Bt(bn,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=d.useState(!1),l=e.orientation==="horizontal",c=qc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return Ps(n.viewport,c),Ps(n.content,c),a.jsx(dt,{present:r||s,children:a.jsx(Em,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Em=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Bt(bn,e.__scopeScrollArea),s=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=v1(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,w){return FI(m,i.current,l,w)}return n==="horizontal"?a.jsx(II,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollLeft,w=Vg(m,l,o.dir);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=f(m,o.dir))}}):n==="vertical"?a.jsx(AI,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollTop,w=Vg(m,l);s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=f(m))}}):null}),II=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Bt(bn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=re(t,c,s.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(m1,{"data-orientation":"horizontal",...o,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),x1(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sc(i.paddingLeft),paddingEnd:sc(i.paddingRight)}})}})}),AI=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Bt(bn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=re(t,c,s.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(m1,{"data-orientation":"vertical",...o,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const m=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),x1(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sc(i.paddingTop),paddingEnd:sc(i.paddingBottom)}})}})}),[DI,h1]=l1(bn),m1=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,w=Bt(bn,n),[v,g]=d.useState(null),S=re(t,_=>g(_)),y=d.useRef(null),p=d.useRef(""),x=w.viewport,b=r.content-r.viewport,E=De(h),N=De(c),C=qc(f,10);function k(_){if(y.current){const R=_.clientX-y.current.left,$=_.clientY-y.current.top;u({x:R,y:$})}}return d.useEffect(()=>{const _=R=>{const $=R.target;(v==null?void 0:v.contains($))&&E(R,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[x,v,b,E]),d.useEffect(N,[r,N]),Ps(v,C),Ps(w.content,C),a.jsx(DI,{scope:n,scrollbar:v,hasThumb:o,onThumbChange:De(s),onThumbPointerUp:De(i),onThumbPositionChange:N,onThumbPointerDown:De(l),children:a.jsx(Y.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:U(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),y.current=v.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:U(e.onPointerMove,k),onPointerUp:U(e.onPointerUp,_=>{const R=_.target;R.hasPointerCapture(_.pointerId)&&R.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=p.current,w.viewport&&(w.viewport.style.scrollBehavior=""),y.current=null})})})}),oc="ScrollAreaThumb",p1=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=h1(oc,e.__scopeScrollArea);return a.jsx(dt,{present:n||o.hasThumb,children:a.jsx(OI,{ref:t,...r})})}),OI=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Bt(oc,n),i=h1(oc,n),{onThumbPositionChange:l}=i,c=re(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=qc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(h(),!u.current){const w=$I(f,l);u.current=w,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,h,l]),a.jsx(Y.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:U(e.onPointerDownCapture,f=>{const w=f.target.getBoundingClientRect(),v=f.clientX-w.left,g=f.clientY-w.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:U(e.onPointerUp,i.onThumbPointerUp)})});p1.displayName=oc;var Cm="ScrollAreaCorner",g1=d.forwardRef((e,t)=>{const n=Bt(Cm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(LI,{...e,ref:t}):null});g1.displayName=Cm;var LI=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Bt(Cm,n),[s,i]=d.useState(0),[l,c]=d.useState(0),u=!!(s&&l);return Ps(o.scrollbarX,()=>{var f;const h=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(h),c(h)}),Ps(o.scrollbarY,()=>{var f;const h=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(h),i(h)}),u?a.jsx(Y.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sc(e){return e?parseInt(e,10):0}function v1(e,t){const n=e/t;return isNaN(n)?0:n}function Yc(e){const t=v1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function FI(e,t,n,r="ltr"){const o=Yc(n),s=o/2,i=t||s,l=o-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return y1([c,u],f)(e)}function Vg(e,t,n="ltr"){const r=Yc(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Sf(e,c);return y1([0,i],[0,l])(u)}function y1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function x1(e,t){return e>0&&e<t}var $I=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,l=n.top!==s.top;(i||l)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function qc(e,t){const n=De(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ps(e,t){const n=De(t);Ve(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var w1=c1,UI=d1,WI=g1;const Tf=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(w1,{ref:r,className:G("relative overflow-hidden",e),...n,children:[a.jsx(UI,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(S1,{}),a.jsx(WI,{})]}));Tf.displayName=w1.displayName;const S1=d.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(bm,{ref:r,orientation:t,className:G("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(p1,{className:"relative flex-1 rounded-full bg-border"})}));S1.displayName=bm.displayName;const zI=()=>{const[e,t]=d.useState(null),[n,r]=d.useState(null),[o,s]=d.useState(!0),[i,l]=d.useState(null),{toast:c}=Ht(),[,u]=Co(),[h,f]=d.useState(!1);d.useEffect(()=>{const v=async()=>await gN()?!0:(c({title:"Access Denied",description:"You must be logged in to view this page.",variant:"destructive"}),u("/"),!1);(async()=>{s(!0),l(null);try{if(!await v())return;const y=await fetch("/api/status/stats",{headers:eg()});if(!y.ok){if(y.status===403){c({title:"Access Denied",description:"You don't have permission to access the admin dashboard.",variant:"destructive"}),u("/");return}throw new Error(`Failed to fetch stats: ${y.statusText}`)}let p;try{p=await y.json()}catch(x){throw console.error("Error parsing stats JSON:",x),new Error("Invalid data received from server")}p.stats?(p.stats.users||(p.stats.users={total:0,topUsers:[],userActivity:[]}),p.stats.content||(p.stats.content={movies:0,tvShows:0,watchlistEntries:0,platforms:0}),p.stats.system||(p.stats.system={database:{connected:!1,lastChecked:new Date().toISOString()},sessions:0}),p.stats.users.topUsers||(p.stats.users.topUsers=[]),p.stats.users.userActivity||(p.stats.users.userActivity=[])):p.stats={users:{total:0,topUsers:[],userActivity:[]},content:{movies:0,tvShows:0,watchlistEntries:0,platforms:0},system:{database:{connected:!1,lastChecked:new Date().toISOString()},sessions:0}},t(p);try{const x=await fetch("/api/status/user-activity",{headers:eg()});if(x.ok){const b=await x.json();b.recentRegistrations||(b.recentRegistrations=[]),b.recentActivity||(b.recentActivity=[]),r(b)}}catch(x){console.error("Error fetching activity data:",x)}}catch(S){console.error("Error fetching admin data:",S),l(S instanceof Error?S.message:"Failed to load admin dashboard data"),c({title:"Error",description:"Failed to load admin dashboard data. Please try again.",variant:"destructive"})}finally{s(!1)}})()},[c,u]);const m=v=>{if(!v)return"Never";if(v==="Invalid date")return"Unknown";try{let g;if(v.includes(" ")&&!v.includes("T")){const[S,y]=v.split(" "),[p,x,b]=S.split("-").map(Number);let[E,N,C]=[0,0,0];if(y){const k=y.split(":");E=parseInt(k[0]||"0"),N=parseInt(k[1]||"0"),k[2]&&(C=parseInt(k[2].split(".")[0]))}g=new Date(Date.UTC(p,x-1,b,E,N,C))}else g=new Date(v);return isNaN(g.getTime())?String(v):PM(g,new Date,{addSuffix:!0})}catch{return String(v)}},w=v=>{switch(v){case"to_watch":return a.jsx(It,{variant:"outline",children:"To Watch"});case"watching":return a.jsx(It,{variant:"secondary",children:"Watching"});case"watched":return a.jsx(It,{variant:"default",children:"Watched"});default:return a.jsx(It,{variant:"outline",children:v})}};return o?a.jsxs("div",{className:"container mx-auto py-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(Zt,{className:"h-8 w-1/3"}),a.jsx(Zt,{className:"h-4 w-2/3"})]}),a.jsx(Qe,{children:a.jsx(Zt,{className:"h-24 w-full"})})]}),a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(Zt,{className:"h-8 w-1/3"}),a.jsx(Zt,{className:"h-4 w-2/3"})]}),a.jsx(Qe,{children:a.jsx(Zt,{className:"h-24 w-full"})})]})]})]}):i?a.jsx("div",{className:"container mx-auto py-6",children:a.jsxs(nc,{variant:"destructive",children:[a.jsx(kf,{children:"Error"}),a.jsx(rc,{children:i})]})}):e?a.jsxs("div",{className:"container mx-auto py-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),e.environment&&a.jsx("div",{className:"mt-1",children:a.jsxs(It,{variant:e.environment==="production"?"destructive":"default",className:"text-sm",children:[e.environment==="production"?"PRODUCTION":"DEVELOPMENT"," ENVIRONMENT"]})})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Data"}),a.jsx(ee,{onClick:()=>{const v=`?cache=${Date.now()}`;window.location.href=window.location.pathname+v},variant:"default",children:"Force Refresh (Clear Cache)"})]})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"System Health"}),a.jsx(Ur,{children:"Overview of system performance and status"})]}),a.jsx(Qe,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Database Status"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${e.stats.system.database.connected?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{children:e.stats.system.database.connected?"Connected":"Disconnected"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Last checked: ",m(e.stats.system.database.lastChecked)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Active Sessions"}),a.jsx("p",{className:"text-2xl font-bold",children:e.stats.system.sessions})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Last Updated"}),a.jsx("p",{children:m(e.timestamp)})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"pb-2",children:a.jsx(pt,{children:"Users"})}),a.jsx(Qe,{children:a.jsx("div",{className:"text-3xl font-bold",children:e.stats.users.total})})]}),a.jsxs(Ge,{children:[a.jsx(et,{className:"pb-2",children:a.jsx(pt,{children:"Movies"})}),a.jsx(Qe,{children:a.jsx("div",{className:"text-3xl font-bold",children:e.stats.content.movies})})]}),a.jsxs(Ge,{children:[a.jsx(et,{className:"pb-2",children:a.jsx(pt,{children:"TV Shows"})}),a.jsx(Qe,{children:a.jsx("div",{className:"text-3xl font-bold",children:e.stats.content.tvShows||0})})]}),a.jsxs(Ge,{children:[a.jsx(et,{className:"pb-2",children:a.jsx(pt,{children:"Watchlist Entries"})}),a.jsxs(Qe,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.stats.content.watchlistEntries}),a.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Each entry is a user-movie relationship"})]})]})]}),a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"Media Type Breakdown"}),a.jsx(Ur,{children:"Distribution of unique movies vs TV shows in the catalog"})]}),a.jsx(Qe,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Movies"}),a.jsx("span",{className:"font-bold",children:e.stats.content.movies})]}),a.jsx("div",{className:"h-2.5 w-full bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.round(e.stats.content.movies/(e.stats.content.movies+(e.stats.content.tvShows||0))*100)}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(e.stats.content.movies/(e.stats.content.movies+(e.stats.content.tvShows||0))*100),"% of catalog"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"TV Shows"}),a.jsx("span",{className:"font-bold",children:e.stats.content.tvShows||0})]}),a.jsx("div",{className:"h-2.5 w-full bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${Math.round((e.stats.content.tvShows||0)/(e.stats.content.movies+(e.stats.content.tvShows||0))*100)}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round((e.stats.content.tvShows||0)/(e.stats.content.movies+(e.stats.content.tvShows||0))*100),"% of catalog"]})]})]})})]}),a.jsxs(NI,{defaultValue:"users",children:[a.jsxs(i1,{className:"mb-4",children:[a.jsx(da,{value:"users",children:"User Activity"}),a.jsx(da,{value:"topUsers",children:"Top Users"}),n&&a.jsxs(a.Fragment,{children:[a.jsx(da,{value:"recent",children:"Recent Activity"}),a.jsx(da,{value:"registrations",children:"New Registrations"})]})]}),a.jsx(fa,{value:"users",children:a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"User Activity"}),a.jsx(Ur,{children:"All users sorted by recent activity"})]}),a.jsx(Qe,{children:a.jsx(Tf,{className:"h-[400px]",children:a.jsxs(ha,{children:[a.jsx(ma,{children:a.jsxs(Mt,{children:[a.jsx(We,{children:"ID"}),a.jsx(We,{children:"Username"}),a.jsx(We,{children:"Display Name"}),a.jsx(We,{children:"Watchlist Count"}),a.jsx(We,{children:"Last Activity"}),a.jsx(We,{children:"Registration Date"})]})}),a.jsx(pa,{children:e.stats.users.userActivity&&e.stats.users.userActivity.length>0?e.stats.users.userActivity.map(v=>a.jsxs(Mt,{children:[a.jsx(Ie,{children:v.id}),a.jsxs(Ie,{children:[v.username,v.database_environment&&a.jsx(It,{variant:v.database_environment==="production"?"destructive":"default",className:"ml-2 text-xs",children:v.database_environment})]}),a.jsx(Ie,{children:v.display_name||"-"}),a.jsx(Ie,{children:v.watchlist_count}),a.jsx(Ie,{children:m(v.last_activity)}),a.jsx(Ie,{children:m(v.last_login)})]},v.id)):a.jsx(Mt,{children:a.jsx(Ie,{colSpan:6,className:"text-center py-4",children:"No user activity data available"})})})]})})})]})}),a.jsx(fa,{value:"topUsers",children:a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"Top Users"}),a.jsx(Ur,{children:"Users with the most watchlist entries"})]}),a.jsx(Qe,{children:a.jsxs(ha,{children:[a.jsx(ma,{children:a.jsxs(Mt,{children:[a.jsx(We,{children:"Rank"}),a.jsx(We,{children:"Username"}),a.jsx(We,{children:"Display Name"}),a.jsx(We,{children:"Watchlist Entries"})]})}),a.jsx(pa,{children:e.stats.users.topUsers&&e.stats.users.topUsers.length>0?e.stats.users.topUsers.map((v,g)=>a.jsxs(Mt,{children:[a.jsxs(Ie,{children:["#",g+1]}),a.jsxs(Ie,{children:[v.username,v.database_environment&&a.jsx(It,{variant:v.database_environment==="production"?"destructive":"default",className:"ml-2 text-xs",children:v.database_environment})]}),a.jsx(Ie,{children:v.display_name||"-"}),a.jsx(Ie,{children:v.entry_count})]},v.id)):a.jsx(Mt,{children:a.jsx(Ie,{colSpan:4,className:"text-center py-4",children:"No watchlist data available"})})})]})})]})}),n&&a.jsx(fa,{value:"recent",children:a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"Recent Watchlist Activity"}),a.jsx(Ur,{children:"Latest watchlist updates"})]}),a.jsx(Qe,{children:a.jsx(Tf,{className:"h-[400px]",children:a.jsxs(ha,{children:[a.jsx(ma,{children:a.jsxs(Mt,{children:[a.jsx(We,{children:"User"}),a.jsx(We,{children:"Movie"}),a.jsx(We,{children:"Status"}),a.jsx(We,{children:"Date"})]})}),a.jsx(pa,{children:n.recentActivity.map((v,g)=>a.jsxs(Mt,{children:[a.jsxs(Ie,{children:[v.username,v.database_environment&&a.jsx(It,{variant:v.database_environment==="production"?"destructive":"default",className:"ml-2 text-xs",children:v.database_environment})]}),a.jsx(Ie,{className:"max-w-[200px] truncate",children:v.title}),a.jsx(Ie,{children:w(v.status)}),a.jsx(Ie,{children:m(v.created_at)})]},g))})]})})})]})}),n&&a.jsx(fa,{value:"registrations",children:a.jsxs(Ge,{children:[a.jsxs(et,{children:[a.jsx(pt,{children:"Recent Registrations"}),a.jsx(Ur,{children:Pr()?"Users who joined in the last 7 days":"All users in development environment"})]}),a.jsx(Qe,{children:a.jsxs(ha,{children:[a.jsx(ma,{children:a.jsxs(Mt,{children:[a.jsx(We,{children:"Username"}),a.jsx(We,{children:"Display Name"}),a.jsx(We,{children:"Registration Date"})]})}),a.jsx(pa,{children:n.recentRegistrations.length>0?n.recentRegistrations.map((v,g)=>a.jsxs(Mt,{children:[a.jsxs(Ie,{children:[v.username,v.database_environment&&a.jsx(It,{variant:v.database_environment==="production"?"destructive":"default",className:"ml-2 text-xs",children:v.database_environment})]}),a.jsx(Ie,{children:v.display_name||"-"}),a.jsx(Ie,{children:m(v.created_at)})]},g)):a.jsx(Mt,{children:a.jsx(Ie,{colSpan:3,className:"text-center py-6",children:Pr()?"No new registrations in the last 7 days":"No user registrations available"})})})]})})]})})]})]})]}):a.jsx("div",{className:"container mx-auto py-6",children:a.jsxs(nc,{children:[a.jsx(kf,{children:"No Data"}),a.jsx(rc,{children:"No admin data available. You may not have the proper permissions."})]})})};function Qu({path:e,component:t}){const{user:n,isLoading:r}=Ws(),[o,s]=d.useState(!1),[i,l]=d.useState(null);Co();const c=d.useCallback(async()=>{console.log("Protected route: JWT token verification starting"),s(!0);try{if(!xn()){console.log("No JWT token found, not authenticated"),l(!1);return}const y=vN();y?(console.log("JWT token contains valid user data"),we.setQueryData(["/api/jwt/user"],y),l(!0)):(console.log("JWT token exists but couldn't be parsed, might be invalid"),l(!1))}catch(S){console.error("Protected route: JWT verification error",S),l(!1)}finally{s(!1)}},[]),u=d.useCallback(()=>{try{const S=localStorage.getItem("movietracker_intentional_logout_time");if(!S)return!1;const y=parseInt(S,10),p=Date.now();return!isNaN(y)&&p-y<3e3}catch{return!1}},[]);d.useEffect(()=>{if(u()){console.log("ProtectedRoute: Skipping verification during logout flow");return}if(!r&&!o&&!n&&i===null)console.log("ProtectedRoute: Starting JWT verification because user is null but authentication status is unknown"),c();else if(!r&&!o)if(n){console.log("ProtectedRoute: Using cached user authentication:",n.username);try{localStorage.setItem("movietracker_user",JSON.stringify(n)),localStorage.setItem("movietracker_username",n.username);const S=Date.now(),y={timestamp:S,username:n.username,userId:n.id,lastActive:S,route:e};localStorage.setItem("movietracker_auth_heartbeat",JSON.stringify(y))}catch(S){console.error("Failed to create backup for user:",S)}}else i!==null&&console.log("ProtectedRoute: Using verified JWT status:",i)},[r,o,n,i,c,e]);const h=window.location.hostname.includes(".replit.app")||!window.location.hostname.includes("localhost"),f=h?1e4:5e3,m=window.__tempRegistrationData&&Date.now()-window.__tempRegistrationData.timestamp<f,w=(()=>{try{return!!localStorage.getItem("movietracker_user")}catch{return!1}})(),v=(()=>{try{const S=new URLSearchParams(window.location.search),y=S.get("emergencyLogin"),p=S.get("directAuth"),x=S.get("token"),b=S.get("user");if((y==="true"||p==="true")&&b)return console.log(`[EMERGENCY] Detected emergency login parameters for user: ${b}`),sessionStorage.setItem("emergency_user",b),sessionStorage.setItem("emergency_auth","true"),sessionStorage.setItem("emergency_timestamp",Date.now().toString()),x&&(console.log("[EMERGENCY] Using token from URL parameters"),localStorage.setItem("jwt_token",x),sessionStorage.setItem("jwt_token",x)),!0;if(sessionStorage.getItem("emergency_auth")==="true"){const N=sessionStorage.getItem("emergency_user");return console.log(`[EMERGENCY] Using stored emergency auth for user: ${N}`),!0}return!1}catch(S){return console.error("[EMERGENCY] Error checking emergency auth:",S),!1}})(),g=h&&m&&w;if(r||o)if(v){console.log("[EMERGENCY] Using emergency authentication to bypass normal loading");try{const S=sessionStorage.getItem("emergency_user");if(S){const y={id:-1,username:S,displayName:S,emergency:!0};we.setQueryData(["/api/jwt/user"],y),console.log("[EMERGENCY] Created synthetic user from emergency data:",y)}}catch(S){console.error("[EMERGENCY] Error creating synthetic user:",S)}}else return a.jsx(tr,{path:e,children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[a.jsx(cg,{className:"h-8 w-8 animate-spin text-border"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:m?"Completing your registration...":"Verifying your authentication..."})]})});if(n||i===!0||m||g||v){if(v&&!n){console.log("[EMERGENCY] Using emergency authentication in main render path");try{const S=sessionStorage.getItem("emergency_user");if(S){const y={id:-1,username:S,displayName:S,emergency:!0};return we.setQueryData(["/api/jwt/user"],y),console.log("[EMERGENCY] Created synthetic user for immediate render:",y),a.jsx(tr,{path:e,children:a.jsx(t,{})})}}catch(S){console.error("[EMERGENCY] Error in emergency auth render path:",S)}}if((m||g)&&!n&&!i){if(console.log("Auto-login still in progress, showing loading state"),h&&w)try{console.log("In production with localStorage user data - attempting emergency authentication");const S=JSON.parse(localStorage.getItem("movietracker_user"));S&&(we.setQueryData(["/api/jwt/user"],S),xn()&&console.log("Found existing JWT token, using stored user data"))}catch(S){console.error("Failed to recover user from localStorage",S)}return a.jsx(tr,{path:e,children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[a.jsx(cg,{className:"h-8 w-8 animate-spin text-border"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:h?"Finalizing your registration...":"Setting up your account..."})]})})}return a.jsx(tr,{path:e,children:a.jsx(t,{})})}return a.jsx(tr,{path:e,children:a.jsx(Rj,{to:"/auth"})})}const HI=({showDebug:e=!1})=>{const[t,n]=d.useState(!1),[r,o]=d.useState(null),{toast:s}=Ht(),[,i]=Co(),l=Nn.useContext(yi);return d.useEffect(()=>{const c=new URL(window.location.href),u=c.searchParams.get("emergencyLogin"),h=c.searchParams.get("localAuth"),f=c.searchParams.get("directAuth"),m=c.searchParams.get("user");if((u||h||f)&&m){if(console.log(`[EMERGENCY] Detected emergency login for user: ${m}`),sessionStorage.setItem("emergency_user",m),sessionStorage.setItem("emergency_auth","true"),sessionStorage.setItem("emergency_timestamp",Date.now().toString()),l&&!l.user){const w={id:parseInt(sessionStorage.getItem("emergency_user_id")||"-999"),username:m,displayName:m,emergency:!0};typeof l._forceUpdateUser=="function"&&(l._forceUpdateUser(w),console.log("[EMERGENCY] Updated auth context with emergency user")),o(m),n(!0),s({title:"Emergency Authentication Active",description:`You are now logged in as ${m} using emergency mode.`,variant:"default"}),window.history.replaceState({},document.title,window.location.pathname)}}else{const w=sessionStorage.getItem("emergency_auth"),v=sessionStorage.getItem("emergency_user");if(w==="true"&&v&&(console.log(`[EMERGENCY] Found stored emergency session for ${v}`),o(v),n(!0),l&&!l.user)){const g={id:parseInt(sessionStorage.getItem("emergency_user_id")||"-999"),username:v,displayName:v,emergency:!0};typeof l._forceUpdateUser=="function"&&(l._forceUpdateUser(g),console.log("[EMERGENCY] Updated auth context with emergency user from session"))}}},[i,s,l]),e?a.jsxs("div",{style:{position:"fixed",bottom:10,right:10,background:"#f0f0f0",padding:10,borderRadius:5,fontSize:12,zIndex:9999,opacity:.8},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Emergency Auth:"})," ",t?"Active":"Inactive"]}),r&&a.jsxs("div",{children:[a.jsx("strong",{children:"Username:"})," ",r]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Timestamp:"})," ",sessionStorage.getItem("emergency_timestamp")||"None"]})]}):null};function BI(){typeof window<"u"&&(window.emergencyAuth={login:e=>{console.log(`[EMERGENCY] Manual emergency login for ${e}`),sessionStorage.setItem("emergency_user",e),sessionStorage.setItem("emergency_auth","true"),sessionStorage.setItem("emergency_timestamp",Date.now().toString()),window.location.href=`/?emergencyLogin=true&user=${e}&directAuth=true`},loginWithToken:(e,t)=>{console.log(`[EMERGENCY] Direct token login for ${t}`),localStorage.setItem("jwt_token",e),sessionStorage.setItem("jwt_token",e),document.cookie=`jwt_token=${e}; path=/; max-age=${7*24*60*60}`,sessionStorage.setItem("emergency_user",t),sessionStorage.setItem("emergency_auth","true"),sessionStorage.setItem("emergency_timestamp",Date.now().toString()),window.location.href=`/?token=${e}&emergencyLogin=true&user=${t}&directAuth=true`},logout:()=>{console.log("[EMERGENCY] Manual emergency logout"),localStorage.removeItem("jwt_token"),sessionStorage.removeItem("jwt_token"),sessionStorage.removeItem("emergency_user"),sessionStorage.removeItem("emergency_auth"),sessionStorage.removeItem("emergency_timestamp"),document.cookie="jwt_token=; path=/; max-age=0",window.location.href="/auth"}})}function VI(){const[e,t]=Co(),{user:n,logoutMutation:r}=Ws(),o={currentUser:n,setCurrentUser:()=>{},login:()=>{},logout:()=>r.mutateAsync(),isAuthenticated:!!n};return a.jsx(BS.Provider,{value:o,children:a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(iR,{onTabChange:s=>{s==="search"?t("/"):s==="watchlist"&&t("/watched")},activeTab:e==="/"?"search":"watchlist"}),a.jsx("main",{className:"flex-grow",children:a.jsxs(_j,{children:[a.jsx(Qu,{path:"/",component:vI}),a.jsx(Qu,{path:"/watched",component:SI}),a.jsx(Qu,{path:"/admin",component:zI}),a.jsx(tr,{path:"/auth",component:bI}),a.jsx(tr,{path:"/api/:rest*",children:()=>null}),a.jsx(tr,{component:nT})]})}),a.jsx(eT,{})]})})}function KI(){return d.useEffect(()=>{BI(),console.log("[EMERGENCY] Emergency auth system initialized")},[]),a.jsx(Xj,{client:we,children:a.jsxs(Z2,{children:[a.jsx(VI,{}),a.jsx(HI,{showDebug:!1})]})})}px(document.getElementById("root")).render(a.jsx(KI,{}));
